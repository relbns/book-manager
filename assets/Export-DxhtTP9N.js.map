{"version":3,"file":"Export-DxhtTP9N.js","sources":["../../node_modules/@ant-design/icons-svg/es/asn/FilterOutlined.js","../../node_modules/@ant-design/icons/es/icons/DownloadOutlined.js","../../node_modules/@ant-design/icons/es/icons/FilterOutlined.js","../../src/pages/Export.jsx"],"sourcesContent":["// This icon file is generated automatically.\nvar FilterOutlined = { \"icon\": { \"tag\": \"svg\", \"attrs\": { \"viewBox\": \"64 64 896 896\", \"focusable\": \"false\" }, \"children\": [{ \"tag\": \"path\", \"attrs\": { \"d\": \"M880.1 154H143.9c-24.5 0-39.8 26.7-27.5 48L349 597.4V838c0 17.7 14.2 32 31.8 32h262.4c17.6 0 31.8-14.3 31.8-32V597.4L907.7 202c12.2-21.3-3.1-48-27.6-48zM603.4 798H420.6V642h182.9v156zm9.6-236.6l-9.5 16.6h-183l-9.5-16.6L212.7 226h598.6L613 561.4z\" } }] }, \"name\": \"filter\", \"theme\": \"outlined\" };\nexport default FilterOutlined;\n","function _extends() { _extends = Object.assign ? Object.assign.bind() : function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n// GENERATE BY ./scripts/generate.ts\n// DON NOT EDIT IT MANUALLY\n\nimport * as React from 'react';\nimport DownloadOutlinedSvg from \"@ant-design/icons-svg/es/asn/DownloadOutlined\";\nimport AntdIcon from \"../components/AntdIcon\";\nconst DownloadOutlined = (props, ref) => /*#__PURE__*/React.createElement(AntdIcon, _extends({}, props, {\n  ref: ref,\n  icon: DownloadOutlinedSvg\n}));\n\n/**![download](data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNTAiIGhlaWdodD0iNTAiIGZpbGw9IiNjYWNhY2EiIHZpZXdCb3g9IjY0IDY0IDg5NiA4OTYiIGZvY3VzYWJsZT0iZmFsc2UiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PHBhdGggZD0iTTUwNS43IDY2MWE4IDggMCAwMDEyLjYgMGwxMTItMTQxLjdjNC4xLTUuMi40LTEyLjktNi4zLTEyLjloLTc0LjFWMTY4YzAtNC40LTMuNi04LTgtOGgtNjBjLTQuNCAwLTggMy42LTggOHYzMzguM0g0MDBjLTYuNyAwLTEwLjQgNy43LTYuMyAxMi45bDExMiAxNDEuOHpNODc4IDYyNmgtNjBjLTQuNCAwLTggMy42LTggOHYxNTRIMjE0VjYzNGMwLTQuNC0zLjYtOC04LThoLTYwYy00LjQgMC04IDMuNi04IDh2MTk4YzAgMTcuNyAxNC4zIDMyIDMyIDMyaDY4NGMxNy43IDAgMzItMTQuMyAzMi0zMlY2MzRjMC00LjQtMy42LTgtOC04eiIgLz48L3N2Zz4=) */\nconst RefIcon = /*#__PURE__*/React.forwardRef(DownloadOutlined);\nif (process.env.NODE_ENV !== 'production') {\n  RefIcon.displayName = 'DownloadOutlined';\n}\nexport default RefIcon;","function _extends() { _extends = Object.assign ? Object.assign.bind() : function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n// GENERATE BY ./scripts/generate.ts\n// DON NOT EDIT IT MANUALLY\n\nimport * as React from 'react';\nimport FilterOutlinedSvg from \"@ant-design/icons-svg/es/asn/FilterOutlined\";\nimport AntdIcon from \"../components/AntdIcon\";\nconst FilterOutlined = (props, ref) => /*#__PURE__*/React.createElement(AntdIcon, _extends({}, props, {\n  ref: ref,\n  icon: FilterOutlinedSvg\n}));\n\n/**![filter](data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNTAiIGhlaWdodD0iNTAiIGZpbGw9IiNjYWNhY2EiIHZpZXdCb3g9IjY0IDY0IDg5NiA4OTYiIGZvY3VzYWJsZT0iZmFsc2UiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PHBhdGggZD0iTTg4MC4xIDE1NEgxNDMuOWMtMjQuNSAwLTM5LjggMjYuNy0yNy41IDQ4TDM0OSA1OTcuNFY4MzhjMCAxNy43IDE0LjIgMzIgMzEuOCAzMmgyNjIuNGMxNy42IDAgMzEuOC0xNC4zIDMxLjgtMzJWNTk3LjRMOTA3LjcgMjAyYzEyLjItMjEuMy0zLjEtNDgtMjcuNi00OHpNNjAzLjQgNzk4SDQyMC42VjY0MmgxODIuOXYxNTZ6bTkuNi0yMzYuNmwtOS41IDE2LjZoLTE4M2wtOS41LTE2LjZMMjEyLjcgMjI2aDU5OC42TDYxMyA1NjEuNHoiIC8+PC9zdmc+) */\nconst RefIcon = /*#__PURE__*/React.forwardRef(FilterOutlined);\nif (process.env.NODE_ENV !== 'production') {\n  RefIcon.displayName = 'FilterOutlined';\n}\nexport default RefIcon;","import React, { useState, useEffect } from 'react';\nimport {\n  Card,\n  Typography,\n  Select,\n  Button,\n  Alert,\n  Table,\n  Space,\n  Checkbox,\n  Input,\n  DatePicker,\n  Form,\n  message,\n} from 'antd';\nimport {\n  ExportOutlined,\n  DownloadOutlined,\n  FilterOutlined,\n  FileTextOutlined,\n  WarningOutlined,\n} from '@ant-design/icons';\nimport styled from 'styled-components';\nimport { useAppContext } from '../context/AppContext';\nimport csvService from '../services/csvService';\nimport dayjs from 'dayjs';\n\nconst { Title, Text, Paragraph } = Typography;\nconst { Option } = Select;\nconst { RangePicker } = DatePicker;\n\nconst StyledCard = styled(Card)`\n  margin-bottom: 24px;\n`;\n\nconst ExportContainer = styled.div`\n  max-width: 800px;\n  margin: 0 auto;\n`;\n\nconst StyledTable = styled(Table)`\n  .ant-table-thead > tr > th {\n    text-align: right;\n  }\n\n  .ant-table-cell {\n    text-align: right;\n  }\n`;\n\nconst Export = () => {\n  // Context\n  const { books, loans, categories, authors, publishers } = useAppContext();\n\n  // State\n  const [exportType, setExportType] = useState('books');\n  const [exportData, setExportData] = useState([]);\n  const [filteredData, setFilteredData] = useState([]);\n  const [selectedFields, setSelectedFields] = useState([]);\n  const [form] = Form.useForm();\n  const [showFilters, setShowFilters] = useState(false);\n\n  // Load data based on selected type\n  useEffect(() => {\n    let data = [];\n    let fields = [];\n\n    switch (exportType) {\n      case 'books':\n        data = [...books];\n        fields = [\n          'id',\n          'title',\n          'author',\n          'publisher',\n          'isbn',\n          'publicationYear',\n          'language',\n          'categories',\n        ];\n        break;\n      case 'authors':\n        data = [...authors];\n        fields = ['id', 'name', 'biography', 'birthYear', 'nationality'];\n        break;\n      case 'categories':\n        data = [...categories];\n        fields = ['id', 'name', 'description', 'color', 'parent'];\n        break;\n      case 'publishers':\n        data = [...publishers];\n        fields = ['id', 'name', 'location', 'website'];\n        break;\n      case 'loans':\n        data = [...loans];\n        fields = [\n          'id',\n          'bookId',\n          'borrowerName',\n          'borrowerContact',\n          'loanDate',\n          'dueDate',\n          'returnDate',\n          'status',\n        ];\n        break;\n      default:\n        data = [];\n        fields = [];\n    }\n\n    setExportData(data);\n    setFilteredData(data);\n    setSelectedFields(fields);\n    form.resetFields();\n  }, [exportType, books, authors, categories, publishers, loans]);\n\n  // Handle export\n  const handleExport = () => {\n    if (!filteredData.length) {\n      message.error('אין נתונים לייצוא');\n      return;\n    }\n\n    try {\n      // Apply field selection if not all fields are selected\n      let dataToExport = filteredData;\n\n      if (\n        selectedFields.length > 0 &&\n        selectedFields.length < Object.keys(filteredData[0] || {}).length\n      ) {\n        dataToExport = filteredData.map((item) => {\n          const newItem = {};\n          selectedFields.forEach((field) => {\n            newItem[field] = item[field];\n          });\n          return newItem;\n        });\n      }\n\n      // Format filename with date\n      const date = dayjs().format('YYYY-MM-DD');\n      const fileName = `${exportType}_${date}.csv`;\n\n      // Export to CSV\n      csvService.exportToCSV(dataToExport, fileName);\n\n      message.success(`יוצאו ${dataToExport.length} רשומות בהצלחה`);\n    } catch (err) {\n      message.error(`שגיאה בייצוא: ${err.message}`);\n    }\n  };\n\n  // Apply filters\n  const handleApplyFilters = (values) => {\n    let result = [...exportData];\n\n    // Apply text search if provided\n    if (values.searchText) {\n      const searchText = values.searchText.toLowerCase();\n\n      result = result.filter((item) => {\n        // Search in all string fields\n        return Object.entries(item).some(([key, value]) => {\n          return (\n            typeof value === 'string' &&\n            value.toLowerCase().includes(searchText)\n          );\n        });\n      });\n    }\n\n    // Apply date range filter for loans\n    if (\n      exportType === 'loans' &&\n      values.dateRange &&\n      values.dateRange.length === 2\n    ) {\n      const startDate = values.dateRange[0].startOf('day');\n      const endDate = values.dateRange[1].endOf('day');\n\n      result = result.filter((loan) => {\n        const loanDate = dayjs(loan.loanDate);\n        return loanDate.isAfter(startDate) && loanDate.isBefore(endDate);\n      });\n    }\n\n    // Apply status filter for loans\n    if (exportType === 'loans' && values.status && values.status.length > 0) {\n      result = result.filter((loan) => values.status.includes(loan.status));\n    }\n\n    // Apply category filter for books\n    if (\n      exportType === 'books' &&\n      values.categories &&\n      values.categories.length > 0\n    ) {\n      result = result.filter((book) => {\n        if (!book.categories) return false;\n        return book.categories.some((catId) =>\n          values.categories.includes(catId)\n        );\n      });\n    }\n\n    setFilteredData(result);\n    message.info(`נמצאו ${result.length} רשומות`);\n  };\n\n  // Reset filters\n  const handleResetFilters = () => {\n    form.resetFields();\n    setFilteredData(exportData);\n  };\n\n  // Handle field selection\n  const handleFieldsChange = (checkedValues) => {\n    setSelectedFields(checkedValues);\n  };\n\n  // Get all available fields for current export type\n  const getAvailableFields = () => {\n    if (!exportData.length) return [];\n\n    return Object.keys(exportData[0]).map((field) => ({\n      label: field,\n      value: field,\n    }));\n  };\n\n  // Get columns for preview table\n  const getPreviewColumns = () => {\n    if (!filteredData.length) return [];\n\n    const allFields = Object.keys(filteredData[0]);\n    const fieldsToShow =\n      selectedFields.length > 0\n        ? selectedFields.filter((f) => allFields.includes(f))\n        : allFields;\n\n    return fieldsToShow.map((key) => ({\n      title: key,\n      dataIndex: key,\n      key,\n      render: (text) => {\n        if (text === null || text === undefined) return '-';\n        if (Array.isArray(text)) return text.join(', ');\n        if (typeof text === 'object') return JSON.stringify(text);\n        return String(text);\n      },\n    }));\n  };\n\n  // Get filter form based on export type\n  const renderFilterForm = () => {\n    switch (exportType) {\n      case 'books':\n        return (\n          <>\n            <Form.Item name=\"searchText\" label=\"חיפוש טקסט\">\n              <Input placeholder=\"חיפוש לפי שם, מחבר או מק״ט\" />\n            </Form.Item>\n            <Form.Item name=\"categories\" label=\"קטגוריות\">\n              <Select mode=\"multiple\" placeholder=\"בחר קטגוריות\" allowClear>\n                {categories.map((category) => (\n                  <Option key={category.id} value={category.id}>\n                    {category.name}\n                  </Option>\n                ))}\n              </Select>\n            </Form.Item>\n          </>\n        );\n      case 'loans':\n        return (\n          <>\n            <Form.Item name=\"searchText\" label=\"חיפוש טקסט\">\n              <Input placeholder=\"חיפוש לפי שם השואל\" />\n            </Form.Item>\n            <Form.Item name=\"dateRange\" label=\"טווח תאריכים\">\n              <RangePicker style={{ width: '100%' }} />\n            </Form.Item>\n            <Form.Item name=\"status\" label=\"סטטוס השאלה\">\n              <Select mode=\"multiple\" placeholder=\"בחר סטטוס\" allowClear>\n                <Option value=\"active\">פעיל</Option>\n                <Option value=\"returned\">הוחזר</Option>\n                <Option value=\"overdue\">באיחור</Option>\n              </Select>\n            </Form.Item>\n          </>\n        );\n      default:\n        return (\n          <Form.Item name=\"searchText\" label=\"חיפוש טקסט\">\n            <Input placeholder=\"חיפוש בכל השדות\" />\n          </Form.Item>\n        );\n    }\n  };\n\n  return (\n    <ExportContainer>\n      <StyledCard>\n        <Title level={2}>ייצוא נתונים</Title>\n\n        <Space direction=\"vertical\" style={{ width: '100%' }}>\n          <Select\n            value={exportType}\n            onChange={setExportType}\n            style={{ width: '100%', marginBottom: 16 }}\n          >\n            <Option value=\"books\">ספרים</Option>\n            <Option value=\"authors\">סופרים</Option>\n            <Option value=\"categories\">קטגוריות</Option>\n            <Option value=\"publishers\">הוצאות לאור</Option>\n            <Option value=\"loans\">השאלות</Option>\n          </Select>\n\n          <Card\n            title={\n              <div style={{ display: 'flex', alignItems: 'center' }}>\n                <FilterOutlined style={{ marginLeft: 8 }} />\n                <span>סינון נתונים</span>\n              </div>\n            }\n            type=\"inner\"\n            extra={\n              <Button type=\"link\" onClick={() => setShowFilters(!showFilters)}>\n                {showFilters ? 'הסתר' : 'הצג'}\n              </Button>\n            }\n            style={{ marginBottom: 16 }}\n          >\n            {showFilters && (\n              <Form form={form} layout=\"vertical\" onFinish={handleApplyFilters}>\n                {renderFilterForm()}\n\n                <Form.Item>\n                  <Space>\n                    <Button type=\"primary\" htmlType=\"submit\">\n                      החל סינון\n                    </Button>\n                    <Button onClick={handleResetFilters}>איפוס</Button>\n                  </Space>\n                </Form.Item>\n              </Form>\n            )}\n\n            {!showFilters && (\n              <Text type=\"secondary\">\n                לחץ על 'הצג' כדי להגדיר סינונים לנתונים לפני הייצוא\n              </Text>\n            )}\n          </Card>\n\n          <Card\n            title={\n              <div style={{ display: 'flex', alignItems: 'center' }}>\n                <FileTextOutlined style={{ marginLeft: 8 }} />\n                <span>שדות לייצוא</span>\n              </div>\n            }\n            type=\"inner\"\n            style={{ marginBottom: 16 }}\n          >\n            <Checkbox.Group\n              options={getAvailableFields()}\n              value={selectedFields}\n              onChange={handleFieldsChange}\n            />\n\n            {selectedFields.length === 0 && (\n              <Alert\n                message=\"אנא בחר לפחות שדה אחד לייצוא\"\n                type=\"warning\"\n                showIcon\n                icon={<WarningOutlined />}\n                style={{ marginTop: 16 }}\n              />\n            )}\n          </Card>\n\n          <div style={{ marginBottom: 16 }}>\n            <Paragraph>{filteredData.length} רשומות נמצאו לייצוא</Paragraph>\n          </div>\n\n          {filteredData.length > 0 && (\n            <>\n              <StyledTable\n                dataSource={filteredData.slice(0, 5)}\n                columns={getPreviewColumns()}\n                pagination={false}\n                size=\"small\"\n                scroll={{ x: 'max-content' }}\n                rowKey=\"id\"\n              />\n\n              {filteredData.length > 5 && (\n                <div style={{ textAlign: 'center', padding: '8px 0' }}>\n                  <Text type=\"secondary\">\n                    מוצגות 5 רשומות ראשונות מתוך {filteredData.length}\n                  </Text>\n                </div>\n              )}\n            </>\n          )}\n\n          <div\n            style={{ marginTop: 16, display: 'flex', justifyContent: 'center' }}\n          >\n            <Button\n              type=\"primary\"\n              icon={<DownloadOutlined />}\n              onClick={handleExport}\n              disabled={\n                filteredData.length === 0 || selectedFields.length === 0\n              }\n              size=\"large\"\n            >\n              ייצא ל-CSV\n            </Button>\n          </div>\n\n          {filteredData.length === 0 && (\n            <Alert\n              message=\"אין נתונים לייצוא\"\n              description=\"אנא נסה לשנות את הסינון או לבחור סוג נתונים אחר.\"\n              type=\"info\"\n              showIcon\n              style={{ marginTop: 16 }}\n            />\n          )}\n        </Space>\n      </StyledCard>\n    </ExportContainer>\n  );\n};\n\nexport default Export;\n"],"names":["FilterOutlined","_extends","target","i","source","key","DownloadOutlined","props","ref","React.createElement","AntdIcon","DownloadOutlinedSvg","RefIcon","React.forwardRef","FilterOutlinedSvg","Title","Text","Paragraph","Typography","Option","Select","RangePicker","DatePicker","StyledCard","styled","Card","ExportContainer","StyledTable","Table","Export","books","loans","categories","authors","publishers","useAppContext","exportType","setExportType","useState","exportData","setExportData","filteredData","setFilteredData","selectedFields","setSelectedFields","form","Form","showFilters","setShowFilters","useEffect","data","fields","handleExport","message","dataToExport","item","newItem","field","date","dayjs","fileName","csvService","err","handleApplyFilters","values","result","searchText","value","startDate","endDate","loan","loanDate","book","catId","handleResetFilters","handleFieldsChange","checkedValues","getAvailableFields","getPreviewColumns","allFields","f","text","renderFilterForm","jsxs","Fragment","jsx","Input","category","Space","Button","FileTextOutlined","Checkbox","Alert","WarningOutlined"],"mappings":"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","x_google_ignoreList":[0,1,2]}