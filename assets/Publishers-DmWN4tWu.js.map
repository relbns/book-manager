{"version":3,"file":"Publishers-DmWN4tWu.js","sources":["../../node_modules/@ant-design/icons-svg/es/asn/GlobalOutlined.js","../../node_modules/@ant-design/icons/es/icons/GlobalOutlined.js","../../src/pages/Publishers.jsx"],"sourcesContent":["// This icon file is generated automatically.\nvar GlobalOutlined = { \"icon\": { \"tag\": \"svg\", \"attrs\": { \"viewBox\": \"64 64 896 896\", \"focusable\": \"false\" }, \"children\": [{ \"tag\": \"path\", \"attrs\": { \"d\": \"M854.4 800.9c.2-.3.5-.6.7-.9C920.6 722.1 960 621.7 960 512s-39.4-210.1-104.8-288c-.2-.3-.5-.5-.7-.8-1.1-1.3-2.1-2.5-3.2-3.7-.4-.5-.8-.9-1.2-1.4l-4.1-4.7-.1-.1c-1.5-1.7-3.1-3.4-4.6-5.1l-.1-.1c-3.2-3.4-6.4-6.8-9.7-10.1l-.1-.1-4.8-4.8-.3-.3c-1.5-1.5-3-2.9-4.5-4.3-.5-.5-1-1-1.6-1.5-1-1-2-1.9-3-2.8-.3-.3-.7-.6-1-1C736.4 109.2 629.5 64 512 64s-224.4 45.2-304.3 119.2c-.3.3-.7.6-1 1-1 .9-2 1.9-3 2.9-.5.5-1 1-1.6 1.5-1.5 1.4-3 2.9-4.5 4.3l-.3.3-4.8 4.8-.1.1c-3.3 3.3-6.5 6.7-9.7 10.1l-.1.1c-1.6 1.7-3.1 3.4-4.6 5.1l-.1.1c-1.4 1.5-2.8 3.1-4.1 4.7-.4.5-.8.9-1.2 1.4-1.1 1.2-2.1 2.5-3.2 3.7-.2.3-.5.5-.7.8C103.4 301.9 64 402.3 64 512s39.4 210.1 104.8 288c.2.3.5.6.7.9l3.1 3.7c.4.5.8.9 1.2 1.4l4.1 4.7c0 .1.1.1.1.2 1.5 1.7 3 3.4 4.6 5l.1.1c3.2 3.4 6.4 6.8 9.6 10.1l.1.1c1.6 1.6 3.1 3.2 4.7 4.7l.3.3c3.3 3.3 6.7 6.5 10.1 9.6 80.1 74 187 119.2 304.5 119.2s224.4-45.2 304.3-119.2a300 300 0 0010-9.6l.3-.3c1.6-1.6 3.2-3.1 4.7-4.7l.1-.1c3.3-3.3 6.5-6.7 9.6-10.1l.1-.1c1.5-1.7 3.1-3.3 4.6-5 0-.1.1-.1.1-.2 1.4-1.5 2.8-3.1 4.1-4.7.4-.5.8-.9 1.2-1.4a99 99 0 003.3-3.7zm4.1-142.6c-13.8 32.6-32 62.8-54.2 90.2a444.07 444.07 0 00-81.5-55.9c11.6-46.9 18.8-98.4 20.7-152.6H887c-3 40.9-12.6 80.6-28.5 118.3zM887 484H743.5c-1.9-54.2-9.1-105.7-20.7-152.6 29.3-15.6 56.6-34.4 81.5-55.9A373.86 373.86 0 01887 484zM658.3 165.5c39.7 16.8 75.8 40 107.6 69.2a394.72 394.72 0 01-59.4 41.8c-15.7-45-35.8-84.1-59.2-115.4 3.7 1.4 7.4 2.9 11 4.4zm-90.6 700.6c-9.2 7.2-18.4 12.7-27.7 16.4V697a389.1 389.1 0 01115.7 26.2c-8.3 24.6-17.9 47.3-29 67.8-17.4 32.4-37.8 58.3-59 75.1zm59-633.1c11 20.6 20.7 43.3 29 67.8A389.1 389.1 0 01540 327V141.6c9.2 3.7 18.5 9.1 27.7 16.4 21.2 16.7 41.6 42.6 59 75zM540 640.9V540h147.5c-1.6 44.2-7.1 87.1-16.3 127.8l-.3 1.2A445.02 445.02 0 00540 640.9zm0-156.9V383.1c45.8-2.8 89.8-12.5 130.9-28.1l.3 1.2c9.2 40.7 14.7 83.5 16.3 127.8H540zm-56 56v100.9c-45.8 2.8-89.8 12.5-130.9 28.1l-.3-1.2c-9.2-40.7-14.7-83.5-16.3-127.8H484zm-147.5-56c1.6-44.2 7.1-87.1 16.3-127.8l.3-1.2c41.1 15.6 85 25.3 130.9 28.1V484H336.5zM484 697v185.4c-9.2-3.7-18.5-9.1-27.7-16.4-21.2-16.7-41.7-42.7-59.1-75.1-11-20.6-20.7-43.3-29-67.8 37.2-14.6 75.9-23.3 115.8-26.1zm0-370a389.1 389.1 0 01-115.7-26.2c8.3-24.6 17.9-47.3 29-67.8 17.4-32.4 37.8-58.4 59.1-75.1 9.2-7.2 18.4-12.7 27.7-16.4V327zM365.7 165.5c3.7-1.5 7.3-3 11-4.4-23.4 31.3-43.5 70.4-59.2 115.4-21-12-40.9-26-59.4-41.8 31.8-29.2 67.9-52.4 107.6-69.2zM165.5 365.7c13.8-32.6 32-62.8 54.2-90.2 24.9 21.5 52.2 40.3 81.5 55.9-11.6 46.9-18.8 98.4-20.7 152.6H137c3-40.9 12.6-80.6 28.5-118.3zM137 540h143.5c1.9 54.2 9.1 105.7 20.7 152.6a444.07 444.07 0 00-81.5 55.9A373.86 373.86 0 01137 540zm228.7 318.5c-39.7-16.8-75.8-40-107.6-69.2 18.5-15.8 38.4-29.7 59.4-41.8 15.7 45 35.8 84.1 59.2 115.4-3.7-1.4-7.4-2.9-11-4.4zm292.6 0c-3.7 1.5-7.3 3-11 4.4 23.4-31.3 43.5-70.4 59.2-115.4 21 12 40.9 26 59.4 41.8a373.81 373.81 0 01-107.6 69.2z\" } }] }, \"name\": \"global\", \"theme\": \"outlined\" };\nexport default GlobalOutlined;\n","function _extends() { _extends = Object.assign ? Object.assign.bind() : function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n// GENERATE BY ./scripts/generate.ts\n// DON NOT EDIT IT MANUALLY\n\nimport * as React from 'react';\nimport GlobalOutlinedSvg from \"@ant-design/icons-svg/es/asn/GlobalOutlined\";\nimport AntdIcon from \"../components/AntdIcon\";\nconst GlobalOutlined = (props, ref) => /*#__PURE__*/React.createElement(AntdIcon, _extends({}, props, {\n  ref: ref,\n  icon: GlobalOutlinedSvg\n}));\n\n/**![global](data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNTAiIGhlaWdodD0iNTAiIGZpbGw9IiNjYWNhY2EiIHZpZXdCb3g9IjY0IDY0IDg5NiA4OTYiIGZvY3VzYWJsZT0iZmFsc2UiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PHBhdGggZD0iTTg1NC40IDgwMC45Yy4yLS4zLjUtLjYuNy0uOUM5MjAuNiA3MjIuMSA5NjAgNjIxLjcgOTYwIDUxMnMtMzkuNC0yMTAuMS0xMDQuOC0yODhjLS4yLS4zLS41LS41LS43LS44LTEuMS0xLjMtMi4xLTIuNS0zLjItMy43LS40LS41LS44LS45LTEuMi0xLjRsLTQuMS00LjctLjEtLjFjLTEuNS0xLjctMy4xLTMuNC00LjYtNS4xbC0uMS0uMWMtMy4yLTMuNC02LjQtNi44LTkuNy0xMC4xbC0uMS0uMS00LjgtNC44LS4zLS4zYy0xLjUtMS41LTMtMi45LTQuNS00LjMtLjUtLjUtMS0xLTEuNi0xLjUtMS0xLTItMS45LTMtMi44LS4zLS4zLS43LS42LTEtMUM3MzYuNCAxMDkuMiA2MjkuNSA2NCA1MTIgNjRzLTIyNC40IDQ1LjItMzA0LjMgMTE5LjJjLS4zLjMtLjcuNi0xIDEtMSAuOS0yIDEuOS0zIDIuOS0uNS41LTEgMS0xLjYgMS41LTEuNSAxLjQtMyAyLjktNC41IDQuM2wtLjMuMy00LjggNC44LS4xLjFjLTMuMyAzLjMtNi41IDYuNy05LjcgMTAuMWwtLjEuMWMtMS42IDEuNy0zLjEgMy40LTQuNiA1LjFsLS4xLjFjLTEuNCAxLjUtMi44IDMuMS00LjEgNC43LS40LjUtLjguOS0xLjIgMS40LTEuMSAxLjItMi4xIDIuNS0zLjIgMy43LS4yLjMtLjUuNS0uNy44QzEwMy40IDMwMS45IDY0IDQwMi4zIDY0IDUxMnMzOS40IDIxMC4xIDEwNC44IDI4OGMuMi4zLjUuNi43LjlsMy4xIDMuN2MuNC41LjguOSAxLjIgMS40bDQuMSA0LjdjMCAuMS4xLjEuMS4yIDEuNSAxLjcgMyAzLjQgNC42IDVsLjEuMWMzLjIgMy40IDYuNCA2LjggOS42IDEwLjFsLjEuMWMxLjYgMS42IDMuMSAzLjIgNC43IDQuN2wuMy4zYzMuMyAzLjMgNi43IDYuNSAxMC4xIDkuNiA4MC4xIDc0IDE4NyAxMTkuMiAzMDQuNSAxMTkuMnMyMjQuNC00NS4yIDMwNC4zLTExOS4yYTMwMCAzMDAgMCAwMDEwLTkuNmwuMy0uM2MxLjYtMS42IDMuMi0zLjEgNC43LTQuN2wuMS0uMWMzLjMtMy4zIDYuNS02LjcgOS42LTEwLjFsLjEtLjFjMS41LTEuNyAzLjEtMy4zIDQuNi01IDAtLjEuMS0uMS4xLS4yIDEuNC0xLjUgMi44LTMuMSA0LjEtNC43LjQtLjUuOC0uOSAxLjItMS40YTk5IDk5IDAgMDAzLjMtMy43em00LjEtMTQyLjZjLTEzLjggMzIuNi0zMiA2Mi44LTU0LjIgOTAuMmE0NDQuMDcgNDQ0LjA3IDAgMDAtODEuNS01NS45YzExLjYtNDYuOSAxOC44LTk4LjQgMjAuNy0xNTIuNkg4ODdjLTMgNDAuOS0xMi42IDgwLjYtMjguNSAxMTguM3pNODg3IDQ4NEg3NDMuNWMtMS45LTU0LjItOS4xLTEwNS43LTIwLjctMTUyLjYgMjkuMy0xNS42IDU2LjYtMzQuNCA4MS41LTU1LjlBMzczLjg2IDM3My44NiAwIDAxODg3IDQ4NHpNNjU4LjMgMTY1LjVjMzkuNyAxNi44IDc1LjggNDAgMTA3LjYgNjkuMmEzOTQuNzIgMzk0LjcyIDAgMDEtNTkuNCA0MS44Yy0xNS43LTQ1LTM1LjgtODQuMS01OS4yLTExNS40IDMuNyAxLjQgNy40IDIuOSAxMSA0LjR6bS05MC42IDcwMC42Yy05LjIgNy4yLTE4LjQgMTIuNy0yNy43IDE2LjRWNjk3YTM4OS4xIDM4OS4xIDAgMDExMTUuNyAyNi4yYy04LjMgMjQuNi0xNy45IDQ3LjMtMjkgNjcuOC0xNy40IDMyLjQtMzcuOCA1OC4zLTU5IDc1LjF6bTU5LTYzMy4xYzExIDIwLjYgMjAuNyA0My4zIDI5IDY3LjhBMzg5LjEgMzg5LjEgMCAwMTU0MCAzMjdWMTQxLjZjOS4yIDMuNyAxOC41IDkuMSAyNy43IDE2LjQgMjEuMiAxNi43IDQxLjYgNDIuNiA1OSA3NXpNNTQwIDY0MC45VjU0MGgxNDcuNWMtMS42IDQ0LjItNy4xIDg3LjEtMTYuMyAxMjcuOGwtLjMgMS4yQTQ0NS4wMiA0NDUuMDIgMCAwMDU0MCA2NDAuOXptMC0xNTYuOVYzODMuMWM0NS44LTIuOCA4OS44LTEyLjUgMTMwLjktMjguMWwuMyAxLjJjOS4yIDQwLjcgMTQuNyA4My41IDE2LjMgMTI3LjhINTQwem0tNTYgNTZ2MTAwLjljLTQ1LjggMi44LTg5LjggMTIuNS0xMzAuOSAyOC4xbC0uMy0xLjJjLTkuMi00MC43LTE0LjctODMuNS0xNi4zLTEyNy44SDQ4NHptLTE0Ny41LTU2YzEuNi00NC4yIDcuMS04Ny4xIDE2LjMtMTI3LjhsLjMtMS4yYzQxLjEgMTUuNiA4NSAyNS4zIDEzMC45IDI4LjFWNDg0SDMzNi41ek00ODQgNjk3djE4NS40Yy05LjItMy43LTE4LjUtOS4xLTI3LjctMTYuNC0yMS4yLTE2LjctNDEuNy00Mi43LTU5LjEtNzUuMS0xMS0yMC42LTIwLjctNDMuMy0yOS02Ny44IDM3LjItMTQuNiA3NS45LTIzLjMgMTE1LjgtMjYuMXptMC0zNzBhMzg5LjEgMzg5LjEgMCAwMS0xMTUuNy0yNi4yYzguMy0yNC42IDE3LjktNDcuMyAyOS02Ny44IDE3LjQtMzIuNCAzNy44LTU4LjQgNTkuMS03NS4xIDkuMi03LjIgMTguNC0xMi43IDI3LjctMTYuNFYzMjd6TTM2NS43IDE2NS41YzMuNy0xLjUgNy4zLTMgMTEtNC40LTIzLjQgMzEuMy00My41IDcwLjQtNTkuMiAxMTUuNC0yMS0xMi00MC45LTI2LTU5LjQtNDEuOCAzMS44LTI5LjIgNjcuOS01Mi40IDEwNy42LTY5LjJ6TTE2NS41IDM2NS43YzEzLjgtMzIuNiAzMi02Mi44IDU0LjItOTAuMiAyNC45IDIxLjUgNTIuMiA0MC4zIDgxLjUgNTUuOS0xMS42IDQ2LjktMTguOCA5OC40LTIwLjcgMTUyLjZIMTM3YzMtNDAuOSAxMi42LTgwLjYgMjguNS0xMTguM3pNMTM3IDU0MGgxNDMuNWMxLjkgNTQuMiA5LjEgMTA1LjcgMjAuNyAxNTIuNmE0NDQuMDcgNDQ0LjA3IDAgMDAtODEuNSA1NS45QTM3My44NiAzNzMuODYgMCAwMTEzNyA1NDB6bTIyOC43IDMxOC41Yy0zOS43LTE2LjgtNzUuOC00MC0xMDcuNi02OS4yIDE4LjUtMTUuOCAzOC40LTI5LjcgNTkuNC00MS44IDE1LjcgNDUgMzUuOCA4NC4xIDU5LjIgMTE1LjQtMy43LTEuNC03LjQtMi45LTExLTQuNHptMjkyLjYgMGMtMy43IDEuNS03LjMgMy0xMSA0LjQgMjMuNC0zMS4zIDQzLjUtNzAuNCA1OS4yLTExNS40IDIxIDEyIDQwLjkgMjYgNTkuNCA0MS44YTM3My44MSAzNzMuODEgMCAwMS0xMDcuNiA2OS4yeiIgLz48L3N2Zz4=) */\nconst RefIcon = /*#__PURE__*/React.forwardRef(GlobalOutlined);\nif (process.env.NODE_ENV !== 'production') {\n  RefIcon.displayName = 'GlobalOutlined';\n}\nexport default RefIcon;","// src/pages/Publishers.jsx\nimport React, { useState, useEffect } from 'react';\nimport {\n  Table,\n  Button,\n  Input,\n  Card,\n  Space,\n  Modal,\n  Form,\n  Typography,\n  Tag,\n  Tooltip,\n  Popconfirm,\n} from 'antd';\nimport {\n  SearchOutlined,\n  PlusOutlined,\n  EditOutlined,\n  DeleteOutlined,\n  BookOutlined,\n  GlobalOutlined,\n} from '@ant-design/icons';\nimport styled from 'styled-components';\nimport { useAppContext } from '../context/AppContext';\nimport ResponsiveFilterContainer from '../components/common/ResponsiveFilterContainer';\n\nconst { Title, Text, Link } = Typography;\nconst { TextArea } = Input;\n\n// Style for RTL tables\nconst StyledTable = styled(Table)`\n  .ant-table-thead > tr > th {\n    text-align: right;\n  }\n\n  .ant-table-cell {\n    text-align: right;\n  }\n`;\n\nconst StyledCard = styled(Card)`\n  margin-bottom: 24px;\n`;\n\nconst FilterContainer = styled.div`\n  display: flex;\n  flex-wrap: wrap;\n  gap: 16px;\n  margin-bottom: 24px;\n`;\n\nconst ActionsColumn = styled.div`\n  display: flex;\n  justify-content: flex-end;\n  gap: 8px;\n`;\n\nconst Publishers = () => {\n  const {\n    publishers,\n    addPublisher,\n    updatePublisher,\n    deletePublisher,\n    books,\n    createPublisherModel,\n  } = useAppContext();\n\n  // State\n  const [form] = Form.useForm();\n  const [searchText, setSearchText] = useState('');\n  const [isModalVisible, setIsModalVisible] = useState(false);\n  const [editingPublisher, setEditingPublisher] = useState(null);\n  const [filteredPublishers, setFilteredPublishers] = useState([]);\n  const [locations, setLocations] = useState([]);\n\n  // Filter publishers based on search text\n  useEffect(() => {\n    if (!searchText.trim()) {\n      setFilteredPublishers(publishers);\n      return;\n    }\n\n    const lowerSearchText = searchText.toLowerCase();\n    const filtered = publishers.filter(\n      (publisher) =>\n        publisher.name.toLowerCase().includes(lowerSearchText) ||\n        (publisher.location &&\n          publisher.location.toLowerCase().includes(lowerSearchText))\n    );\n\n    setFilteredPublishers(filtered);\n  }, [publishers, searchText]);\n\n  // Extract unique locations for filtering\n  useEffect(() => {\n    const uniqueLocations = [\n      ...new Set(publishers.map((pub) => pub.location).filter(Boolean)),\n    ];\n    setLocations(uniqueLocations);\n  }, [publishers]);\n\n  // Get book count for a publisher\n  const getPublisherBookCount = (publisherId) => {\n    return books.filter((book) => book.publisher === publisherId).length;\n  };\n\n  // Modal handlers\n  const showModal = (publisher = null) => {\n    setEditingPublisher(publisher);\n\n    if (publisher) {\n      form.setFieldsValue({\n        ...publisher,\n      });\n    } else {\n      form.resetFields();\n    }\n\n    setIsModalVisible(true);\n  };\n\n  const handleCancel = () => {\n    setIsModalVisible(false);\n    form.resetFields();\n  };\n\n  const handleSubmit = async (values) => {\n    if (editingPublisher) {\n      await updatePublisher(editingPublisher.id, values);\n    } else {\n      await addPublisher(values);\n    }\n\n    setIsModalVisible(false);\n    form.resetFields();\n  };\n\n  const handleDelete = async (publisherId) => {\n    // Check if publisher has books\n    const publisherBooks = books.filter(\n      (book) => book.publisher === publisherId\n    ).length;\n\n    if (publisherBooks > 0) {\n      Modal.confirm({\n        title: 'לא ניתן למחוק הוצאה לאור זו',\n        content: `הוצאה לאור זו משויכת ל-${publisherBooks} ספרים. אנא הסר או שנה את השיוך בספרים אלו לפני מחיקת ההוצאה לאור.`,\n        okText: 'הבנתי',\n        cancelText: null,\n        cancelButtonProps: { style: { display: 'none' } },\n      });\n      return;\n    }\n\n    await deletePublisher(publisherId);\n  };\n\n  // Validate URL\n  const validateUrl = (_, value) => {\n    if (!value) {\n      return Promise.resolve();\n    }\n\n    try {\n      new URL(value);\n      return Promise.resolve();\n    } catch (error) {\n      return Promise.reject(new Error('נא להזין כתובת אתר תקינה'));\n    }\n  };\n\n  // Table columns\n  const columns = [\n    {\n      title: 'שם ההוצאה',\n      dataIndex: 'name',\n      key: 'name',\n      render: (text) => (\n        <Space>\n          <BookOutlined />\n          <Text strong>{text}</Text>\n        </Space>\n      ),\n    },\n    {\n      title: 'מיקום',\n      dataIndex: 'location',\n      key: 'location',\n      render: (location) => location || '-',\n    },\n    {\n      title: 'אתר',\n      dataIndex: 'website',\n      key: 'website',\n      render: (website) => {\n        if (!website) return '-';\n        return (\n          <Link href={website} target=\"_blank\" rel=\"noopener noreferrer\">\n            <GlobalOutlined /> אתר ההוצאה\n          </Link>\n        );\n      },\n    },\n    {\n      title: 'ספרים',\n      key: 'bookCount',\n      render: (_, record) => {\n        const count = getPublisherBookCount(record.id);\n        return count > 0 ? (\n          <Tag color=\"blue\">{count}</Tag>\n        ) : (\n          <Tag color=\"default\">0</Tag>\n        );\n      },\n    },\n    {\n      title: 'פעולות',\n      key: 'actions',\n      width: 120,\n      render: (_, record) => (\n        <ActionsColumn>\n          <Tooltip title=\"עריכה\">\n            <Button\n              icon={<EditOutlined />}\n              type=\"text\"\n              onClick={() => showModal(record)}\n            />\n          </Tooltip>\n          <Tooltip title=\"מחיקה\">\n            <Popconfirm\n              title=\"בטוח שאתה רוצה למחוק את ההוצאה לאור?\"\n              onConfirm={() => handleDelete(record.id)}\n              okText=\"כן\"\n              cancelText=\"לא\"\n              placement=\"topRight\"\n            >\n              <Button icon={<DeleteOutlined />} type=\"text\" danger />\n            </Popconfirm>\n          </Tooltip>\n        </ActionsColumn>\n      ),\n    },\n  ];\n\n  return (\n    <div>\n      <StyledCard>\n        <div\n          style={{\n            display: 'flex',\n            justifyContent: 'space-between',\n            alignItems: 'center',\n            marginBottom: 16,\n          }}\n        >\n          <Title level={2}>הוצאות לאור</Title>\n          <Button\n            type=\"primary\"\n            icon={<PlusOutlined />}\n            onClick={() => showModal()}\n          >\n            הוספת הוצאה לאור\n          </Button>\n        </div>\n\n        <ResponsiveFilterContainer>\n          <Input\n            placeholder=\"חיפוש לפי שם או מיקום\"\n            prefix={<SearchOutlined />}\n            value={searchText}\n            onChange={(e) => setSearchText(e.target.value)}\n            style={{ width: 300 }}\n          />\n\n          {locations.length > 0 && (\n            <Select\n              allowClear\n              style={{ minWidth: 200 }}\n              placeholder=\"סינון לפי מיקום\"\n              onChange={(value) => setSearchText(value || '')}\n            >\n              {locations.map((location) => (\n                <Option key={location} value={location}>\n                  {location}\n                </Option>\n              ))}\n            </Select>\n          )}\n        </ResponsiveFilterContainer>\n\n        <StyledTable\n          dataSource={filteredPublishers}\n          columns={columns}\n          rowKey=\"id\"\n          pagination={{\n            pageSize: 10,\n            showSizeChanger: true,\n            showTotal: (total) => `סה\"כ ${total} הוצאות לאור`,\n          }}\n          locale={{\n            emptyText: 'לא נמצאו הוצאות לאור',\n          }}\n        />\n      </StyledCard>\n\n      {/* Publisher Form Modal */}\n      <Modal\n        title={editingPublisher ? 'עריכת הוצאה לאור' : 'הוספת הוצאה לאור חדשה'}\n        open={isModalVisible}\n        onCancel={handleCancel}\n        footer={null}\n        destroyOnClose\n      >\n        <Form\n          form={form}\n          layout=\"vertical\"\n          onFinish={handleSubmit}\n          initialValues={createPublisherModel()}\n        >\n          <Form.Item\n            name=\"name\"\n            label=\"שם ההוצאה לאור\"\n            rules={[{ required: true, message: 'נא להזין את שם ההוצאה לאור' }]}\n          >\n            <Input placeholder=\"הזן את שם ההוצאה לאור\" />\n          </Form.Item>\n\n          <Form.Item name=\"location\" label=\"מיקום\">\n            <Input placeholder=\"הזן את מיקום ההוצאה לאור\" />\n          </Form.Item>\n\n          <Form.Item\n            name=\"website\"\n            label=\"אתר אינטרנט\"\n            rules={[{ validator: validateUrl }]}\n          >\n            <Input placeholder=\"הזן את כתובת האתר\" />\n          </Form.Item>\n\n          <Form.Item name=\"notes\" label=\"הערות\">\n            <TextArea placeholder=\"הערות נוספות\" rows={3} />\n          </Form.Item>\n\n          {/* Footer */}\n          <div style={{ display: 'flex', justifyContent: 'flex-end', gap: 16 }}>\n            <Button onClick={handleCancel}>ביטול</Button>\n            <Button type=\"primary\" htmlType=\"submit\">\n              {editingPublisher ? 'עדכון' : 'הוספה'}\n            </Button>\n          </div>\n        </Form>\n      </Modal>\n    </div>\n  );\n};\n\nexport default Publishers;\n"],"names":["GlobalOutlined","_extends","target","i","source","key","props","ref","React.createElement","AntdIcon","GlobalOutlinedSvg","RefIcon","React.forwardRef","Title","Text","Link","Typography","TextArea","Input","StyledTable","styled","Table","StyledCard","Card","ActionsColumn","Publishers","publishers","addPublisher","updatePublisher","deletePublisher","books","createPublisherModel","useAppContext","form","Form","searchText","setSearchText","useState","isModalVisible","setIsModalVisible","editingPublisher","setEditingPublisher","filteredPublishers","setFilteredPublishers","locations","setLocations","useEffect","lowerSearchText","filtered","publisher","uniqueLocations","pub","getPublisherBookCount","publisherId","book","showModal","handleCancel","handleSubmit","values","handleDelete","publisherBooks","Modal","validateUrl","_","value","columns","text","jsxs","Space","jsx","BookOutlined","location","website","record","count","Tag","Tooltip","Button","EditOutlined","Popconfirm","DeleteOutlined","PlusOutlined","ResponsiveFilterContainer","SearchOutlined","e","total"],"mappings":"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","x_google_ignoreList":[0,1]}