{"version":3,"file":"useClosable-Bjz1Rjzt.js","sources":["../../node_modules/antd/es/_util/hooks/useClosable.js"],"sourcesContent":["\"use client\";\n\nimport React from 'react';\nimport CloseOutlined from \"@ant-design/icons/es/icons/CloseOutlined\";\nimport pickAttrs from \"rc-util/es/pickAttrs\";\nexport function pickClosable(context) {\n  if (!context) {\n    return undefined;\n  }\n  return {\n    closable: context.closable,\n    closeIcon: context.closeIcon\n  };\n}\n/** Convert `closable` and `closeIcon` to config object */\nfunction useClosableConfig(closableCollection) {\n  const {\n    closable,\n    closeIcon\n  } = closableCollection || {};\n  return React.useMemo(() => {\n    if (\n    // If `closable`, whatever rest be should be true\n    !closable && (closable === false || closeIcon === false || closeIcon === null)) {\n      return false;\n    }\n    if (closable === undefined && closeIcon === undefined) {\n      return null;\n    }\n    let closableConfig = {\n      closeIcon: typeof closeIcon !== 'boolean' && closeIcon !== null ? closeIcon : undefined\n    };\n    if (closable && typeof closable === 'object') {\n      closableConfig = Object.assign(Object.assign({}, closableConfig), closable);\n    }\n    return closableConfig;\n  }, [closable, closeIcon]);\n}\n/**\n * Assign object without `undefined` field. Will skip if is `false`.\n * This helps to handle both closableConfig or false\n */\nfunction assignWithoutUndefined() {\n  const target = {};\n  for (var _len = arguments.length, objList = new Array(_len), _key = 0; _key < _len; _key++) {\n    objList[_key] = arguments[_key];\n  }\n  objList.forEach(obj => {\n    if (obj) {\n      Object.keys(obj).forEach(key => {\n        if (obj[key] !== undefined) {\n          target[key] = obj[key];\n        }\n      });\n    }\n  });\n  return target;\n}\n/** Use same object to support `useMemo` optimization */\nconst EmptyFallbackCloseCollection = {};\nexport default function useClosable(propCloseCollection, contextCloseCollection) {\n  let fallbackCloseCollection = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : EmptyFallbackCloseCollection;\n  // Align the `props`, `context` `fallback` to config object first\n  const propCloseConfig = useClosableConfig(propCloseCollection);\n  const contextCloseConfig = useClosableConfig(contextCloseCollection);\n  const closeBtnIsDisabled = typeof propCloseConfig !== 'boolean' ? !!(propCloseConfig === null || propCloseConfig === void 0 ? void 0 : propCloseConfig.disabled) : false;\n  const mergedFallbackCloseCollection = React.useMemo(() => Object.assign({\n    closeIcon: /*#__PURE__*/React.createElement(CloseOutlined, null)\n  }, fallbackCloseCollection), [fallbackCloseCollection]);\n  // Use fallback logic to fill the config\n  const mergedClosableConfig = React.useMemo(() => {\n    // ================ Props First ================\n    // Skip if prop is disabled\n    if (propCloseConfig === false) {\n      return false;\n    }\n    if (propCloseConfig) {\n      return assignWithoutUndefined(mergedFallbackCloseCollection, contextCloseConfig, propCloseConfig);\n    }\n    // =============== Context Second ==============\n    // Skip if context is disabled\n    if (contextCloseConfig === false) {\n      return false;\n    }\n    if (contextCloseConfig) {\n      return assignWithoutUndefined(mergedFallbackCloseCollection, contextCloseConfig);\n    }\n    // ============= Fallback Default ==============\n    return !mergedFallbackCloseCollection.closable ? false : mergedFallbackCloseCollection;\n  }, [propCloseConfig, contextCloseConfig, mergedFallbackCloseCollection]);\n  // Calculate the final closeIcon\n  return React.useMemo(() => {\n    if (mergedClosableConfig === false) {\n      return [false, null, closeBtnIsDisabled];\n    }\n    const {\n      closeIconRender\n    } = mergedFallbackCloseCollection;\n    const {\n      closeIcon\n    } = mergedClosableConfig;\n    let mergedCloseIcon = closeIcon;\n    if (mergedCloseIcon !== null && mergedCloseIcon !== undefined) {\n      // Wrap the closeIcon if needed\n      if (closeIconRender) {\n        mergedCloseIcon = closeIconRender(closeIcon);\n      }\n      // Wrap the closeIcon with aria props\n      const ariaProps = pickAttrs(mergedClosableConfig, true);\n      if (Object.keys(ariaProps).length) {\n        mergedCloseIcon = /*#__PURE__*/React.isValidElement(mergedCloseIcon) ? (/*#__PURE__*/React.cloneElement(mergedCloseIcon, ariaProps)) : (/*#__PURE__*/React.createElement(\"span\", Object.assign({}, ariaProps), mergedCloseIcon));\n      }\n    }\n    return [true, mergedCloseIcon, closeBtnIsDisabled];\n  }, [mergedClosableConfig, mergedFallbackCloseCollection]);\n}"],"names":["pickClosable","context","useClosableConfig","closableCollection","closable","closeIcon","React","closableConfig","assignWithoutUndefined","target","_len","objList","_key","obj","key","EmptyFallbackCloseCollection","useClosable","propCloseCollection","contextCloseCollection","fallbackCloseCollection","propCloseConfig","contextCloseConfig","closeBtnIsDisabled","mergedFallbackCloseCollection","CloseOutlined","mergedClosableConfig","closeIconRender","mergedCloseIcon","ariaProps","pickAttrs"],"mappings":"uDAKO,SAASA,EAAaC,EAAS,CACpC,GAAKA,EAGL,MAAO,CACL,SAAUA,EAAQ,SAClB,UAAWA,EAAQ,SACpB,CACH,CAEA,SAASC,EAAkBC,EAAoB,CAC7C,KAAM,CACJ,SAAAC,EACA,UAAAC,CACD,EAAGF,GAAsB,CAAE,EAC5B,OAAOG,EAAM,QAAQ,IAAM,CACzB,GAEA,CAACF,IAAaA,IAAa,IAASC,IAAc,IAASA,IAAc,MACvE,MAAO,GAET,GAAID,IAAa,QAAaC,IAAc,OAC1C,OAAO,KAET,IAAIE,EAAiB,CACnB,UAAW,OAAOF,GAAc,WAAaA,IAAc,KAAOA,EAAY,MAC/E,EACD,OAAID,GAAY,OAAOA,GAAa,WAClCG,EAAiB,OAAO,OAAO,OAAO,OAAO,GAAIA,CAAc,EAAGH,CAAQ,GAErEG,CACX,EAAK,CAACH,EAAUC,CAAS,CAAC,CAC1B,CAKA,SAASG,GAAyB,CAChC,MAAMC,EAAS,CAAE,EACjB,QAASC,EAAO,UAAU,OAAQC,EAAU,IAAI,MAAMD,CAAI,EAAGE,EAAO,EAAGA,EAAOF,EAAME,IAClFD,EAAQC,CAAI,EAAI,UAAUA,CAAI,EAEhC,OAAAD,EAAQ,QAAQE,GAAO,CACjBA,GACF,OAAO,KAAKA,CAAG,EAAE,QAAQC,GAAO,CAC1BD,EAAIC,CAAG,IAAM,SACfL,EAAOK,CAAG,EAAID,EAAIC,CAAG,EAE/B,CAAO,CAEP,CAAG,EACML,CACT,CAEA,MAAMM,EAA+B,CAAE,EACxB,SAASC,EAAYC,EAAqBC,EAAwB,CAC/E,IAAIC,EAA0B,UAAU,OAAS,GAAK,UAAU,CAAC,IAAM,OAAY,UAAU,CAAC,EAAIJ,EAElG,MAAMK,EAAkBlB,EAAkBe,CAAmB,EACvDI,EAAqBnB,EAAkBgB,CAAsB,EAC7DI,EAAqB,OAAOF,GAAoB,UAAY,CAAC,EAAEA,GAAoB,MAA8CA,EAAgB,UAAY,GAC7JG,EAAgCjB,EAAM,QAAQ,IAAM,OAAO,OAAO,CACtE,UAAwBA,EAAM,cAAckB,EAAe,IAAI,CACnE,EAAKL,CAAuB,EAAG,CAACA,CAAuB,CAAC,EAEhDM,EAAuBnB,EAAM,QAAQ,IAGrCc,IAAoB,GACf,GAELA,EACKZ,EAAuBe,EAA+BF,EAAoBD,CAAe,EAI9FC,IAAuB,GAClB,GAELA,EACKb,EAAuBe,EAA+BF,CAAkB,EAGzEE,EAA8B,SAAmBA,EAAR,GAChD,CAACH,EAAiBC,EAAoBE,CAA6B,CAAC,EAEvE,OAAOjB,EAAM,QAAQ,IAAM,CACzB,GAAImB,IAAyB,GAC3B,MAAO,CAAC,GAAO,KAAMH,CAAkB,EAEzC,KAAM,CACJ,gBAAAI,CACN,EAAQH,EACE,CACJ,UAAAlB,CACN,EAAQoB,EACJ,IAAIE,EAAkBtB,EACtB,GAAIsB,GAAoB,KAAuC,CAEzDD,IACFC,EAAkBD,EAAgBrB,CAAS,GAG7C,MAAMuB,EAAYC,EAAUJ,EAAsB,EAAI,EAClD,OAAO,KAAKG,CAAS,EAAE,SACzBD,EAA+BrB,EAAM,eAAeqB,CAAe,EAAkBrB,EAAM,aAAaqB,EAAiBC,CAAS,EAAmBtB,EAAM,cAAc,OAAQ,OAAO,OAAO,CAAA,EAAIsB,CAAS,EAAGD,CAAe,EAEtO,CACI,MAAO,CAAC,GAAMA,EAAiBL,CAAkB,CACrD,EAAK,CAACG,EAAsBF,CAA6B,CAAC,CAC1D","x_google_ignoreList":[0]}