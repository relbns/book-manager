{"version":3,"file":"Books-CmtAhTLk.js","sources":["../../node_modules/@ant-design/icons-svg/es/asn/ScanOutlined.js","../../node_modules/@ant-design/icons-svg/es/asn/WarningFilled.js","../../node_modules/antd/node_modules/@ant-design/icons/es/icons/WarningFilled.js","../../node_modules/antd/es/result/noFound.js","../../node_modules/antd/es/result/serverError.js","../../node_modules/antd/es/result/style/index.js","../../node_modules/antd/es/result/unauthorized.js","../../node_modules/antd/es/result/index.js","../../node_modules/@ant-design/icons/es/icons/ScanOutlined.js","../../node_modules/quagga/dist/quagga.js","../../src/components/common/BarcodeScanner.jsx","../../src/pages/Books.jsx"],"sourcesContent":["// This icon file is generated automatically.\nvar ScanOutlined = { \"icon\": { \"tag\": \"svg\", \"attrs\": { \"viewBox\": \"64 64 896 896\", \"focusable\": \"false\" }, \"children\": [{ \"tag\": \"path\", \"attrs\": { \"d\": \"M136 384h56c4.4 0 8-3.6 8-8V200h176c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8H196c-37.6 0-68 30.4-68 68v180c0 4.4 3.6 8 8 8zm512-184h176v176c0 4.4 3.6 8 8 8h56c4.4 0 8-3.6 8-8V196c0-37.6-30.4-68-68-68H648c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8zM376 824H200V648c0-4.4-3.6-8-8-8h-56c-4.4 0-8 3.6-8 8v180c0 37.6 30.4 68 68 68h180c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zm512-184h-56c-4.4 0-8 3.6-8 8v176H648c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h180c37.6 0 68-30.4 68-68V648c0-4.4-3.6-8-8-8zm16-164H120c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8z\" } }] }, \"name\": \"scan\", \"theme\": \"outlined\" };\nexport default ScanOutlined;\n","// This icon file is generated automatically.\nvar WarningFilled = { \"icon\": { \"tag\": \"svg\", \"attrs\": { \"viewBox\": \"64 64 896 896\", \"focusable\": \"false\" }, \"children\": [{ \"tag\": \"path\", \"attrs\": { \"d\": \"M955.7 856l-416-720c-6.2-10.7-16.9-16-27.7-16s-21.6 5.3-27.7 16l-416 720C56 877.4 71.4 904 96 904h832c24.6 0 40-26.6 27.7-48zM480 416c0-4.4 3.6-8 8-8h48c4.4 0 8 3.6 8 8v184c0 4.4-3.6 8-8 8h-48c-4.4 0-8-3.6-8-8V416zm32 352a48.01 48.01 0 010-96 48.01 48.01 0 010 96z\" } }] }, \"name\": \"warning\", \"theme\": \"filled\" };\nexport default WarningFilled;\n","import _extends from \"@babel/runtime/helpers/esm/extends\";\n// GENERATE BY ./scripts/generate.ts\n// DON NOT EDIT IT MANUALLY\n\nimport * as React from 'react';\nimport WarningFilledSvg from \"@ant-design/icons-svg/es/asn/WarningFilled\";\nimport AntdIcon from \"../components/AntdIcon\";\nvar WarningFilled = function WarningFilled(props, ref) {\n  return /*#__PURE__*/React.createElement(AntdIcon, _extends({}, props, {\n    ref: ref,\n    icon: WarningFilledSvg\n  }));\n};\n\n/**![warning](data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNTAiIGhlaWdodD0iNTAiIGZpbGw9IiNjYWNhY2EiIHZpZXdCb3g9IjY0IDY0IDg5NiA4OTYiIGZvY3VzYWJsZT0iZmFsc2UiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PHBhdGggZD0iTTk1NS43IDg1NmwtNDE2LTcyMGMtNi4yLTEwLjctMTYuOS0xNi0yNy43LTE2cy0yMS42IDUuMy0yNy43IDE2bC00MTYgNzIwQzU2IDg3Ny40IDcxLjQgOTA0IDk2IDkwNGg4MzJjMjQuNiAwIDQwLTI2LjYgMjcuNy00OHpNNDgwIDQxNmMwLTQuNCAzLjYtOCA4LThoNDhjNC40IDAgOCAzLjYgOCA4djE4NGMwIDQuNC0zLjYgOC04IDhoLTQ4Yy00LjQgMC04LTMuNi04LThWNDE2em0zMiAzNTJhNDguMDEgNDguMDEgMCAwMTAtOTYgNDguMDEgNDguMDEgMCAwMTAgOTZ6IiAvPjwvc3ZnPg==) */\nvar RefIcon = /*#__PURE__*/React.forwardRef(WarningFilled);\nif (process.env.NODE_ENV !== 'production') {\n  RefIcon.displayName = 'WarningFilled';\n}\nexport default RefIcon;","\"use client\";\n\nimport * as React from 'react';\nconst NoFound = () => (/*#__PURE__*/React.createElement(\"svg\", {\n  width: \"252\",\n  height: \"294\"\n}, /*#__PURE__*/React.createElement(\"title\", null, \"No Found\"), /*#__PURE__*/React.createElement(\"defs\", null, /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M0 .387h251.772v251.772H0z\"\n})), /*#__PURE__*/React.createElement(\"g\", {\n  fill: \"none\",\n  fillRule: \"evenodd\"\n}, /*#__PURE__*/React.createElement(\"g\", {\n  transform: \"translate(0 .012)\"\n}, /*#__PURE__*/React.createElement(\"mask\", {\n  fill: \"#fff\"\n}), /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M0 127.32v-2.095C0 56.279 55.892.387 124.838.387h2.096c68.946 0 124.838 55.892 124.838 124.838v2.096c0 68.946-55.892 124.838-124.838 124.838h-2.096C55.892 252.16 0 196.267 0 127.321\",\n  fill: \"#E4EBF7\",\n  mask: \"url(#b)\"\n})), /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M39.755 130.84a8.276 8.276 0 1 1-16.468-1.66 8.276 8.276 0 0 1 16.468 1.66\",\n  fill: \"#FFF\"\n}), /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M36.975 134.297l10.482 5.943M48.373 146.508l-12.648 10.788\",\n  stroke: \"#FFF\",\n  strokeWidth: \"2\"\n}), /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M39.875 159.352a5.667 5.667 0 1 1-11.277-1.136 5.667 5.667 0 0 1 11.277 1.136M57.588 143.247a5.708 5.708 0 1 1-11.358-1.145 5.708 5.708 0 0 1 11.358 1.145M99.018 26.875l29.82-.014a4.587 4.587 0 1 0-.003-9.175l-29.82.013a4.587 4.587 0 1 0 .003 9.176M110.424 45.211l29.82-.013a4.588 4.588 0 0 0-.004-9.175l-29.82.013a4.587 4.587 0 1 0 .004 9.175\",\n  fill: \"#FFF\"\n}), /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M112.798 26.861v-.002l15.784-.006a4.588 4.588 0 1 0 .003 9.175l-15.783.007v-.002a4.586 4.586 0 0 0-.004-9.172M184.523 135.668c-.553 5.485-5.447 9.483-10.931 8.93-5.485-.553-9.483-5.448-8.93-10.932.552-5.485 5.447-9.483 10.932-8.93 5.485.553 9.483 5.447 8.93 10.932\",\n  fill: \"#FFF\"\n}), /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M179.26 141.75l12.64 7.167M193.006 156.477l-15.255 13.011\",\n  stroke: \"#FFF\",\n  strokeWidth: \"2\"\n}), /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M184.668 170.057a6.835 6.835 0 1 1-13.6-1.372 6.835 6.835 0 0 1 13.6 1.372M203.34 153.325a6.885 6.885 0 1 1-13.7-1.382 6.885 6.885 0 0 1 13.7 1.382\",\n  fill: \"#FFF\"\n}), /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M151.931 192.324a2.222 2.222 0 1 1-4.444 0 2.222 2.222 0 0 1 4.444 0zM225.27 116.056a2.222 2.222 0 1 1-4.445 0 2.222 2.222 0 0 1 4.444 0zM216.38 151.08a2.223 2.223 0 1 1-4.446-.001 2.223 2.223 0 0 1 4.446 0zM176.917 107.636a2.223 2.223 0 1 1-4.445 0 2.223 2.223 0 0 1 4.445 0zM195.291 92.165a2.223 2.223 0 1 1-4.445 0 2.223 2.223 0 0 1 4.445 0zM202.058 180.711a2.223 2.223 0 1 1-4.446 0 2.223 2.223 0 0 1 4.446 0z\",\n  stroke: \"#FFF\",\n  strokeWidth: \"2\"\n}), /*#__PURE__*/React.createElement(\"path\", {\n  stroke: \"#FFF\",\n  strokeWidth: \"2\",\n  d: \"M214.404 153.302l-1.912 20.184-10.928 5.99M173.661 174.792l-6.356 9.814h-11.36l-4.508 6.484M174.941 125.168v-15.804M220.824 117.25l-12.84 7.901-15.31-7.902V94.39\"\n}), /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M166.588 65.936h-3.951a4.756 4.756 0 0 1-4.743-4.742 4.756 4.756 0 0 1 4.743-4.743h3.951a4.756 4.756 0 0 1 4.743 4.743 4.756 4.756 0 0 1-4.743 4.742\",\n  fill: \"#FFF\"\n}), /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M174.823 30.03c0-16.281 13.198-29.48 29.48-29.48 16.28 0 29.48 13.199 29.48 29.48 0 16.28-13.2 29.48-29.48 29.48-16.282 0-29.48-13.2-29.48-29.48\",\n  fill: \"#1677ff\"\n}), /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M205.952 38.387c.5.5.785 1.142.785 1.928s-.286 1.465-.785 1.964c-.572.5-1.214.75-2 .75-.785 0-1.429-.285-1.929-.785-.572-.5-.82-1.143-.82-1.929s.248-1.428.82-1.928c.5-.5 1.144-.75 1.93-.75.785 0 1.462.25 1.999.75m4.285-19.463c1.428 1.249 2.143 2.963 2.143 5.142 0 1.712-.427 3.13-1.219 4.25-.067.096-.137.18-.218.265-.416.429-1.41 1.346-2.956 2.699a5.07 5.07 0 0 0-1.428 1.75 5.207 5.207 0 0 0-.536 2.357v.5h-4.107v-.5c0-1.357.215-2.536.714-3.5.464-.964 1.857-2.464 4.178-4.536l.43-.5c.643-.785.964-1.643.964-2.535 0-1.18-.358-2.108-1-2.785-.678-.68-1.643-1.001-2.858-1.001-1.536 0-2.642.464-3.357 1.43-.37.5-.621 1.135-.76 1.904a1.999 1.999 0 0 1-1.971 1.63h-.004c-1.277 0-2.257-1.183-1.98-2.43.337-1.518 1.02-2.78 2.073-3.784 1.536-1.5 3.607-2.25 6.25-2.25 2.32 0 4.214.607 5.642 1.894\",\n  fill: \"#FFF\"\n}), /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M52.04 76.131s21.81 5.36 27.307 15.945c5.575 10.74-6.352 9.26-15.73 4.935-10.86-5.008-24.7-11.822-11.577-20.88\",\n  fill: \"#FFB594\"\n}), /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M90.483 67.504l-.449 2.893c-.753.49-4.748-2.663-4.748-2.663l-1.645.748-1.346-5.684s6.815-4.589 8.917-5.018c2.452-.501 9.884.94 10.7 2.278 0 0 1.32.486-2.227.69-3.548.203-5.043.447-6.79 3.132-1.747 2.686-2.412 3.624-2.412 3.624\",\n  fill: \"#FFC6A0\"\n}), /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M128.055 111.367c-2.627-7.724-6.15-13.18-8.917-15.478-3.5-2.906-9.34-2.225-11.366-4.187-1.27-1.231-3.215-1.197-3.215-1.197s-14.98-3.158-16.828-3.479c-2.37-.41-2.124-.714-6.054-1.405-1.57-1.907-2.917-1.122-2.917-1.122l-7.11-1.383c-.853-1.472-2.423-1.023-2.423-1.023l-2.468-.897c-1.645 9.976-7.74 13.796-7.74 13.796 1.795 1.122 15.703 8.3 15.703 8.3l5.107 37.11s-3.321 5.694 1.346 9.109c0 0 19.883-3.743 34.921-.329 0 0 3.047-2.546.972-8.806.523-3.01 1.394-8.263 1.736-11.622.385.772 2.019 1.918 3.14 3.477 0 0 9.407-7.365 11.052-14.012-.832-.723-1.598-1.585-2.267-2.453-.567-.736-.358-2.056-.765-2.717-.669-1.084-1.804-1.378-1.907-1.682\",\n  fill: \"#FFF\"\n}), /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M101.09 289.998s4.295 2.041 7.354 1.021c2.821-.94 4.53.668 7.08 1.178 2.55.51 6.874 1.1 11.686-1.26-.103-5.51-6.889-3.98-11.96-6.713-2.563-1.38-3.784-4.722-3.598-8.799h-9.402s-1.392 10.52-1.16 14.573\",\n  fill: \"#CBD1D1\"\n}), /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M101.067 289.826s2.428 1.271 6.759.653c3.058-.437 3.712.481 7.423 1.031 3.712.55 10.724-.069 11.823-.894.413 1.1-.343 2.063-.343 2.063s-1.512.603-4.812.824c-2.03.136-5.8.291-7.607-.503-1.787-1.375-5.247-1.903-5.728-.241-3.918.95-7.355-.286-7.355-.286l-.16-2.647z\",\n  fill: \"#2B0849\"\n}), /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M108.341 276.044h3.094s-.103 6.702 4.536 8.558c-4.64.618-8.558-2.303-7.63-8.558\",\n  fill: \"#A4AABA\"\n}), /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M57.542 272.401s-2.107 7.416-4.485 12.306c-1.798 3.695-4.225 7.492 5.465 7.492 6.648 0 8.953-.48 7.423-6.599-1.53-6.12.266-13.199.266-13.199h-8.669z\",\n  fill: \"#CBD1D1\"\n}), /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M51.476 289.793s2.097 1.169 6.633 1.169c6.083 0 8.249-1.65 8.249-1.65s.602 1.114-.619 2.165c-.993.855-3.597 1.591-7.39 1.546-4.145-.048-5.832-.566-6.736-1.168-.825-.55-.687-1.58-.137-2.062\",\n  fill: \"#2B0849\"\n}), /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M58.419 274.304s.033 1.519-.314 2.93c-.349 1.42-1.078 3.104-1.13 4.139-.058 1.151 4.537 1.58 5.155.034.62-1.547 1.294-6.427 1.913-7.252.619-.825-4.903-2.119-5.624.15\",\n  fill: \"#A4AABA\"\n}), /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M99.66 278.514l13.378.092s1.298-54.52 1.853-64.403c.554-9.882 3.776-43.364 1.002-63.128l-12.547-.644-22.849.78s-.434 3.966-1.195 9.976c-.063.496-.682.843-.749 1.365-.075.585.423 1.354.32 1.966-2.364 14.08-6.377 33.104-8.744 46.677-.116.666-1.234 1.009-1.458 2.691-.04.302.211 1.525.112 1.795-6.873 18.744-10.949 47.842-14.277 61.885l14.607-.014s2.197-8.57 4.03-16.97c2.811-12.886 23.111-85.01 23.111-85.01l3.016-.521 1.043 46.35s-.224 1.234.337 2.02c.56.785-.56 1.123-.392 2.244l.392 1.794s-.449 7.178-.898 11.89c-.448 4.71-.092 39.165-.092 39.165\",\n  fill: \"#7BB2F9\"\n}), /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M76.085 221.626c1.153.094 4.038-2.019 6.955-4.935M106.36 225.142s2.774-1.11 6.103-3.883\",\n  stroke: \"#648BD8\",\n  strokeWidth: \"1.051\",\n  strokeLinecap: \"round\",\n  strokeLinejoin: \"round\"\n}), /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M107.275 222.1s2.773-1.11 6.102-3.884\",\n  stroke: \"#648BD8\",\n  strokeLinecap: \"round\",\n  strokeLinejoin: \"round\"\n}), /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M74.74 224.767s2.622-.591 6.505-3.365M86.03 151.634c-.27 3.106.3 8.525-4.336 9.123M103.625 149.88s.11 14.012-1.293 15.065c-2.219 1.664-2.99 1.944-2.99 1.944M99.79 150.438s.035 12.88-1.196 24.377M93.673 175.911s7.212-1.664 9.431-1.664M74.31 205.861a212.013 212.013 0 0 1-.979 4.56s-1.458 1.832-1.009 3.776c.449 1.944-.947 2.045-4.985 15.355-1.696 5.59-4.49 18.591-6.348 27.597l-.231 1.12M75.689 197.807a320.934 320.934 0 0 1-.882 4.754M82.591 152.233L81.395 162.7s-1.097.15-.5 2.244c.113 1.346-2.674 15.775-5.18 30.43M56.12 274.418h13.31\",\n  stroke: \"#648BD8\",\n  strokeWidth: \"1.051\",\n  strokeLinecap: \"round\",\n  strokeLinejoin: \"round\"\n}), /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M116.241 148.22s-17.047-3.104-35.893.2c.158 2.514-.003 4.15-.003 4.15s14.687-2.818 35.67-.312c.252-2.355.226-4.038.226-4.038\",\n  fill: \"#192064\"\n}), /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M106.322 151.165l.003-4.911a.81.81 0 0 0-.778-.815c-2.44-.091-5.066-.108-7.836-.014a.818.818 0 0 0-.789.815l-.003 4.906a.81.81 0 0 0 .831.813c2.385-.06 4.973-.064 7.73.017a.815.815 0 0 0 .842-.81\",\n  fill: \"#FFF\"\n}), /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M105.207 150.233l.002-3.076a.642.642 0 0 0-.619-.646 94.321 94.321 0 0 0-5.866-.01.65.65 0 0 0-.63.647v3.072a.64.64 0 0 0 .654.644 121.12 121.12 0 0 1 5.794.011c.362.01.665-.28.665-.642\",\n  fill: \"#192064\"\n}), /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M100.263 275.415h12.338M101.436 270.53c.006 3.387.042 5.79.111 6.506M101.451 264.548a915.75 915.75 0 0 0-.015 4.337M100.986 174.965l.898 44.642s.673 1.57-.225 2.692c-.897 1.122 2.468.673.898 2.243-1.57 1.57.897 1.122 0 3.365-.596 1.489-.994 21.1-1.096 35.146\",\n  stroke: \"#648BD8\",\n  strokeWidth: \"1.051\",\n  strokeLinecap: \"round\",\n  strokeLinejoin: \"round\"\n}), /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M46.876 83.427s-.516 6.045 7.223 5.552c11.2-.712 9.218-9.345 31.54-21.655-.786-2.708-2.447-4.744-2.447-4.744s-11.068 3.11-22.584 8.046c-6.766 2.9-13.395 6.352-13.732 12.801M104.46 91.057l.941-5.372-8.884-11.43-5.037 5.372-1.74 7.834a.321.321 0 0 0 .108.32c.965.8 6.5 5.013 14.347 3.544a.332.332 0 0 0 .264-.268\",\n  fill: \"#FFC6A0\"\n}), /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M93.942 79.387s-4.533-2.853-2.432-6.855c1.623-3.09 4.513 1.133 4.513 1.133s.52-3.642 3.121-3.642c.52-1.04 1.561-4.162 1.561-4.162s11.445 2.601 13.526 3.121c0 5.203-2.304 19.424-7.84 19.861-8.892.703-12.449-9.456-12.449-9.456\",\n  fill: \"#FFC6A0\"\n}), /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M113.874 73.446c2.601-2.081 3.47-9.722 3.47-9.722s-2.479-.49-6.64-2.05c-4.683-2.081-12.798-4.747-17.48.976-9.668 3.223-2.05 19.823-2.05 19.823l2.713-3.021s-3.935-3.287-2.08-6.243c2.17-3.462 3.92 1.073 3.92 1.073s.637-2.387 3.581-3.342c.355-.71 1.036-2.674 1.432-3.85a1.073 1.073 0 0 1 1.263-.704c2.4.558 8.677 2.019 11.356 2.662.522.125.871.615.82 1.15l-.305 3.248z\",\n  fill: \"#520038\"\n}), /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M104.977 76.064c-.103.61-.582 1.038-1.07.956-.489-.083-.801-.644-.698-1.254.103-.61.582-1.038 1.07-.956.488.082.8.644.698 1.254M112.132 77.694c-.103.61-.582 1.038-1.07.956-.488-.083-.8-.644-.698-1.254.103-.61.582-1.038 1.07-.956.488.082.8.643.698 1.254\",\n  fill: \"#552950\"\n}), /*#__PURE__*/React.createElement(\"path\", {\n  stroke: \"#DB836E\",\n  strokeWidth: \"1.118\",\n  strokeLinecap: \"round\",\n  strokeLinejoin: \"round\",\n  d: \"M110.13 74.84l-.896 1.61-.298 4.357h-2.228\"\n}), /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M110.846 74.481s1.79-.716 2.506.537\",\n  stroke: \"#5C2552\",\n  strokeWidth: \"1.118\",\n  strokeLinecap: \"round\",\n  strokeLinejoin: \"round\"\n}), /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M92.386 74.282s.477-1.114 1.113-.716c.637.398 1.274 1.433.558 1.99-.717.556.159 1.67.159 1.67\",\n  stroke: \"#DB836E\",\n  strokeWidth: \"1.118\",\n  strokeLinecap: \"round\",\n  strokeLinejoin: \"round\"\n}), /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M103.287 72.93s1.83 1.113 4.137.954\",\n  stroke: \"#5C2552\",\n  strokeWidth: \"1.118\",\n  strokeLinecap: \"round\",\n  strokeLinejoin: \"round\"\n}), /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M103.685 81.762s2.227 1.193 4.376 1.193M104.64 84.308s.954.398 1.511.318M94.693 81.205s2.308 7.4 10.424 7.639\",\n  stroke: \"#DB836E\",\n  strokeWidth: \"1.118\",\n  strokeLinecap: \"round\",\n  strokeLinejoin: \"round\"\n}), /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M81.45 89.384s.45 5.647-4.935 12.787M69 82.654s-.726 9.282-8.204 14.206\",\n  stroke: \"#E4EBF7\",\n  strokeWidth: \"1.101\",\n  strokeLinecap: \"round\",\n  strokeLinejoin: \"round\"\n}), /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M129.405 122.865s-5.272 7.403-9.422 10.768\",\n  stroke: \"#E4EBF7\",\n  strokeWidth: \"1.051\",\n  strokeLinecap: \"round\",\n  strokeLinejoin: \"round\"\n}), /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M119.306 107.329s.452 4.366-2.127 32.062\",\n  stroke: \"#E4EBF7\",\n  strokeWidth: \"1.101\",\n  strokeLinecap: \"round\",\n  strokeLinejoin: \"round\"\n}), /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M150.028 151.232h-49.837a1.01 1.01 0 0 1-1.01-1.01v-31.688c0-.557.452-1.01 1.01-1.01h49.837c.558 0 1.01.453 1.01 1.01v31.688a1.01 1.01 0 0 1-1.01 1.01\",\n  fill: \"#F2D7AD\"\n}), /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M150.29 151.232h-19.863v-33.707h20.784v32.786a.92.92 0 0 1-.92.92\",\n  fill: \"#F4D19D\"\n}), /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M123.554 127.896H92.917a.518.518 0 0 1-.425-.816l6.38-9.113c.193-.277.51-.442.85-.442h31.092l-7.26 10.371z\",\n  fill: \"#F2D7AD\"\n}), /*#__PURE__*/React.createElement(\"path\", {\n  fill: \"#CC9B6E\",\n  d: \"M123.689 128.447H99.25v-.519h24.169l7.183-10.26.424.298z\"\n}), /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M158.298 127.896h-18.669a2.073 2.073 0 0 1-1.659-.83l-7.156-9.541h19.965c.49 0 .95.23 1.244.622l6.69 8.92a.519.519 0 0 1-.415.83\",\n  fill: \"#F4D19D\"\n}), /*#__PURE__*/React.createElement(\"path\", {\n  fill: \"#CC9B6E\",\n  d: \"M157.847 128.479h-19.384l-7.857-10.475.415-.31 7.7 10.266h19.126zM130.554 150.685l-.032-8.177.519-.002.032 8.177z\"\n}), /*#__PURE__*/React.createElement(\"path\", {\n  fill: \"#CC9B6E\",\n  d: \"M130.511 139.783l-.08-21.414.519-.002.08 21.414zM111.876 140.932l-.498-.143 1.479-5.167.498.143zM108.437 141.06l-2.679-2.935 2.665-3.434.41.318-2.397 3.089 2.384 2.612zM116.607 141.06l-.383-.35 2.383-2.612-2.397-3.089.41-.318 2.665 3.434z\"\n}), /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M154.316 131.892l-3.114-1.96.038 3.514-1.043.092c-1.682.115-3.634.23-4.789.23-1.902 0-2.693 2.258 2.23 2.648l-2.645-.596s-2.168 1.317.504 2.3c0 0-1.58 1.217.561 2.58-.584 3.504 5.247 4.058 7.122 3.59 1.876-.47 4.233-2.359 4.487-5.16.28-3.085-.89-5.432-3.35-7.238\",\n  fill: \"#FFC6A0\"\n}), /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M153.686 133.577s-6.522.47-8.36.372c-1.836-.098-1.904 2.19 2.359 2.264 3.739.15 5.451-.044 5.451-.044\",\n  stroke: \"#DB836E\",\n  strokeWidth: \"1.051\",\n  strokeLinecap: \"round\",\n  strokeLinejoin: \"round\"\n}), /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M145.16 135.877c-1.85 1.346.561 2.355.561 2.355s3.478.898 6.73.617\",\n  stroke: \"#DB836E\",\n  strokeWidth: \"1.051\",\n  strokeLinecap: \"round\",\n  strokeLinejoin: \"round\"\n}), /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M151.89 141.71s-6.28.111-6.73-2.132c-.223-1.346.45-1.402.45-1.402M146.114 140.868s-1.103 3.16 5.44 3.533M151.202 129.932v3.477M52.838 89.286c3.533-.337 8.423-1.248 13.582-7.754\",\n  stroke: \"#DB836E\",\n  strokeWidth: \"1.051\",\n  strokeLinecap: \"round\",\n  strokeLinejoin: \"round\"\n}), /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M168.567 248.318a6.647 6.647 0 0 1-6.647-6.647v-66.466a6.647 6.647 0 1 1 13.294 0v66.466a6.647 6.647 0 0 1-6.647 6.647\",\n  fill: \"#5BA02E\"\n}), /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M176.543 247.653a6.647 6.647 0 0 1-6.646-6.647v-33.232a6.647 6.647 0 1 1 13.293 0v33.232a6.647 6.647 0 0 1-6.647 6.647\",\n  fill: \"#92C110\"\n}), /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M186.443 293.613H158.92a3.187 3.187 0 0 1-3.187-3.187v-46.134a3.187 3.187 0 0 1 3.187-3.187h27.524a3.187 3.187 0 0 1 3.187 3.187v46.134a3.187 3.187 0 0 1-3.187 3.187\",\n  fill: \"#F2D7AD\"\n}), /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M88.979 89.48s7.776 5.384 16.6 2.842\",\n  stroke: \"#E4EBF7\",\n  strokeWidth: \"1.101\",\n  strokeLinecap: \"round\",\n  strokeLinejoin: \"round\"\n}))));\nexport default NoFound;","\"use client\";\n\nimport * as React from 'react';\nconst ServerError = () => (/*#__PURE__*/React.createElement(\"svg\", {\n  width: \"254\",\n  height: \"294\"\n}, /*#__PURE__*/React.createElement(\"title\", null, \"Server Error\"), /*#__PURE__*/React.createElement(\"defs\", null, /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M0 .335h253.49v253.49H0z\"\n}), /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M0 293.665h253.49V.401H0z\"\n})), /*#__PURE__*/React.createElement(\"g\", {\n  fill: \"none\",\n  fillRule: \"evenodd\"\n}, /*#__PURE__*/React.createElement(\"g\", {\n  transform: \"translate(0 .067)\"\n}, /*#__PURE__*/React.createElement(\"mask\", {\n  fill: \"#fff\"\n}), /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M0 128.134v-2.11C0 56.608 56.273.334 125.69.334h2.11c69.416 0 125.69 56.274 125.69 125.69v2.11c0 69.417-56.274 125.69-125.69 125.69h-2.11C56.273 253.824 0 197.551 0 128.134\",\n  fill: \"#E4EBF7\",\n  mask: \"url(#b)\"\n})), /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M39.989 132.108a8.332 8.332 0 1 1-16.581-1.671 8.332 8.332 0 0 1 16.58 1.671\",\n  fill: \"#FFF\"\n}), /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M37.19 135.59l10.553 5.983M48.665 147.884l-12.734 10.861\",\n  stroke: \"#FFF\",\n  strokeWidth: \"2\"\n}), /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M40.11 160.816a5.706 5.706 0 1 1-11.354-1.145 5.706 5.706 0 0 1 11.354 1.145M57.943 144.6a5.747 5.747 0 1 1-11.436-1.152 5.747 5.747 0 0 1 11.436 1.153M99.656 27.434l30.024-.013a4.619 4.619 0 1 0-.004-9.238l-30.024.013a4.62 4.62 0 0 0 .004 9.238M111.14 45.896l30.023-.013a4.62 4.62 0 1 0-.004-9.238l-30.024.013a4.619 4.619 0 1 0 .004 9.238\",\n  fill: \"#FFF\"\n}), /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M113.53 27.421v-.002l15.89-.007a4.619 4.619 0 1 0 .005 9.238l-15.892.007v-.002a4.618 4.618 0 0 0-.004-9.234M150.167 70.091h-3.979a4.789 4.789 0 0 1-4.774-4.775 4.788 4.788 0 0 1 4.774-4.774h3.979a4.789 4.789 0 0 1 4.775 4.774 4.789 4.789 0 0 1-4.775 4.775\",\n  fill: \"#FFF\"\n}), /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M171.687 30.234c0-16.392 13.289-29.68 29.681-29.68 16.392 0 29.68 13.288 29.68 29.68 0 16.393-13.288 29.681-29.68 29.681s-29.68-13.288-29.68-29.68\",\n  fill: \"#FF603B\"\n}), /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M203.557 19.435l-.676 15.035a1.514 1.514 0 0 1-3.026 0l-.675-15.035a2.19 2.19 0 1 1 4.377 0m-.264 19.378c.513.477.77 1.1.77 1.87s-.257 1.393-.77 1.907c-.55.476-1.21.733-1.943.733a2.545 2.545 0 0 1-1.87-.77c-.55-.514-.806-1.136-.806-1.87 0-.77.256-1.393.806-1.87.513-.513 1.137-.733 1.87-.733.77 0 1.43.22 1.943.733\",\n  fill: \"#FFF\"\n}), /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M119.3 133.275c4.426-.598 3.612-1.204 4.079-4.778.675-5.18-3.108-16.935-8.262-25.118-1.088-10.72-12.598-11.24-12.598-11.24s4.312 4.895 4.196 16.199c1.398 5.243.804 14.45.804 14.45s5.255 11.369 11.78 10.487\",\n  fill: \"#FFB594\"\n}), /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M100.944 91.61s1.463-.583 3.211.582c8.08 1.398 10.368 6.706 11.3 11.368 1.864 1.282 1.864 2.33 1.864 3.496.365.777 1.515 3.03 1.515 3.03s-7.225 1.748-10.954 6.758c-1.399-6.41-6.936-25.235-6.936-25.235\",\n  fill: \"#FFF\"\n}), /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M94.008 90.5l1.019-5.815-9.23-11.874-5.233 5.581-2.593 9.863s8.39 5.128 16.037 2.246\",\n  fill: \"#FFB594\"\n}), /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M82.931 78.216s-4.557-2.868-2.445-6.892c1.632-3.107 4.537 1.139 4.537 1.139s.524-3.662 3.139-3.662c.523-1.046 1.569-4.184 1.569-4.184s11.507 2.615 13.6 3.138c-.001 5.23-2.317 19.529-7.884 19.969-8.94.706-12.516-9.508-12.516-9.508\",\n  fill: \"#FFC6A0\"\n}), /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M102.971 72.243c2.616-2.093 3.489-9.775 3.489-9.775s-2.492-.492-6.676-2.062c-4.708-2.092-12.867-4.771-17.575.982-9.54 4.41-2.062 19.93-2.062 19.93l2.729-3.037s-3.956-3.304-2.092-6.277c2.183-3.48 3.943 1.08 3.943 1.08s.64-2.4 3.6-3.36c.356-.714 1.04-2.69 1.44-3.872a1.08 1.08 0 0 1 1.27-.707c2.41.56 8.723 2.03 11.417 2.676.524.126.876.619.825 1.156l-.308 3.266z\",\n  fill: \"#520038\"\n}), /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M101.22 76.514c-.104.613-.585 1.044-1.076.96-.49-.082-.805-.646-.702-1.26.104-.613.585-1.044 1.076-.961.491.083.805.647.702 1.26M94.26 75.074c-.104.613-.585 1.044-1.076.96-.49-.082-.805-.646-.702-1.26.104-.613.585-1.044 1.076-.96.491.082.805.646.702 1.26\",\n  fill: \"#552950\"\n}), /*#__PURE__*/React.createElement(\"path\", {\n  stroke: \"#DB836E\",\n  strokeWidth: \"1.063\",\n  strokeLinecap: \"round\",\n  strokeLinejoin: \"round\",\n  d: \"M99.206 73.644l-.9 1.62-.3 4.38h-2.24\"\n}), /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M99.926 73.284s1.8-.72 2.52.54\",\n  stroke: \"#5C2552\",\n  strokeWidth: \"1.117\",\n  strokeLinecap: \"round\",\n  strokeLinejoin: \"round\"\n}), /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M81.367 73.084s.48-1.12 1.12-.72c.64.4 1.28 1.44.56 2s.16 1.68.16 1.68\",\n  stroke: \"#DB836E\",\n  strokeWidth: \"1.117\",\n  strokeLinecap: \"round\",\n  strokeLinejoin: \"round\"\n}), /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M92.326 71.724s1.84 1.12 4.16.96\",\n  stroke: \"#5C2552\",\n  strokeWidth: \"1.117\",\n  strokeLinecap: \"round\",\n  strokeLinejoin: \"round\"\n}), /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M92.726 80.604s2.24 1.2 4.4 1.2M93.686 83.164s.96.4 1.52.32M83.687 80.044s1.786 6.547 9.262 7.954\",\n  stroke: \"#DB836E\",\n  strokeWidth: \"1.063\",\n  strokeLinecap: \"round\",\n  strokeLinejoin: \"round\"\n}), /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M95.548 91.663s-1.068 2.821-8.298 2.105c-7.23-.717-10.29-5.044-10.29-5.044\",\n  stroke: \"#E4EBF7\",\n  strokeWidth: \"1.136\",\n  strokeLinecap: \"round\",\n  strokeLinejoin: \"round\"\n}), /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M78.126 87.478s6.526 4.972 16.47 2.486c0 0 9.577 1.02 11.536 5.322 5.36 11.77.543 36.835 0 39.962 3.496 4.055-.466 8.483-.466 8.483-15.624-3.548-35.81-.6-35.81-.6-4.849-3.546-1.223-9.044-1.223-9.044L62.38 110.32c-2.485-15.227.833-19.803 3.549-20.743 3.03-1.049 8.04-1.282 8.04-1.282.496-.058 1.08-.076 1.37-.233 2.36-1.282 2.787-.583 2.787-.583\",\n  fill: \"#FFF\"\n}), /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M65.828 89.81s-6.875.465-7.59 8.156c-.466 8.857 3.03 10.954 3.03 10.954s6.075 22.102 16.796 22.957c8.39-2.176 4.758-6.702 4.661-11.42-.233-11.304-7.108-16.897-7.108-16.897s-4.212-13.75-9.789-13.75\",\n  fill: \"#FFC6A0\"\n}), /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M71.716 124.225s.855 11.264 9.828 6.486c4.765-2.536 7.581-13.828 9.789-22.568 1.456-5.768 2.58-12.197 2.58-12.197l-4.973-1.709s-2.408 5.516-7.769 12.275c-4.335 5.467-9.144 11.11-9.455 17.713\",\n  fill: \"#FFC6A0\"\n}), /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M108.463 105.191s1.747 2.724-2.331 30.535c2.376 2.216 1.053 6.012-.233 7.51\",\n  stroke: \"#E4EBF7\",\n  strokeWidth: \"1.085\",\n  strokeLinecap: \"round\",\n  strokeLinejoin: \"round\"\n}), /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M123.262 131.527s-.427 2.732-11.77 1.981c-15.187-1.006-25.326-3.25-25.326-3.25l.933-5.8s.723.215 9.71-.068c11.887-.373 18.714-6.07 24.964-1.022 4.039 3.263 1.489 8.16 1.489 8.16\",\n  fill: \"#FFC6A0\"\n}), /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M70.24 90.974s-5.593-4.739-11.054 2.68c-3.318 7.223.517 15.284 2.664 19.578-.31 3.729 2.33 4.311 2.33 4.311s.108.895 1.516 2.68c4.078-7.03 6.72-9.166 13.711-12.546-.328-.656-1.877-3.265-1.825-3.767.175-1.69-1.282-2.623-1.282-2.623s-.286-.156-1.165-2.738c-.788-2.313-2.036-5.177-4.895-7.575\",\n  fill: \"#FFF\"\n}), /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M90.232 288.027s4.855 2.308 8.313 1.155c3.188-1.063 5.12.755 8.002 1.331 2.881.577 7.769 1.243 13.207-1.424-.117-6.228-7.786-4.499-13.518-7.588-2.895-1.56-4.276-5.336-4.066-9.944H91.544s-1.573 11.89-1.312 16.47\",\n  fill: \"#CBD1D1\"\n}), /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M90.207 287.833s2.745 1.437 7.639.738c3.456-.494 3.223.66 7.418 1.282 4.195.621 13.092-.194 14.334-1.126.466 1.242-.388 2.33-.388 2.33s-1.709.682-5.438.932c-2.295.154-8.098.276-10.14-.621-2.02-1.554-4.894-1.515-6.06-.234-4.427 1.075-7.184-.31-7.184-.31l-.181-2.991z\",\n  fill: \"#2B0849\"\n}), /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M98.429 272.257h3.496s-.117 7.574 5.127 9.671c-5.244.7-9.672-2.602-8.623-9.671\",\n  fill: \"#A4AABA\"\n}), /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M44.425 272.046s-2.208 7.774-4.702 12.899c-1.884 3.874-4.428 7.854 5.729 7.854 6.97 0 9.385-.503 7.782-6.917-1.604-6.415.279-13.836.279-13.836h-9.088z\",\n  fill: \"#CBD1D1\"\n}), /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M38.066 290.277s2.198 1.225 6.954 1.225c6.376 0 8.646-1.73 8.646-1.73s.63 1.168-.649 2.27c-1.04.897-3.77 1.668-7.745 1.621-4.347-.05-6.115-.593-7.062-1.224-.864-.577-.72-1.657-.144-2.162\",\n  fill: \"#2B0849\"\n}), /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M45.344 274.041s.035 1.592-.329 3.07c-.365 1.49-1.13 3.255-1.184 4.34-.061 1.206 4.755 1.657 5.403.036.65-1.622 1.357-6.737 2.006-7.602.648-.865-5.14-2.222-5.896.156\",\n  fill: \"#A4AABA\"\n}), /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M89.476 277.57l13.899.095s1.349-56.643 1.925-66.909c.576-10.267 3.923-45.052 1.042-65.585l-13.037-.669-23.737.81s-.452 4.12-1.243 10.365c-.065.515-.708.874-.777 1.417-.078.608.439 1.407.332 2.044-2.455 14.627-5.797 32.736-8.256 46.837-.121.693-1.282 1.048-1.515 2.796-.042.314.22 1.584.116 1.865-7.14 19.473-12.202 52.601-15.66 67.19l15.176-.015s2.282-10.145 4.185-18.871c2.922-13.389 24.012-88.32 24.012-88.32l3.133-.954-.158 48.568s-.233 1.282.35 2.098c.583.815-.581 1.167-.408 2.331l.408 1.864s-.466 7.458-.932 12.352c-.467 4.895 1.145 40.69 1.145 40.69\",\n  fill: \"#7BB2F9\"\n}), /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M64.57 218.881c1.197.099 4.195-2.097 7.225-5.127M96.024 222.534s2.881-1.152 6.34-4.034\",\n  stroke: \"#648BD8\",\n  strokeWidth: \"1.085\",\n  strokeLinecap: \"round\",\n  strokeLinejoin: \"round\"\n}), /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M96.973 219.373s2.882-1.153 6.34-4.034\",\n  stroke: \"#648BD8\",\n  strokeWidth: \"1.032\",\n  strokeLinecap: \"round\",\n  strokeLinejoin: \"round\"\n}), /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M63.172 222.144s2.724-.614 6.759-3.496M74.903 146.166c-.281 3.226.31 8.856-4.506 9.478M93.182 144.344s.115 14.557-1.344 15.65c-2.305 1.73-3.107 2.02-3.107 2.02M89.197 144.923s.269 13.144-1.01 25.088M83.525 170.71s6.81-1.051 9.116-1.051M46.026 270.045l-.892 4.538M46.937 263.289l-.815 4.157M62.725 202.503c-.33 1.618-.102 1.904-.449 3.438 0 0-2.756 1.903-2.29 3.923.466 2.02-.31 3.424-4.505 17.252-1.762 5.807-4.233 18.922-6.165 28.278-.03.144-.521 2.646-1.14 5.8M64.158 194.136c-.295 1.658-.6 3.31-.917 4.938M71.33 146.787l-1.244 10.877s-1.14.155-.519 2.33c.117 1.399-2.778 16.39-5.382 31.615M44.242 273.727H58.07\",\n  stroke: \"#648BD8\",\n  strokeWidth: \"1.085\",\n  strokeLinecap: \"round\",\n  strokeLinejoin: \"round\"\n}), /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M106.18 142.117c-3.028-.489-18.825-2.744-36.219.2a.625.625 0 0 0-.518.644c.063 1.307.044 2.343.015 2.995a.617.617 0 0 0 .716.636c3.303-.534 17.037-2.412 35.664-.266.347.04.66-.214.692-.56.124-1.347.16-2.425.17-3.029a.616.616 0 0 0-.52-.62\",\n  fill: \"#192064\"\n}), /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M96.398 145.264l.003-5.102a.843.843 0 0 0-.809-.847 114.104 114.104 0 0 0-8.141-.014.85.85 0 0 0-.82.847l-.003 5.097c0 .476.388.857.864.845 2.478-.064 5.166-.067 8.03.017a.848.848 0 0 0 .876-.843\",\n  fill: \"#FFF\"\n}), /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M95.239 144.296l.002-3.195a.667.667 0 0 0-.643-.672c-1.9-.061-3.941-.073-6.094-.01a.675.675 0 0 0-.654.672l-.002 3.192c0 .376.305.677.68.669 1.859-.042 3.874-.043 6.02.012.376.01.69-.291.691-.668\",\n  fill: \"#192064\"\n}), /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M90.102 273.522h12.819M91.216 269.761c.006 3.519-.072 5.55 0 6.292M90.923 263.474c-.009 1.599-.016 2.558-.016 4.505M90.44 170.404l.932 46.38s.7 1.631-.233 2.796c-.932 1.166 2.564.7.932 2.33-1.63 1.633.933 1.166 0 3.497-.618 1.546-1.031 21.921-1.138 36.513\",\n  stroke: \"#648BD8\",\n  strokeWidth: \"1.085\",\n  strokeLinecap: \"round\",\n  strokeLinejoin: \"round\"\n}), /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M73.736 98.665l2.214 4.312s2.098.816 1.865 2.68l.816 2.214M64.297 116.611c.233-.932 2.176-7.147 12.585-10.488M77.598 90.042s7.691 6.137 16.547 2.72\",\n  stroke: \"#E4EBF7\",\n  strokeWidth: \"1.085\",\n  strokeLinecap: \"round\",\n  strokeLinejoin: \"round\"\n}), /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M91.974 86.954s5.476-.816 7.574-4.545c1.297-.345.72 2.212-.33 3.671-.7.971-1.01 1.554-1.01 1.554s.194.31.155.816c-.053.697-.175.653-.272 1.048-.081.335.108.657 0 1.049-.046.17-.198.5-.382.878-.12.249-.072.687-.2.948-.231.469-1.562 1.87-2.622 2.855-3.826 3.554-5.018 1.644-6.001-.408-.894-1.865-.661-5.127-.874-6.875-.35-2.914-2.622-3.03-1.923-4.429.343-.685 2.87.69 3.263 1.748.757 2.04 2.952 1.807 2.622 1.69\",\n  fill: \"#FFC6A0\"\n}), /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M99.8 82.429c-.465.077-.35.272-.97 1.243-.622.971-4.817 2.932-6.39 3.224-2.589.48-2.278-1.56-4.254-2.855-1.69-1.107-3.562-.638-1.398 1.398.99.932.932 1.107 1.398 3.205.335 1.506-.64 3.67.7 5.593\",\n  stroke: \"#DB836E\",\n  strokeWidth: \".774\",\n  strokeLinecap: \"round\",\n  strokeLinejoin: \"round\"\n}), /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M79.543 108.673c-2.1 2.926-4.266 6.175-5.557 8.762\",\n  stroke: \"#E59788\",\n  strokeWidth: \".774\",\n  strokeLinecap: \"round\",\n  strokeLinejoin: \"round\"\n}), /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M87.72 124.768s-2.098-1.942-5.127-2.719c-3.03-.777-3.574-.155-5.516.078-1.942.233-3.885-.932-3.652.7.233 1.63 5.05 1.01 5.206 2.097.155 1.087-6.37 2.796-8.313 2.175-.777.777.466 1.864 2.02 2.175.233 1.554 2.253 1.554 2.253 1.554s.699 1.01 2.641 1.088c2.486 1.32 8.934-.7 10.954-1.554 2.02-.855-.466-5.594-.466-5.594\",\n  fill: \"#FFC6A0\"\n}), /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M73.425 122.826s.66 1.127 3.167 1.418c2.315.27 2.563.583 2.563.583s-2.545 2.894-9.07 2.272M72.416 129.274s3.826.097 4.933-.718M74.98 130.75s1.961.136 3.36-.505M77.232 131.916s1.748.019 2.914-.505M73.328 122.321s-.595-1.032 1.262-.427c1.671.544 2.833.055 5.128.155 1.389.061 3.067-.297 3.982.15 1.606.784 3.632 2.181 3.632 2.181s10.526 1.204 19.033-1.127M78.864 108.104s-8.39 2.758-13.168 12.12\",\n  stroke: \"#E59788\",\n  strokeWidth: \".774\",\n  strokeLinecap: \"round\",\n  strokeLinejoin: \"round\"\n}), /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M109.278 112.533s3.38-3.613 7.575-4.662\",\n  stroke: \"#E4EBF7\",\n  strokeWidth: \"1.085\",\n  strokeLinecap: \"round\",\n  strokeLinejoin: \"round\"\n}), /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M107.375 123.006s9.697-2.745 11.445-.88\",\n  stroke: \"#E59788\",\n  strokeWidth: \".774\",\n  strokeLinecap: \"round\",\n  strokeLinejoin: \"round\"\n}), /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M194.605 83.656l3.971-3.886M187.166 90.933l3.736-3.655M191.752 84.207l-4.462-4.56M198.453 91.057l-4.133-4.225M129.256 163.074l3.718-3.718M122.291 170.039l3.498-3.498M126.561 163.626l-4.27-4.27M132.975 170.039l-3.955-3.955\",\n  stroke: \"#BFCDDD\",\n  strokeWidth: \"2\",\n  strokeLinecap: \"round\",\n  strokeLinejoin: \"round\"\n}), /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M190.156 211.779h-1.604a4.023 4.023 0 0 1-4.011-4.011V175.68a4.023 4.023 0 0 1 4.01-4.01h1.605a4.023 4.023 0 0 1 4.011 4.01v32.088a4.023 4.023 0 0 1-4.01 4.01\",\n  fill: \"#A3B4C6\"\n}), /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M237.824 212.977a4.813 4.813 0 0 1-4.813 4.813h-86.636a4.813 4.813 0 0 1 0-9.626h86.636a4.813 4.813 0 0 1 4.813 4.813\",\n  fill: \"#A3B4C6\"\n}), /*#__PURE__*/React.createElement(\"mask\", {\n  fill: \"#fff\"\n}), /*#__PURE__*/React.createElement(\"path\", {\n  fill: \"#A3B4C6\",\n  mask: \"url(#d)\",\n  d: \"M154.098 190.096h70.513v-84.617h-70.513z\"\n}), /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M224.928 190.096H153.78a3.219 3.219 0 0 1-3.208-3.209V167.92a3.219 3.219 0 0 1 3.208-3.21h71.148a3.219 3.219 0 0 1 3.209 3.21v18.967a3.219 3.219 0 0 1-3.21 3.209M224.928 130.832H153.78a3.218 3.218 0 0 1-3.208-3.208v-18.968a3.219 3.219 0 0 1 3.208-3.209h71.148a3.219 3.219 0 0 1 3.209 3.21v18.967a3.218 3.218 0 0 1-3.21 3.208\",\n  fill: \"#BFCDDD\",\n  mask: \"url(#d)\"\n}), /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M159.563 120.546a2.407 2.407 0 1 1 0-4.813 2.407 2.407 0 0 1 0 4.813M166.98 120.546a2.407 2.407 0 1 1 0-4.813 2.407 2.407 0 0 1 0 4.813M174.397 120.546a2.407 2.407 0 1 1 0-4.813 2.407 2.407 0 0 1 0 4.813M222.539 120.546h-22.461a.802.802 0 0 1-.802-.802v-3.208c0-.443.359-.803.802-.803h22.46c.444 0 .803.36.803.803v3.208c0 .443-.36.802-.802.802\",\n  fill: \"#FFF\",\n  mask: \"url(#d)\"\n}), /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M224.928 160.464H153.78a3.218 3.218 0 0 1-3.208-3.209v-18.967a3.219 3.219 0 0 1 3.208-3.209h71.148a3.219 3.219 0 0 1 3.209 3.209v18.967a3.218 3.218 0 0 1-3.21 3.209\",\n  fill: \"#BFCDDD\",\n  mask: \"url(#d)\"\n}), /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M173.455 130.832h49.301M164.984 130.832h6.089M155.952 130.832h6.75M173.837 160.613h49.3M165.365 160.613h6.089M155.57 160.613h6.751\",\n  stroke: \"#7C90A5\",\n  strokeWidth: \"1.124\",\n  strokeLinecap: \"round\",\n  strokeLinejoin: \"round\",\n  mask: \"url(#d)\"\n}), /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M159.563 151.038a2.407 2.407 0 1 1 0-4.814 2.407 2.407 0 0 1 0 4.814M166.98 151.038a2.407 2.407 0 1 1 0-4.814 2.407 2.407 0 0 1 0 4.814M174.397 151.038a2.407 2.407 0 1 1 .001-4.814 2.407 2.407 0 0 1 0 4.814M222.539 151.038h-22.461a.802.802 0 0 1-.802-.802v-3.209c0-.443.359-.802.802-.802h22.46c.444 0 .803.36.803.802v3.209c0 .443-.36.802-.802.802M159.563 179.987a2.407 2.407 0 1 1 0-4.813 2.407 2.407 0 0 1 0 4.813M166.98 179.987a2.407 2.407 0 1 1 0-4.813 2.407 2.407 0 0 1 0 4.813M174.397 179.987a2.407 2.407 0 1 1 0-4.813 2.407 2.407 0 0 1 0 4.813M222.539 179.987h-22.461a.802.802 0 0 1-.802-.802v-3.209c0-.443.359-.802.802-.802h22.46c.444 0 .803.36.803.802v3.209c0 .443-.36.802-.802.802\",\n  fill: \"#FFF\",\n  mask: \"url(#d)\"\n}), /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M203.04 221.108h-27.372a2.413 2.413 0 0 1-2.406-2.407v-11.448a2.414 2.414 0 0 1 2.406-2.407h27.372a2.414 2.414 0 0 1 2.407 2.407V218.7a2.413 2.413 0 0 1-2.407 2.407\",\n  fill: \"#BFCDDD\",\n  mask: \"url(#d)\"\n}), /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M177.259 207.217v11.52M201.05 207.217v11.52\",\n  stroke: \"#A3B4C6\",\n  strokeWidth: \"1.124\",\n  strokeLinecap: \"round\",\n  strokeLinejoin: \"round\",\n  mask: \"url(#d)\"\n}), /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M162.873 267.894a9.422 9.422 0 0 1-9.422-9.422v-14.82a9.423 9.423 0 0 1 18.845 0v14.82a9.423 9.423 0 0 1-9.423 9.422\",\n  fill: \"#5BA02E\",\n  mask: \"url(#d)\"\n}), /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M171.22 267.83a9.422 9.422 0 0 1-9.422-9.423v-3.438a9.423 9.423 0 0 1 18.845 0v3.438a9.423 9.423 0 0 1-9.422 9.423\",\n  fill: \"#92C110\",\n  mask: \"url(#d)\"\n}), /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M181.31 293.666h-27.712a3.209 3.209 0 0 1-3.209-3.21V269.79a3.209 3.209 0 0 1 3.209-3.21h27.711a3.209 3.209 0 0 1 3.209 3.21v20.668a3.209 3.209 0 0 1-3.209 3.209\",\n  fill: \"#F2D7AD\",\n  mask: \"url(#d)\"\n}))));\nexport default ServerError;","import { unit } from '@ant-design/cssinjs';\nimport { genStyleHooks, mergeToken } from '../../theme/internal';\n// ============================== Styles ==============================\nconst genBaseStyle = token => {\n  const {\n    componentCls,\n    lineHeightHeading3,\n    iconCls,\n    padding,\n    paddingXL,\n    paddingXS,\n    paddingLG,\n    marginXS,\n    lineHeight\n  } = token;\n  return {\n    // Result\n    [componentCls]: {\n      padding: `${unit(token.calc(paddingLG).mul(2).equal())} ${unit(paddingXL)}`,\n      // RTL\n      '&-rtl': {\n        direction: 'rtl'\n      }\n    },\n    // Exception Status image\n    [`${componentCls} ${componentCls}-image`]: {\n      width: token.imageWidth,\n      height: token.imageHeight,\n      margin: 'auto'\n    },\n    [`${componentCls} ${componentCls}-icon`]: {\n      marginBottom: paddingLG,\n      textAlign: 'center',\n      [`& > ${iconCls}`]: {\n        fontSize: token.iconFontSize\n      }\n    },\n    [`${componentCls} ${componentCls}-title`]: {\n      color: token.colorTextHeading,\n      fontSize: token.titleFontSize,\n      lineHeight: lineHeightHeading3,\n      marginBlock: marginXS,\n      textAlign: 'center'\n    },\n    [`${componentCls} ${componentCls}-subtitle`]: {\n      color: token.colorTextDescription,\n      fontSize: token.subtitleFontSize,\n      lineHeight,\n      textAlign: 'center'\n    },\n    [`${componentCls} ${componentCls}-content`]: {\n      marginTop: paddingLG,\n      padding: `${unit(paddingLG)} ${unit(token.calc(padding).mul(2.5).equal())}`,\n      backgroundColor: token.colorFillAlter\n    },\n    [`${componentCls} ${componentCls}-extra`]: {\n      margin: token.extraMargin,\n      textAlign: 'center',\n      '& > *': {\n        marginInlineEnd: paddingXS,\n        '&:last-child': {\n          marginInlineEnd: 0\n        }\n      }\n    }\n  };\n};\nconst genStatusIconStyle = token => {\n  const {\n    componentCls,\n    iconCls\n  } = token;\n  return {\n    [`${componentCls}-success ${componentCls}-icon > ${iconCls}`]: {\n      color: token.resultSuccessIconColor\n    },\n    [`${componentCls}-error ${componentCls}-icon > ${iconCls}`]: {\n      color: token.resultErrorIconColor\n    },\n    [`${componentCls}-info ${componentCls}-icon > ${iconCls}`]: {\n      color: token.resultInfoIconColor\n    },\n    [`${componentCls}-warning ${componentCls}-icon > ${iconCls}`]: {\n      color: token.resultWarningIconColor\n    }\n  };\n};\nconst genResultStyle = token => [genBaseStyle(token), genStatusIconStyle(token)];\nconst getStyle = token => genResultStyle(token);\n// ============================== Export ==============================\nexport const prepareComponentToken = token => ({\n  titleFontSize: token.fontSizeHeading3,\n  subtitleFontSize: token.fontSize,\n  iconFontSize: token.fontSizeHeading3 * 3,\n  extraMargin: `${token.paddingLG}px 0 0 0`\n});\nexport default genStyleHooks('Result', token => {\n  const resultInfoIconColor = token.colorInfo;\n  const resultErrorIconColor = token.colorError;\n  const resultSuccessIconColor = token.colorSuccess;\n  const resultWarningIconColor = token.colorWarning;\n  const resultToken = mergeToken(token, {\n    resultInfoIconColor,\n    resultErrorIconColor,\n    resultSuccessIconColor,\n    resultWarningIconColor,\n    imageWidth: 250,\n    imageHeight: 295\n  });\n  return [getStyle(resultToken)];\n}, prepareComponentToken);","\"use client\";\n\nimport * as React from 'react';\nconst Unauthorized = () => (/*#__PURE__*/React.createElement(\"svg\", {\n  width: \"251\",\n  height: \"294\"\n}, /*#__PURE__*/React.createElement(\"title\", null, \"Unauthorized\"), /*#__PURE__*/React.createElement(\"g\", {\n  fill: \"none\",\n  fillRule: \"evenodd\"\n}, /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M0 129.023v-2.084C0 58.364 55.591 2.774 124.165 2.774h2.085c68.574 0 124.165 55.59 124.165 124.165v2.084c0 68.575-55.59 124.166-124.165 124.166h-2.085C55.591 253.189 0 197.598 0 129.023\",\n  fill: \"#E4EBF7\"\n}), /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M41.417 132.92a8.231 8.231 0 1 1-16.38-1.65 8.231 8.231 0 0 1 16.38 1.65\",\n  fill: \"#FFF\"\n}), /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M38.652 136.36l10.425 5.91M49.989 148.505l-12.58 10.73\",\n  stroke: \"#FFF\",\n  strokeWidth: \"2\"\n}), /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M41.536 161.28a5.636 5.636 0 1 1-11.216-1.13 5.636 5.636 0 0 1 11.216 1.13M59.154 145.261a5.677 5.677 0 1 1-11.297-1.138 5.677 5.677 0 0 1 11.297 1.138M100.36 29.516l29.66-.013a4.562 4.562 0 1 0-.004-9.126l-29.66.013a4.563 4.563 0 0 0 .005 9.126M111.705 47.754l29.659-.013a4.563 4.563 0 1 0-.004-9.126l-29.66.013a4.563 4.563 0 1 0 .005 9.126\",\n  fill: \"#FFF\"\n}), /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M114.066 29.503V29.5l15.698-.007a4.563 4.563 0 1 0 .004 9.126l-15.698.007v-.002a4.562 4.562 0 0 0-.004-9.122M185.405 137.723c-.55 5.455-5.418 9.432-10.873 8.882-5.456-.55-9.432-5.418-8.882-10.873.55-5.455 5.418-9.432 10.873-8.882 5.455.55 9.432 5.418 8.882 10.873\",\n  fill: \"#FFF\"\n}), /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M180.17 143.772l12.572 7.129M193.841 158.42L178.67 171.36\",\n  stroke: \"#FFF\",\n  strokeWidth: \"2\"\n}), /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M185.55 171.926a6.798 6.798 0 1 1-13.528-1.363 6.798 6.798 0 0 1 13.527 1.363M204.12 155.285a6.848 6.848 0 1 1-13.627-1.375 6.848 6.848 0 0 1 13.626 1.375\",\n  fill: \"#FFF\"\n}), /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M152.988 194.074a2.21 2.21 0 1 1-4.42 0 2.21 2.21 0 0 1 4.42 0zM225.931 118.217a2.21 2.21 0 1 1-4.421 0 2.21 2.21 0 0 1 4.421 0zM217.09 153.051a2.21 2.21 0 1 1-4.421 0 2.21 2.21 0 0 1 4.42 0zM177.84 109.842a2.21 2.21 0 1 1-4.422 0 2.21 2.21 0 0 1 4.421 0zM196.114 94.454a2.21 2.21 0 1 1-4.421 0 2.21 2.21 0 0 1 4.421 0zM202.844 182.523a2.21 2.21 0 1 1-4.42 0 2.21 2.21 0 0 1 4.42 0z\",\n  stroke: \"#FFF\",\n  strokeWidth: \"2\"\n}), /*#__PURE__*/React.createElement(\"path\", {\n  stroke: \"#FFF\",\n  strokeWidth: \"2\",\n  d: \"M215.125 155.262l-1.902 20.075-10.87 5.958M174.601 176.636l-6.322 9.761H156.98l-4.484 6.449M175.874 127.28V111.56M221.51 119.404l-12.77 7.859-15.228-7.86V96.668\"\n}), /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M180.68 29.32C180.68 13.128 193.806 0 210 0c16.193 0 29.32 13.127 29.32 29.32 0 16.194-13.127 29.322-29.32 29.322-16.193 0-29.32-13.128-29.32-29.321\",\n  fill: \"#A26EF4\"\n}), /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M221.45 41.706l-21.563-.125a1.744 1.744 0 0 1-1.734-1.754l.071-12.23a1.744 1.744 0 0 1 1.754-1.734l21.562.125c.964.006 1.74.791 1.735 1.755l-.071 12.229a1.744 1.744 0 0 1-1.754 1.734\",\n  fill: \"#FFF\"\n}), /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M215.106 29.192c-.015 2.577-2.049 4.654-4.543 4.64-2.494-.014-4.504-2.115-4.489-4.693l.04-6.925c.016-2.577 2.05-4.654 4.543-4.64 2.494.015 4.504 2.116 4.49 4.693l-.04 6.925zm-4.53-14.074a6.877 6.877 0 0 0-6.916 6.837l-.043 7.368a6.877 6.877 0 0 0 13.754.08l.042-7.368a6.878 6.878 0 0 0-6.837-6.917zM167.566 68.367h-3.93a4.73 4.73 0 0 1-4.717-4.717 4.73 4.73 0 0 1 4.717-4.717h3.93a4.73 4.73 0 0 1 4.717 4.717 4.73 4.73 0 0 1-4.717 4.717\",\n  fill: \"#FFF\"\n}), /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M168.214 248.838a6.611 6.611 0 0 1-6.61-6.611v-66.108a6.611 6.611 0 0 1 13.221 0v66.108a6.611 6.611 0 0 1-6.61 6.61\",\n  fill: \"#5BA02E\"\n}), /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M176.147 248.176a6.611 6.611 0 0 1-6.61-6.61v-33.054a6.611 6.611 0 1 1 13.221 0v33.053a6.611 6.611 0 0 1-6.61 6.611\",\n  fill: \"#92C110\"\n}), /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M185.994 293.89h-27.376a3.17 3.17 0 0 1-3.17-3.17v-45.887a3.17 3.17 0 0 1 3.17-3.17h27.376a3.17 3.17 0 0 1 3.17 3.17v45.886a3.17 3.17 0 0 1-3.17 3.17\",\n  fill: \"#F2D7AD\"\n}), /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M81.972 147.673s6.377-.927 17.566-1.28c11.729-.371 17.57 1.086 17.57 1.086s3.697-3.855.968-8.424c1.278-12.077 5.982-32.827.335-48.273-1.116-1.339-3.743-1.512-7.536-.62-1.337.315-7.147-.149-7.983-.1l-15.311-.347s-3.487-.17-8.035-.508c-1.512-.113-4.227-1.683-5.458-.338-.406.443-2.425 5.669-1.97 16.077l8.635 35.642s-3.141 3.61 1.219 7.085\",\n  fill: \"#FFF\"\n}), /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M75.768 73.325l-.9-6.397 11.982-6.52s7.302-.118 8.038 1.205c.737 1.324-5.616.993-5.616.993s-1.836 1.388-2.615 2.5c-1.654 2.363-.986 6.471-8.318 5.986-1.708.284-2.57 2.233-2.57 2.233\",\n  fill: \"#FFC6A0\"\n}), /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M52.44 77.672s14.217 9.406 24.973 14.444c1.061.497-2.094 16.183-11.892 11.811-7.436-3.318-20.162-8.44-21.482-14.496-.71-3.258 2.543-7.643 8.401-11.76M141.862 80.113s-6.693 2.999-13.844 6.876c-3.894 2.11-10.137 4.704-12.33 7.988-6.224 9.314 3.536 11.22 12.947 7.503 6.71-2.651 28.999-12.127 13.227-22.367\",\n  fill: \"#FFB594\"\n}), /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M76.166 66.36l3.06 3.881s-2.783 2.67-6.31 5.747c-7.103 6.195-12.803 14.296-15.995 16.44-3.966 2.662-9.754 3.314-12.177-.118-3.553-5.032.464-14.628 31.422-25.95\",\n  fill: \"#FFC6A0\"\n}), /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M64.674 85.116s-2.34 8.413-8.912 14.447c.652.548 18.586 10.51 22.144 10.056 5.238-.669 6.417-18.968 1.145-20.531-.702-.208-5.901-1.286-8.853-2.167-.87-.26-1.611-1.71-3.545-.936l-1.98-.869zM128.362 85.826s5.318 1.956 7.325 13.734c-.546.274-17.55 12.35-21.829 7.805-6.534-6.94-.766-17.393 4.275-18.61 4.646-1.121 5.03-1.37 10.23-2.929\",\n  fill: \"#FFF\"\n}), /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M78.18 94.656s.911 7.41-4.914 13.078\",\n  stroke: \"#E4EBF7\",\n  strokeWidth: \"1.051\",\n  strokeLinecap: \"round\",\n  strokeLinejoin: \"round\"\n}), /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M87.397 94.68s3.124 2.572 10.263 2.572c7.14 0 9.074-3.437 9.074-3.437\",\n  stroke: \"#E4EBF7\",\n  strokeWidth: \".932\",\n  strokeLinecap: \"round\",\n  strokeLinejoin: \"round\"\n}), /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M117.184 68.639l-6.781-6.177s-5.355-4.314-9.223-.893c-3.867 3.422 4.463 2.083 5.653 4.165 1.19 2.082.848 1.143-2.083.446-5.603-1.331-2.082.893 2.975 5.355 2.091 1.845 6.992.955 6.992.955l2.467-3.851z\",\n  fill: \"#FFC6A0\"\n}), /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M105.282 91.315l-.297-10.937-15.918-.027-.53 10.45c-.026.403.17.788.515.999 2.049 1.251 9.387 5.093 15.799.424.287-.21.443-.554.431-.91\",\n  fill: \"#FFB594\"\n}), /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M107.573 74.24c.817-1.147.982-9.118 1.015-11.928a1.046 1.046 0 0 0-.965-1.055l-4.62-.365c-7.71-1.044-17.071.624-18.253 6.346-5.482 5.813-.421 13.244-.421 13.244s1.963 3.566 4.305 6.791c.756 1.041.398-3.731 3.04-5.929 5.524-4.594 15.899-7.103 15.899-7.103\",\n  fill: \"#5C2552\"\n}), /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M88.426 83.206s2.685 6.202 11.602 6.522c7.82.28 8.973-7.008 7.434-17.505l-.909-5.483c-6.118-2.897-15.478.54-15.478.54s-.576 2.044-.19 5.504c-2.276 2.066-1.824 5.618-1.824 5.618s-.905-1.922-1.98-2.321c-.86-.32-1.897.089-2.322 1.98-1.04 4.632 3.667 5.145 3.667 5.145\",\n  fill: \"#FFC6A0\"\n}), /*#__PURE__*/React.createElement(\"path\", {\n  stroke: \"#DB836E\",\n  strokeWidth: \"1.145\",\n  strokeLinecap: \"round\",\n  strokeLinejoin: \"round\",\n  d: \"M100.843 77.099l1.701-.928-1.015-4.324.674-1.406\"\n}), /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M105.546 74.092c-.022.713-.452 1.279-.96 1.263-.51-.016-.904-.607-.882-1.32.021-.713.452-1.278.96-1.263.51.016.904.607.882 1.32M97.592 74.349c-.022.713-.452 1.278-.961 1.263-.509-.016-.904-.607-.882-1.32.022-.713.452-1.279.961-1.263.51.016.904.606.882 1.32\",\n  fill: \"#552950\"\n}), /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M91.132 86.786s5.269 4.957 12.679 2.327\",\n  stroke: \"#DB836E\",\n  strokeWidth: \"1.145\",\n  strokeLinecap: \"round\",\n  strokeLinejoin: \"round\"\n}), /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M99.776 81.903s-3.592.232-1.44-2.79c1.59-1.496 4.897-.46 4.897-.46s1.156 3.906-3.457 3.25\",\n  fill: \"#DB836E\"\n}), /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M102.88 70.6s2.483.84 3.402.715M93.883 71.975s2.492-1.144 4.778-1.073\",\n  stroke: \"#5C2552\",\n  strokeWidth: \"1.526\",\n  strokeLinecap: \"round\",\n  strokeLinejoin: \"round\"\n}), /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M86.32 77.374s.961.879 1.458 2.106c-.377.48-1.033 1.152-.236 1.809M99.337 83.719s1.911.151 2.509-.254\",\n  stroke: \"#DB836E\",\n  strokeWidth: \"1.145\",\n  strokeLinecap: \"round\",\n  strokeLinejoin: \"round\"\n}), /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M87.782 115.821l15.73-3.012M100.165 115.821l10.04-2.008\",\n  stroke: \"#E4EBF7\",\n  strokeWidth: \"1.051\",\n  strokeLinecap: \"round\",\n  strokeLinejoin: \"round\"\n}), /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M66.508 86.763s-1.598 8.83-6.697 14.078\",\n  stroke: \"#E4EBF7\",\n  strokeWidth: \"1.114\",\n  strokeLinecap: \"round\",\n  strokeLinejoin: \"round\"\n}), /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M128.31 87.934s3.013 4.121 4.06 11.785\",\n  stroke: \"#E4EBF7\",\n  strokeWidth: \"1.051\",\n  strokeLinecap: \"round\",\n  strokeLinejoin: \"round\"\n}), /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M64.09 84.816s-6.03 9.912-13.607 9.903\",\n  stroke: \"#DB836E\",\n  strokeWidth: \".795\",\n  strokeLinecap: \"round\",\n  strokeLinejoin: \"round\"\n}), /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M112.366 65.909l-.142 5.32s5.993 4.472 11.945 9.202c4.482 3.562 8.888 7.455 10.985 8.662 4.804 2.766 8.9 3.355 11.076 1.808 4.071-2.894 4.373-9.878-8.136-15.263-4.271-1.838-16.144-6.36-25.728-9.73\",\n  fill: \"#FFC6A0\"\n}), /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M130.532 85.488s4.588 5.757 11.619 6.214\",\n  stroke: \"#DB836E\",\n  strokeWidth: \".75\",\n  strokeLinecap: \"round\",\n  strokeLinejoin: \"round\"\n}), /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M121.708 105.73s-.393 8.564-1.34 13.612\",\n  stroke: \"#E4EBF7\",\n  strokeWidth: \"1.051\",\n  strokeLinecap: \"round\",\n  strokeLinejoin: \"round\"\n}), /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M115.784 161.512s-3.57-1.488-2.678-7.14\",\n  stroke: \"#648BD8\",\n  strokeWidth: \"1.051\",\n  strokeLinecap: \"round\",\n  strokeLinejoin: \"round\"\n}), /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M101.52 290.246s4.326 2.057 7.408 1.03c2.842-.948 4.564.673 7.132 1.186 2.57.514 6.925 1.108 11.772-1.269-.104-5.551-6.939-4.01-12.048-6.763-2.582-1.39-3.812-4.757-3.625-8.863h-9.471s-1.402 10.596-1.169 14.68\",\n  fill: \"#CBD1D1\"\n}), /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M101.496 290.073s2.447 1.281 6.809.658c3.081-.44 3.74.485 7.479 1.039 3.739.554 10.802-.07 11.91-.9.415 1.108-.347 2.077-.347 2.077s-1.523.608-4.847.831c-2.045.137-5.843.293-7.663-.507-1.8-1.385-5.286-1.917-5.77-.243-3.947.958-7.41-.288-7.41-.288l-.16-2.667z\",\n  fill: \"#2B0849\"\n}), /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M108.824 276.19h3.116s-.103 6.751 4.57 8.62c-4.673.624-8.62-2.32-7.686-8.62\",\n  fill: \"#A4AABA\"\n}), /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M57.65 272.52s-2.122 7.47-4.518 12.396c-1.811 3.724-4.255 7.548 5.505 7.548 6.698 0 9.02-.483 7.479-6.648-1.541-6.164.268-13.296.268-13.296H57.65z\",\n  fill: \"#CBD1D1\"\n}), /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M51.54 290.04s2.111 1.178 6.682 1.178c6.128 0 8.31-1.662 8.31-1.662s.605 1.122-.624 2.18c-1 .862-3.624 1.603-7.444 1.559-4.177-.049-5.876-.57-6.786-1.177-.831-.554-.692-1.593-.138-2.078\",\n  fill: \"#2B0849\"\n}), /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M58.533 274.438s.034 1.529-.315 2.95c-.352 1.431-1.087 3.127-1.139 4.17-.058 1.16 4.57 1.592 5.194.035.623-1.559 1.303-6.475 1.927-7.306.622-.831-4.94-2.135-5.667.15\",\n  fill: \"#A4AABA\"\n}), /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M100.885 277.015l13.306.092s1.291-54.228 1.843-64.056c.552-9.828 3.756-43.13.997-62.788l-12.48-.64-22.725.776s-.433 3.944-1.19 9.921c-.062.493-.677.838-.744 1.358-.075.582.42 1.347.318 1.956-2.35 14.003-6.343 32.926-8.697 46.425-.116.663-1.227 1.004-1.45 2.677-.04.3.21 1.516.112 1.785-6.836 18.643-10.89 47.584-14.2 61.551l14.528-.014s2.185-8.524 4.008-16.878c2.796-12.817 22.987-84.553 22.987-84.553l3-.517 1.037 46.1s-.223 1.228.334 2.008c.558.782-.556 1.117-.39 2.233l.39 1.784s-.446 7.14-.892 11.826c-.446 4.685-.092 38.954-.092 38.954\",\n  fill: \"#7BB2F9\"\n}), /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M77.438 220.434c1.146.094 4.016-2.008 6.916-4.91M107.55 223.931s2.758-1.103 6.069-3.862\",\n  stroke: \"#648BD8\",\n  strokeWidth: \"1.051\",\n  strokeLinecap: \"round\",\n  strokeLinejoin: \"round\"\n}), /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M108.459 220.905s2.759-1.104 6.07-3.863\",\n  stroke: \"#648BD8\",\n  strokeLinecap: \"round\",\n  strokeLinejoin: \"round\"\n}), /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M76.099 223.557s2.608-.587 6.47-3.346M87.33 150.82c-.27 3.088.297 8.478-4.315 9.073M104.829 149.075s.11 13.936-1.286 14.983c-2.207 1.655-2.975 1.934-2.975 1.934M101.014 149.63s.035 12.81-1.19 24.245M94.93 174.965s7.174-1.655 9.38-1.655M75.671 204.754c-.316 1.55-.64 3.067-.973 4.535 0 0-1.45 1.822-1.003 3.756.446 1.934-.943 2.034-4.96 15.273-1.686 5.559-4.464 18.49-6.313 27.447-.078.38-4.018 18.06-4.093 18.423M77.043 196.743a313.269 313.269 0 0 1-.877 4.729M83.908 151.414l-1.19 10.413s-1.091.148-.496 2.23c.111 1.34-2.66 15.692-5.153 30.267M57.58 272.94h13.238\",\n  stroke: \"#648BD8\",\n  strokeWidth: \"1.051\",\n  strokeLinecap: \"round\",\n  strokeLinejoin: \"round\"\n}), /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M117.377 147.423s-16.955-3.087-35.7.199c.157 2.501-.002 4.128-.002 4.128s14.607-2.802 35.476-.31c.251-2.342.226-4.017.226-4.017\",\n  fill: \"#192064\"\n}), /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M107.511 150.353l.004-4.885a.807.807 0 0 0-.774-.81c-2.428-.092-5.04-.108-7.795-.014a.814.814 0 0 0-.784.81l-.003 4.88c0 .456.371.82.827.808a140.76 140.76 0 0 1 7.688.017.81.81 0 0 0 .837-.806\",\n  fill: \"#FFF\"\n}), /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M106.402 149.426l.002-3.06a.64.64 0 0 0-.616-.643 94.135 94.135 0 0 0-5.834-.009.647.647 0 0 0-.626.643l-.001 3.056c0 .36.291.648.651.64 1.78-.04 3.708-.041 5.762.012.36.009.662-.279.662-.64\",\n  fill: \"#192064\"\n}), /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M101.485 273.933h12.272M102.652 269.075c.006 3.368.04 5.759.11 6.47M102.667 263.125c-.009 1.53-.015 2.98-.016 4.313M102.204 174.024l.893 44.402s.669 1.561-.224 2.677c-.892 1.116 2.455.67.893 2.231-1.562 1.562.893 1.116 0 3.347-.592 1.48-.988 20.987-1.09 34.956\",\n  stroke: \"#648BD8\",\n  strokeWidth: \"1.051\",\n  strokeLinecap: \"round\",\n  strokeLinejoin: \"round\"\n}))));\nexport default Unauthorized;","\"use client\";\n\nimport * as React from 'react';\nimport CheckCircleFilled from \"@ant-design/icons/es/icons/CheckCircleFilled\";\nimport CloseCircleFilled from \"@ant-design/icons/es/icons/CloseCircleFilled\";\nimport ExclamationCircleFilled from \"@ant-design/icons/es/icons/ExclamationCircleFilled\";\nimport WarningFilled from \"@ant-design/icons/es/icons/WarningFilled\";\nimport classNames from 'classnames';\nimport { devUseWarning } from '../_util/warning';\nimport { ConfigContext } from '../config-provider';\nimport noFound from './noFound';\nimport serverError from './serverError';\nimport useStyle from './style';\nimport unauthorized from './unauthorized';\nexport const IconMap = {\n  success: CheckCircleFilled,\n  error: CloseCircleFilled,\n  info: ExclamationCircleFilled,\n  warning: WarningFilled\n};\nexport const ExceptionMap = {\n  '404': noFound,\n  '500': serverError,\n  '403': unauthorized\n};\n// ExceptionImageMap keys\nconst ExceptionStatus = Object.keys(ExceptionMap);\nconst Icon = _ref => {\n  let {\n    prefixCls,\n    icon,\n    status\n  } = _ref;\n  const className = classNames(`${prefixCls}-icon`);\n  if (process.env.NODE_ENV !== 'production') {\n    const warning = devUseWarning('Result');\n    process.env.NODE_ENV !== \"production\" ? warning(!(typeof icon === 'string' && icon.length > 2), 'breaking', `\\`icon\\` is using ReactNode instead of string naming in v4. Please check \\`${icon}\\` at https://ant.design/components/icon`) : void 0;\n  }\n  if (ExceptionStatus.includes(`${status}`)) {\n    const SVGComponent = ExceptionMap[status];\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: `${className} ${prefixCls}-image`\n    }, /*#__PURE__*/React.createElement(SVGComponent, null));\n  }\n  const iconNode = /*#__PURE__*/React.createElement(IconMap[status]);\n  if (icon === null || icon === false) {\n    return null;\n  }\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: className\n  }, icon || iconNode);\n};\nconst Extra = _ref2 => {\n  let {\n    prefixCls,\n    extra\n  } = _ref2;\n  if (!extra) {\n    return null;\n  }\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: `${prefixCls}-extra`\n  }, extra);\n};\nconst Result = _ref3 => {\n  let {\n    prefixCls: customizePrefixCls,\n    className: customizeClassName,\n    rootClassName,\n    subTitle,\n    title,\n    style,\n    children,\n    status = 'info',\n    icon,\n    extra\n  } = _ref3;\n  const {\n    getPrefixCls,\n    direction,\n    result\n  } = React.useContext(ConfigContext);\n  const prefixCls = getPrefixCls('result', customizePrefixCls);\n  // Style\n  const [wrapCSSVar, hashId, cssVarCls] = useStyle(prefixCls);\n  const className = classNames(prefixCls, `${prefixCls}-${status}`, customizeClassName, result === null || result === void 0 ? void 0 : result.className, rootClassName, {\n    [`${prefixCls}-rtl`]: direction === 'rtl'\n  }, hashId, cssVarCls);\n  const mergedStyle = Object.assign(Object.assign({}, result === null || result === void 0 ? void 0 : result.style), style);\n  return wrapCSSVar(/*#__PURE__*/React.createElement(\"div\", {\n    className: className,\n    style: mergedStyle\n  }, /*#__PURE__*/React.createElement(Icon, {\n    prefixCls: prefixCls,\n    status: status,\n    icon: icon\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    className: `${prefixCls}-title`\n  }, title), subTitle && /*#__PURE__*/React.createElement(\"div\", {\n    className: `${prefixCls}-subtitle`\n  }, subTitle), /*#__PURE__*/React.createElement(Extra, {\n    prefixCls: prefixCls,\n    extra: extra\n  }), children && /*#__PURE__*/React.createElement(\"div\", {\n    className: `${prefixCls}-content`\n  }, children)));\n};\nResult.PRESENTED_IMAGE_403 = ExceptionMap['403'];\nResult.PRESENTED_IMAGE_404 = ExceptionMap['404'];\nResult.PRESENTED_IMAGE_500 = ExceptionMap['500'];\nif (process.env.NODE_ENV !== 'production') {\n  Result.displayName = 'Result';\n}\nexport default Result;","function _extends() { _extends = Object.assign ? Object.assign.bind() : function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n// GENERATE BY ./scripts/generate.ts\n// DON NOT EDIT IT MANUALLY\n\nimport * as React from 'react';\nimport ScanOutlinedSvg from \"@ant-design/icons-svg/es/asn/ScanOutlined\";\nimport AntdIcon from \"../components/AntdIcon\";\nconst ScanOutlined = (props, ref) => /*#__PURE__*/React.createElement(AntdIcon, _extends({}, props, {\n  ref: ref,\n  icon: ScanOutlinedSvg\n}));\n\n/**![scan](data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNTAiIGhlaWdodD0iNTAiIGZpbGw9IiNjYWNhY2EiIHZpZXdCb3g9IjY0IDY0IDg5NiA4OTYiIGZvY3VzYWJsZT0iZmFsc2UiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PHBhdGggZD0iTTEzNiAzODRoNTZjNC40IDAgOC0zLjYgOC04VjIwMGgxNzZjNC40IDAgOC0zLjYgOC04di01NmMwLTQuNC0zLjYtOC04LThIMTk2Yy0zNy42IDAtNjggMzAuNC02OCA2OHYxODBjMCA0LjQgMy42IDggOCA4em01MTItMTg0aDE3NnYxNzZjMCA0LjQgMy42IDggOCA4aDU2YzQuNCAwIDgtMy42IDgtOFYxOTZjMC0zNy42LTMwLjQtNjgtNjgtNjhINjQ4Yy00LjQgMC04IDMuNi04IDh2NTZjMCA0LjQgMy42IDggOCA4ek0zNzYgODI0SDIwMFY2NDhjMC00LjQtMy42LTgtOC04aC01NmMtNC40IDAtOCAzLjYtOCA4djE4MGMwIDM3LjYgMzAuNCA2OCA2OCA2OGgxODBjNC40IDAgOC0zLjYgOC04di01NmMwLTQuNC0zLjYtOC04LTh6bTUxMi0xODRoLTU2Yy00LjQgMC04IDMuNi04IDh2MTc2SDY0OGMtNC40IDAtOCAzLjYtOCA4djU2YzAgNC40IDMuNiA4IDggOGgxODBjMzcuNiAwIDY4LTMwLjQgNjgtNjhWNjQ4YzAtNC40LTMuNi04LTgtOHptMTYtMTY0SDEyMGMtNC40IDAtOCAzLjYtOCA4djU2YzAgNC40IDMuNiA4IDggOGg3ODRjNC40IDAgOC0zLjYgOC04di01NmMwLTQuNC0zLjYtOC04LTh6IiAvPjwvc3ZnPg==) */\nconst RefIcon = /*#__PURE__*/React.forwardRef(ScanOutlined);\nif (process.env.NODE_ENV !== 'production') {\n  RefIcon.displayName = 'ScanOutlined';\n}\nexport default RefIcon;","(function (root, factory) {\n    var factorySource = factory.toString();\n\n    if (typeof module !== 'undefined') {\n        module.exports = factory(factorySource);\n    } else {\n        //Browser globals case. Just assign the\n        //result to a property on the global.\n        root.Quagga = factory(factorySource);\n    }\n}(this, function (__factorySource__) {/**\n * @license almond 0.2.9 Copyright (c) 2011-2014, The Dojo Foundation All Rights Reserved.\n * Available via the MIT or new BSD license.\n * see: http://github.com/jrburke/almond for details\n */\n//Going sloppy to avoid 'use strict' string cost, but strict practices should\n//be followed.\n/*jslint sloppy: true */\n/*global setTimeout: false */\n\nvar requirejs, require, define;\n(function (undef) {\n    var main, req, makeMap, handlers,\n        defined = {},\n        waiting = {},\n        config = {},\n        defining = {},\n        hasOwn = Object.prototype.hasOwnProperty,\n        aps = [].slice,\n        jsSuffixRegExp = /\\.js$/;\n\n    function hasProp(obj, prop) {\n        return hasOwn.call(obj, prop);\n    }\n\n    /**\n     * Given a relative module name, like ./something, normalize it to\n     * a real name that can be mapped to a path.\n     * @param {String} name the relative name\n     * @param {String} baseName a real name that the name arg is relative\n     * to.\n     * @returns {String} normalized name\n     */\n    function normalize(name, baseName) {\n        var nameParts, nameSegment, mapValue, foundMap, lastIndex,\n            foundI, foundStarMap, starI, i, j, part,\n            baseParts = baseName && baseName.split(\"/\"),\n            map = config.map,\n            starMap = (map && map['*']) || {};\n\n        //Adjust any relative paths.\n        if (name && name.charAt(0) === \".\") {\n            //If have a base name, try to normalize against it,\n            //otherwise, assume it is a top-level require that will\n            //be relative to baseUrl in the end.\n            if (baseName) {\n                //Convert baseName to array, and lop off the last part,\n                //so that . matches that \"directory\" and not name of the baseName's\n                //module. For instance, baseName of \"one/two/three\", maps to\n                //\"one/two/three.js\", but we want the directory, \"one/two\" for\n                //this normalization.\n                baseParts = baseParts.slice(0, baseParts.length - 1);\n                name = name.split('/');\n                lastIndex = name.length - 1;\n\n                // Node .js allowance:\n                if (config.nodeIdCompat && jsSuffixRegExp.test(name[lastIndex])) {\n                    name[lastIndex] = name[lastIndex].replace(jsSuffixRegExp, '');\n                }\n\n                name = baseParts.concat(name);\n\n                //start trimDots\n                for (i = 0; i < name.length; i += 1) {\n                    part = name[i];\n                    if (part === \".\") {\n                        name.splice(i, 1);\n                        i -= 1;\n                    } else if (part === \"..\") {\n                        if (i === 1 && (name[2] === '..' || name[0] === '..')) {\n                            //End of the line. Keep at least one non-dot\n                            //path segment at the front so it can be mapped\n                            //correctly to disk. Otherwise, there is likely\n                            //no path mapping for a path starting with '..'.\n                            //This can still fail, but catches the most reasonable\n                            //uses of ..\n                            break;\n                        } else if (i > 0) {\n                            name.splice(i - 1, 2);\n                            i -= 2;\n                        }\n                    }\n                }\n                //end trimDots\n\n                name = name.join(\"/\");\n            } else if (name.indexOf('./') === 0) {\n                // No baseName, so this is ID is resolved relative\n                // to baseUrl, pull off the leading dot.\n                name = name.substring(2);\n            }\n        }\n\n        //Apply map config if available.\n        if ((baseParts || starMap) && map) {\n            nameParts = name.split('/');\n\n            for (i = nameParts.length; i > 0; i -= 1) {\n                nameSegment = nameParts.slice(0, i).join(\"/\");\n\n                if (baseParts) {\n                    //Find the longest baseName segment match in the config.\n                    //So, do joins on the biggest to smallest lengths of baseParts.\n                    for (j = baseParts.length; j > 0; j -= 1) {\n                        mapValue = map[baseParts.slice(0, j).join('/')];\n\n                        //baseName segment has  config, find if it has one for\n                        //this name.\n                        if (mapValue) {\n                            mapValue = mapValue[nameSegment];\n                            if (mapValue) {\n                                //Match, update name to the new value.\n                                foundMap = mapValue;\n                                foundI = i;\n                                break;\n                            }\n                        }\n                    }\n                }\n\n                if (foundMap) {\n                    break;\n                }\n\n                //Check for a star map match, but just hold on to it,\n                //if there is a shorter segment match later in a matching\n                //config, then favor over this star map.\n                if (!foundStarMap && starMap && starMap[nameSegment]) {\n                    foundStarMap = starMap[nameSegment];\n                    starI = i;\n                }\n            }\n\n            if (!foundMap && foundStarMap) {\n                foundMap = foundStarMap;\n                foundI = starI;\n            }\n\n            if (foundMap) {\n                nameParts.splice(0, foundI, foundMap);\n                name = nameParts.join('/');\n            }\n        }\n\n        return name;\n    }\n\n    function makeRequire(relName, forceSync) {\n        return function () {\n            //A version of a require function that passes a moduleName\n            //value for items that may need to\n            //look up paths relative to the moduleName\n            return req.apply(undef, aps.call(arguments, 0).concat([relName, forceSync]));\n        };\n    }\n\n    function makeNormalize(relName) {\n        return function (name) {\n            return normalize(name, relName);\n        };\n    }\n\n    function makeLoad(depName) {\n        return function (value) {\n            defined[depName] = value;\n        };\n    }\n\n    function callDep(name) {\n        if (hasProp(waiting, name)) {\n            var args = waiting[name];\n            delete waiting[name];\n            defining[name] = true;\n            main.apply(undef, args);\n        }\n\n        if (!hasProp(defined, name) && !hasProp(defining, name)) {\n            throw new Error('No ' + name);\n        }\n        return defined[name];\n    }\n\n    //Turns a plugin!resource to [plugin, resource]\n    //with the plugin being undefined if the name\n    //did not have a plugin prefix.\n    function splitPrefix(name) {\n        var prefix,\n            index = name ? name.indexOf('!') : -1;\n        if (index > -1) {\n            prefix = name.substring(0, index);\n            name = name.substring(index + 1, name.length);\n        }\n        return [prefix, name];\n    }\n\n    /**\n     * Makes a name map, normalizing the name, and using a plugin\n     * for normalization if necessary. Grabs a ref to plugin\n     * too, as an optimization.\n     */\n    makeMap = function (name, relName) {\n        var plugin,\n            parts = splitPrefix(name),\n            prefix = parts[0];\n\n        name = parts[1];\n\n        if (prefix) {\n            prefix = normalize(prefix, relName);\n            plugin = callDep(prefix);\n        }\n\n        //Normalize according\n        if (prefix) {\n            if (plugin && plugin.normalize) {\n                name = plugin.normalize(name, makeNormalize(relName));\n            } else {\n                name = normalize(name, relName);\n            }\n        } else {\n            name = normalize(name, relName);\n            parts = splitPrefix(name);\n            prefix = parts[0];\n            name = parts[1];\n            if (prefix) {\n                plugin = callDep(prefix);\n            }\n        }\n\n        //Using ridiculous property names for space reasons\n        return {\n            f: prefix ? prefix + '!' + name : name, //fullName\n            n: name,\n            pr: prefix,\n            p: plugin\n        };\n    };\n\n    function makeConfig(name) {\n        return function () {\n            return (config && config.config && config.config[name]) || {};\n        };\n    }\n\n    handlers = {\n        require: function (name) {\n            return makeRequire(name);\n        },\n        exports: function (name) {\n            var e = defined[name];\n            if (typeof e !== 'undefined') {\n                return e;\n            } else {\n                return (defined[name] = {});\n            }\n        },\n        module: function (name) {\n            return {\n                id: name,\n                uri: '',\n                exports: defined[name],\n                config: makeConfig(name)\n            };\n        }\n    };\n\n    main = function (name, deps, callback, relName) {\n        var cjsModule, depName, ret, map, i,\n            args = [],\n            callbackType = typeof callback,\n            usingExports;\n\n        //Use name if no relName\n        relName = relName || name;\n\n        //Call the callback to define the module, if necessary.\n        if (callbackType === 'undefined' || callbackType === 'function') {\n            //Pull out the defined dependencies and pass the ordered\n            //values to the callback.\n            //Default to [require, exports, module] if no deps\n            deps = !deps.length && callback.length ? ['require', 'exports', 'module'] : deps;\n            for (i = 0; i < deps.length; i += 1) {\n                map = makeMap(deps[i], relName);\n                depName = map.f;\n\n                //Fast path CommonJS standard dependencies.\n                if (depName === \"require\") {\n                    args[i] = handlers.require(name);\n                } else if (depName === \"exports\") {\n                    //CommonJS module spec 1.1\n                    args[i] = handlers.exports(name);\n                    usingExports = true;\n                } else if (depName === \"module\") {\n                    //CommonJS module spec 1.1\n                    cjsModule = args[i] = handlers.module(name);\n                } else if (hasProp(defined, depName) ||\n                           hasProp(waiting, depName) ||\n                           hasProp(defining, depName)) {\n                    args[i] = callDep(depName);\n                } else if (map.p) {\n                    map.p.load(map.n, makeRequire(relName, true), makeLoad(depName), {});\n                    args[i] = defined[depName];\n                } else {\n                    throw new Error(name + ' missing ' + depName);\n                }\n            }\n\n            ret = callback ? callback.apply(defined[name], args) : undefined;\n\n            if (name) {\n                //If setting exports via \"module\" is in play,\n                //favor that over return value and exports. After that,\n                //favor a non-undefined return value over exports use.\n                if (cjsModule && cjsModule.exports !== undef &&\n                        cjsModule.exports !== defined[name]) {\n                    defined[name] = cjsModule.exports;\n                } else if (ret !== undef || !usingExports) {\n                    //Use the return value from the function.\n                    defined[name] = ret;\n                }\n            }\n        } else if (name) {\n            //May just be an object definition for the module. Only\n            //worry about defining if have a module name.\n            defined[name] = callback;\n        }\n    };\n\n    requirejs = require = req = function (deps, callback, relName, forceSync, alt) {\n        if (typeof deps === \"string\") {\n            if (handlers[deps]) {\n                //callback in this case is really relName\n                return handlers[deps](callback);\n            }\n            //Just return the module wanted. In this scenario, the\n            //deps arg is the module name, and second arg (if passed)\n            //is just the relName.\n            //Normalize module name, if it contains . or ..\n            return callDep(makeMap(deps, callback).f);\n        } else if (!deps.splice) {\n            //deps is a config object, not an array.\n            config = deps;\n            if (config.deps) {\n                req(config.deps, config.callback);\n            }\n            if (!callback) {\n                return;\n            }\n\n            if (callback.splice) {\n                //callback is an array, which means it is a dependency list.\n                //Adjust args if there are dependencies\n                deps = callback;\n                callback = relName;\n                relName = null;\n            } else {\n                deps = undef;\n            }\n        }\n\n        //Support require(['a'])\n        callback = callback || function () {};\n\n        //If relName is a function, it is an errback handler,\n        //so remove it.\n        if (typeof relName === 'function') {\n            relName = forceSync;\n            forceSync = alt;\n        }\n\n        //Simulate async callback;\n        if (forceSync) {\n            main(undef, deps, callback, relName);\n        } else {\n            //Using a non-zero value because of concern for what old browsers\n            //do, and latest browsers \"upgrade\" to 4 if lower value is used:\n            //http://www.whatwg.org/specs/web-apps/current-work/multipage/timers.html#dom-windowtimers-settimeout:\n            //If want a value immediately, use require('id') instead -- something\n            //that works in almond on the global level, but not guaranteed and\n            //unlikely to work in other AMD implementations.\n            setTimeout(function () {\n                main(undef, deps, callback, relName);\n            }, 4);\n        }\n\n        return req;\n    };\n\n    /**\n     * Just drops the config on the floor, but returns req in case\n     * the config return value is used.\n     */\n    req.config = function (cfg) {\n        return req(cfg);\n    };\n\n    /**\n     * Expose module registry for debugging and tooling\n     */\n    requirejs._defined = defined;\n\n    define = function (name, deps, callback) {\n\n        //This module may not have dependencies\n        if (!deps.splice) {\n            //deps is not an array, so probably means\n            //an object literal or factory function for\n            //the value. Adjust args.\n            callback = deps;\n            deps = [];\n        }\n\n        if (!hasProp(defined, name) && !hasProp(waiting, name)) {\n            waiting[name] = [name, deps, callback];\n        }\n    };\n\n    define.amd = {\n        jQuery: true\n    };\n}());\n\ndefine(\"almond\", function(){});\n\n/* jshint undef: true, unused: true, browser:true, devel: true */\n/* global define */\n\ndefine('image_loader',[],function() {\n    \"use strict\";\n\n    var ImageLoader = {};\n    ImageLoader.load = function(directory, callback, offset, size, sequence) {\n        var htmlImagesSrcArray = new Array(size),\n            htmlImagesArray = new Array(htmlImagesSrcArray.length),\n            i,\n            img,\n            num;\n            \n        if (sequence === false) {\n            htmlImagesSrcArray[0] = directory;\n        } else {\n            for ( i = 0; i < htmlImagesSrcArray.length; i++) {\n                num = (offset + i);\n                htmlImagesSrcArray[i] = directory + \"image-\" + (\"00\" + num).slice(-3) + \".jpg\";\n            }\n        }\n        htmlImagesArray.notLoaded = [];\n        htmlImagesArray.addImage = function(img) {\n            htmlImagesArray.notLoaded.push(img);\n        };\n        htmlImagesArray.loaded = function(loadedImg) {\n            var notloadedImgs = htmlImagesArray.notLoaded;\n            for (var x = 0; x < notloadedImgs.length; x++) {\n                if (notloadedImgs[x] == loadedImg) {\n                    notloadedImgs.splice(x, 1);\n                    for (var y = 0; y < htmlImagesSrcArray.length; y++) {\n                        var imgName = htmlImagesSrcArray[y].substr(htmlImagesSrcArray[y].lastIndexOf(\"/\"));\n                        if (loadedImg.src.lastIndexOf(imgName) != -1) {\n                            htmlImagesArray[y] = loadedImg;\n                            break;\n                        }\n                    }\n                    break;\n                }\n            }\n            if (notloadedImgs.length === 0) {\n                console.log(\"Images loaded\");\n                callback.apply(null, [htmlImagesArray]);\n            }\n        };\n        \n        for ( i = 0; i < htmlImagesSrcArray.length; i++) {\n            img = new Image();\n            htmlImagesArray.addImage(img);\n            addOnloadHandler(img, htmlImagesArray);\n            img.src = htmlImagesSrcArray[i];\n        }\n    };\n    \n    function addOnloadHandler(img, htmlImagesArray) {\n        img.onload = function() {\n            htmlImagesArray.loaded(this);\n        };\n    }\n\n    return (ImageLoader);\n});\n\n/* jshint undef: true, unused: true, browser:true, devel: true */\n/* global define */\n\ndefine('input_stream',[\"image_loader\"], function(ImageLoader) {\n    \"use strict\";\n\n    var InputStream = {};\n    InputStream.createVideoStream = function(video) {\n        var that = {},\n            _config = null,\n            _eventNames = ['canrecord', 'ended'],\n            _eventHandlers = {},\n            _calculatedWidth,\n            _calculatedHeight,\n            _topRight = {x: 0, y: 0},\n            _canvasSize = {x: 0, y: 0};\n\n        function initSize() {\n            var width = video.videoWidth,\n                height = video.videoHeight;\n\n            _calculatedWidth = _config.size ? width/height > 1 ? _config.size : Math.floor((width/height) * _config.size) : width;\n            _calculatedHeight = _config.size ? width/height > 1 ? Math.floor((height/width) * _config.size) : _config.size : height;\n\n            _canvasSize.x = _calculatedWidth;\n            _canvasSize.y = _calculatedHeight;\n        }\n\n        that.getRealWidth = function() {\n            return video.videoWidth;\n        };\n\n        that.getRealHeight = function() {\n            return video.videoHeight;\n        };\n\n        that.getWidth = function() {\n            return _calculatedWidth;\n        };\n\n        that.getHeight = function() {\n            return _calculatedHeight;\n        };\n\n        that.setWidth = function(width) {\n            _calculatedWidth = width;\n        };\n\n        that.setHeight = function(height) {\n            _calculatedHeight = height;\n        };\n\n        that.setInputStream = function(config) {\n            _config = config;\n            video.src = (typeof config.src !== 'undefined') ? config.src : '';\n        };\n\n        that.ended = function() {\n            return video.ended;\n        };\n\n        that.getConfig = function() {\n            return _config;\n        };\n\n        that.setAttribute = function(name, value) {\n            video.setAttribute(name, value);\n        };\n\n        that.pause = function() {\n            video.pause();\n        };\n\n        that.play = function() {\n            video.play();\n        };\n\n        that.setCurrentTime = function(time) {\n            if (_config.type !== \"LiveStream\")\n                video.currentTime = time;\n        };\n\n        that.addEventListener = function(event, f, bool) {\n            if (_eventNames.indexOf(event) !== -1) {\n                if (!_eventHandlers[event]) {\n                    _eventHandlers[event] = [];\n                }\n                _eventHandlers[event].push(f);\n            } else {\n                video.addEventListener(event, f, bool);\n            }\n        };\n\n        that.clearEventHandlers = function() {\n            _eventNames.forEach(function(eventName) {\n                var handlers = _eventHandlers[eventName];\n                if (handlers && handlers.length > 0) {\n                    handlers.forEach(function(handler) {\n                        video.removeEventListener(eventName, handler);\n                    });\n                }\n            });\n        };\n\n        that.trigger = function(eventName, args) {\n            var j,\n                handlers = _eventHandlers[eventName];\n\n            if (eventName === 'canrecord') {\n                initSize();\n            }\n            if (handlers && handlers.length > 0) {\n                for ( j = 0; j < handlers.length; j++) {\n                    handlers[j].apply(that, args);\n                }\n            }\n        };\n\n        that.setTopRight = function(topRight) {\n            _topRight.x = topRight.x;\n            _topRight.y = topRight.y;\n        };\n\n        that.getTopRight = function() {\n            return _topRight;\n        };\n\n        that.setCanvasSize = function(size) {\n            _canvasSize.x = size.x;\n            _canvasSize.y = size.y;\n        };\n\n        that.getCanvasSize = function() {\n            return _canvasSize;\n        };\n\n        that.getFrame = function() {\n            return video;\n        };\n\n        return that;\n    };\n\n    InputStream.createLiveStream = function(video) {\n        video.setAttribute(\"autoplay\", true);\n        var that = InputStream.createVideoStream(video);\n\n        that.ended = function() {\n            return false;\n        };\n\n        return that;\n    };\n\n    InputStream.createImageStream = function() {\n        var that = {};\n        var _config = null;\n\n        var width = 0,\n            height = 0,\n            frameIdx = 0,\n            paused = true,\n            loaded = false,\n            imgArray = null,\n            size = 0,\n            offset = 1,\n            baseUrl = null,\n            ended = false,\n            calculatedWidth,\n            calculatedHeight,\n            _eventNames = ['canrecord', 'ended'],\n            _eventHandlers = {},\n            _topRight = {x: 0, y: 0},\n            _canvasSize = {x: 0, y: 0};\n\n        function loadImages() {\n            loaded = false;\n            ImageLoader.load(baseUrl, function(imgs) {\n                imgArray = imgs;\n                width = imgs[0].width;\n                height = imgs[0].height;\n                calculatedWidth = _config.size ? width/height > 1 ? _config.size : Math.floor((width/height) * _config.size) : width;\n                calculatedHeight = _config.size ? width/height > 1 ? Math.floor((height/width) * _config.size) : _config.size : height;\n                _canvasSize.x = calculatedWidth;\n                _canvasSize.y = calculatedHeight;\n                loaded = true;\n                frameIdx = 0;\n                setTimeout(function() {\n                    publishEvent(\"canrecord\", []);\n                }, 0);\n            }, offset, size, _config.sequence);\n        }\n\n        function publishEvent(eventName, args) {\n            var j,\n                handlers = _eventHandlers[eventName];\n                \n            if (handlers && handlers.length > 0) {\n                for ( j = 0; j < handlers.length; j++) {\n                    handlers[j].apply(that, args);\n                }\n            }\n        }\n\n\n        that.trigger = publishEvent;\n\n        that.getWidth = function() {\n            return calculatedWidth;\n        };\n\n        that.getHeight = function() {\n            return calculatedHeight;\n        };\n\n        that.setWidth = function(width) {\n            calculatedWidth = width;\n        };\n\n        that.setHeight = function(height) {\n            calculatedHeight = height;\n        };\n\n        that.getRealWidth = function() {\n            return width;\n        };\n\n        that.getRealHeight = function() {\n            return height;\n        };\n\n        that.setInputStream = function(stream) {\n            _config = stream;\n            if (stream.sequence === false) {\n                baseUrl = stream.src;\n                size = 1;\n            } else {\n                baseUrl = stream.src;\n                size = stream.length;\n            }\n            loadImages();\n        };\n\n        that.ended = function() {\n            return ended;\n        };\n\n        that.setAttribute = function() {};\n\n        that.getConfig = function() {\n            return _config;\n        };\n\n        that.pause = function() {\n            paused = true;\n        };\n\n        that.play = function() {\n            paused = false;\n        };\n\n        that.setCurrentTime = function(time) {\n            frameIdx = time;\n        };\n\n        that.addEventListener = function(event, f) {\n            if (_eventNames.indexOf(event) !== -1) {\n                if (!_eventHandlers[event]) {\n                    _eventHandlers[event] = [];\n                }\n                _eventHandlers[event].push(f);\n            }\n        };\n\n        that.setTopRight = function(topRight) {\n            _topRight.x = topRight.x;\n            _topRight.y = topRight.y;\n        };\n\n        that.getTopRight = function() {\n            return _topRight;\n        };\n\n        that.setCanvasSize = function(size) {\n            _canvasSize.x = size.x;\n            _canvasSize.y = size.y;\n        };\n\n        that.getCanvasSize = function() {\n            return _canvasSize;\n        };\n\n        that.getFrame = function() {\n            var frame;\n            \n            if (!loaded){\n                return null;\n            }\n            if (!paused) {\n                frame = imgArray[frameIdx];\n                if (frameIdx < (size - 1)) {\n                    frameIdx++;\n                } else {\n                    setTimeout(function() {\n                        ended = true;\n                        publishEvent(\"ended\", []);\n                    }, 0);\n                }\n            }\n            return frame;\n        };\n\n        return that;\n    };\n\n    return (InputStream);\n});\n\n/*\n * typedefs.js\n * Normalizes browser-specific prefixes\n */\n\nglMatrixArrayType = Float32Array;\nif (typeof window !== 'undefined') {\n    window.requestAnimFrame = (function () {\n        return window.requestAnimationFrame ||\n            window.webkitRequestAnimationFrame ||\n            window.mozRequestAnimationFrame ||\n            window.oRequestAnimationFrame ||\n            window.msRequestAnimationFrame ||\n            function (/* function FrameRequestCallback */ callback, /* DOMElement Element */ element) {\n                window.setTimeout(callback, 1000 / 60);\n            };\n    })();\n\n    navigator.getUserMedia = navigator.getUserMedia || navigator.webkitGetUserMedia || navigator.mozGetUserMedia || navigator.msGetUserMedia;\n    window.URL = window.URL || window.webkitURL || window.mozURL || window.msURL;\n}\nMath.imul = Math.imul || function(a, b) {\n    var ah = (a >>> 16) & 0xffff,\n        al = a & 0xffff,\n        bh = (b >>> 16) & 0xffff,\n        bl = b & 0xffff;\n    // the shift by 0 fixes the sign on the high part\n    // the final |0 converts the unsigned value into a signed value\n    return ((al * bl) + (((ah * bl + al * bh) << 16) >>> 0)|0);\n};\ndefine(\"typedefs\", (function (global) {\n    return function () {\n        var ret, fn;\n        return ret || global.typedefs;\n    };\n}(this)));\n\n/* jshint undef: true, unused: true, browser:true, devel: true */\n/* global define */\n\ndefine('subImage',[\"typedefs\"], function() {\n    \"use strict\";\n\n    /**\n     * Construct representing a part of another {ImageWrapper}. Shares data\n     * between the parent and the child.\n     * @param from {ImageRef} The position where to start the {SubImage} from. (top-left corner)\n     * @param size {ImageRef} The size of the resulting image\n     * @param I {ImageWrapper} The {ImageWrapper} to share from\n     * @returns {SubImage} A shared part of the original image\n     */\n    function SubImage(from, size, I) {\n        if (!I) {\n            I = {\n                data : null,\n                size : size\n            };\n        }\n        this.data = I.data;\n        this.originalSize = I.size;\n        this.I = I;\n\n        this.from = from;\n        this.size = size;\n    }\n\n    /**\n     * Displays the {SubImage} in a given canvas\n     * @param canvas {Canvas} The canvas element to write to\n     * @param scale {Number} Scale which is applied to each pixel-value\n     */\n    SubImage.prototype.show = function(canvas, scale) {\n        var ctx,\n            frame,\n            data,\n            current,\n            y,\n            x,\n            pixel;\n            \n        if (!scale) {\n            scale = 1.0;\n        }\n        ctx = canvas.getContext('2d');\n        canvas.width = this.size.x;\n        canvas.height = this.size.y;\n        frame = ctx.getImageData(0, 0, canvas.width, canvas.height);\n        data = frame.data;\n        current = 0;\n        for (y = 0; y < this.size.y; y++) {\n            for (x = 0; x < this.size.x; x++) {\n                pixel = y * this.size.x + x;\n                current = this.get(x, y) * scale;\n                data[pixel * 4 + 0] = current;\n                data[pixel * 4 + 1] = current;\n                data[pixel * 4 + 2] = current;\n                data[pixel * 4 + 3] = 255;\n            }\n        }\n        frame.data = data;\n        ctx.putImageData(frame, 0, 0);\n    };\n\n    /**\n     * Retrieves a given pixel position from the {SubImage}\n     * @param x {Number} The x-position\n     * @param y {Number} The y-position\n     * @returns {Number} The grayscale value at the pixel-position\n     */\n    SubImage.prototype.get = function(x, y) {\n        return this.data[(this.from.y + y) * this.originalSize.x + this.from.x + x];\n    };\n\n    /**\n     * Updates the underlying data from a given {ImageWrapper}\n     * @param image {ImageWrapper} The updated image\n     */\n    SubImage.prototype.updateData = function(image) {\n        this.originalSize = image.size;\n        this.data = image.data;\n    };\n\n    /**\n     * Updates the position of the shared area\n     * @param from {x,y} The new location\n     * @returns {SubImage} returns {this} for possible chaining\n     */\n    SubImage.prototype.updateFrom = function(from) {\n        this.from = from;\n        return this;\n    };\n    \n    return (SubImage);\n}); \n/* jshint undef: true, unused: true, browser:true, devel: true */\n/* global define, vec2 */\n\ndefine('cluster',[],function() {\n    \"use strict\";\n    \n    /**\n     * Creates a cluster for grouping similar orientations of datapoints \n     */\n    var Cluster = {\n        create : function(point, threshold) {\n            var points = [], center = {\n                rad : 0,\n                vec : vec2.create([0, 0])\n            }, pointMap = {};\n\n            function init() {\n                add(point);\n                updateCenter();\n            }\n\n            function add(point) {\n                pointMap[point.id] = point;\n                points.push(point);\n            }\n\n            function updateCenter() {\n                var i, sum = 0;\n                for ( i = 0; i < points.length; i++) {\n                    sum += points[i].rad;\n                }\n                center.rad = sum / points.length;\n                center.vec = vec2.create([Math.cos(center.rad), Math.sin(center.rad)]);\n            }\n\n            init();\n\n            return {\n                add : function(point) {\n                    if (!pointMap[point.id]) {\n                        add(point);\n                        updateCenter();\n                    }\n                },\n                fits : function(point) {\n                    // check cosine similarity to center-angle\n                    var similarity = Math.abs(vec2.dot(point.point.vec, center.vec));\n                    if (similarity > threshold) {\n                        return true;\n                    }\n                    return false;\n                },\n                getPoints : function() {\n                    return points;\n                },\n                getCenter : function() {\n                    return center;\n                }\n            };\n        },\n        createPoint : function(point, id, property) {\n            return {\n                rad : point[property],\n                point : point,\n                id : id\n            };\n        }\n    };\n\n    return (Cluster);\n});\n\n/* \n * glMatrix.js - High performance matrix and vector operations for WebGL\n * version 0.9.6\n */\n \n/*\n * Copyright (c) 2011 Brandon Jones\n *\n * This software is provided 'as-is', without any express or implied\n * warranty. In no event will the authors be held liable for any damages\n * arising from the use of this software.\n *\n * Permission is granted to anyone to use this software for any purpose,\n * including commercial applications, and to alter it and redistribute it\n * freely, subject to the following restrictions:\n *\n *    1. The origin of this software must not be misrepresented; you must not\n *    claim that you wrote the original software. If you use this software\n *    in a product, an acknowledgment in the product documentation would be\n *    appreciated but is not required.\n *\n *    2. Altered source versions must be plainly marked as such, and must not\n *    be misrepresented as being the original software.\n *\n *    3. This notice may not be removed or altered from any source\n *    distribution.\n */\n\n\n\n/*\n * vec3 - 3 Dimensional Vector\n */\nvar vec3 = {};\n\n/*\n * vec3.create\n * Creates a new instance of a vec3 using the default array type\n * Any javascript array containing at least 3 numeric elements can serve as a vec3\n *\n * Params:\n * vec - Optional, vec3 containing values to initialize with\n *\n * Returns:\n * New vec3\n */\nvec3.create = function(vec) {\t\n\tvar dest;\n\tif(vec) {\n\t\tdest = new glMatrixArrayType(3);\n\t\tdest[0] = vec[0];\n\t\tdest[1] = vec[1];\n\t\tdest[2] = vec[2];\n\t} else {\n\t\tif(glMatrixArrayType === Array)\n\t\t\tdest = new glMatrixArrayType([0,0,0]);\n\t\telse\n\t\t\tdest = new glMatrixArrayType(3);\n\t}\n\t\n\treturn dest;\n};\n\n/*\n * vec3.set\n * Copies the values of one vec3 to another\n *\n * Params:\n * vec - vec3 containing values to copy\n * dest - vec3 receiving copied values\n *\n * Returns:\n * dest\n */\nvec3.set = function(vec, dest) {\n\tdest[0] = vec[0];\n\tdest[1] = vec[1];\n\tdest[2] = vec[2];\n\t\n\treturn dest;\n};\n\n/*\n * vec3.add\n * Performs a vector addition\n *\n * Params:\n * vec - vec3, first operand\n * vec2 - vec3, second operand\n * dest - Optional, vec3 receiving operation result. If not specified result is written to vec\n *\n * Returns:\n * dest if specified, vec otherwise\n */\nvec3.add = function(vec, vec2, dest) {\n\tif(!dest || vec == dest) {\n\t\tvec[0] += vec2[0];\n\t\tvec[1] += vec2[1];\n\t\tvec[2] += vec2[2];\n\t\treturn vec;\n\t}\n\t\n\tdest[0] = vec[0] + vec2[0];\n\tdest[1] = vec[1] + vec2[1];\n\tdest[2] = vec[2] + vec2[2];\n\treturn dest;\n};\n\n/*\n * vec3.subtract\n * Performs a vector subtraction\n *\n * Params:\n * vec - vec3, first operand\n * vec2 - vec3, second operand\n * dest - Optional, vec3 receiving operation result. If not specified result is written to vec\n *\n * Returns:\n * dest if specified, vec otherwise\n */\nvec3.subtract = function(vec, vec2, dest) {\n\tif(!dest || vec == dest) {\n\t\tvec[0] -= vec2[0];\n\t\tvec[1] -= vec2[1];\n\t\tvec[2] -= vec2[2];\n\t\treturn vec;\n\t}\n\t\n\tdest[0] = vec[0] - vec2[0];\n\tdest[1] = vec[1] - vec2[1];\n\tdest[2] = vec[2] - vec2[2];\n\treturn dest;\n};\n\n/*\n * vec3.negate\n * Negates the components of a vec3\n *\n * Params:\n * vec - vec3 to negate\n * dest - Optional, vec3 receiving operation result. If not specified result is written to vec\n *\n * Returns:\n * dest if specified, vec otherwise\n */\nvec3.negate = function(vec, dest) {\n\tif(!dest) { dest = vec; }\n\t\n\tdest[0] = -vec[0];\n\tdest[1] = -vec[1];\n\tdest[2] = -vec[2];\n\treturn dest;\n};\n\n/*\n * vec3.scale\n * Multiplies the components of a vec3 by a scalar value\n *\n * Params:\n * vec - vec3 to scale\n * val - Numeric value to scale by\n * dest - Optional, vec3 receiving operation result. If not specified result is written to vec\n *\n * Returns:\n * dest if specified, vec otherwise\n */\nvec3.scale = function(vec, val, dest) {\n\tif(!dest || vec == dest) {\n\t\tvec[0] *= val;\n\t\tvec[1] *= val;\n\t\tvec[2] *= val;\n\t\treturn vec;\n\t}\n\t\n\tdest[0] = vec[0]*val;\n\tdest[1] = vec[1]*val;\n\tdest[2] = vec[2]*val;\n\treturn dest;\n};\n\n/*\n * vec3.normalize\n * Generates a unit vector of the same direction as the provided vec3\n * If vector length is 0, returns [0, 0, 0]\n *\n * Params:\n * vec - vec3 to normalize\n * dest - Optional, vec3 receiving operation result. If not specified result is written to vec\n *\n * Returns:\n * dest if specified, vec otherwise\n */\nvec3.normalize = function(vec, dest) {\n\tif(!dest) { dest = vec; }\n\t\n\tvar x = vec[0], y = vec[1], z = vec[2];\n\tvar len = Math.sqrt(x*x + y*y + z*z);\n\t\n\tif (!len) {\n\t\tdest[0] = 0;\n\t\tdest[1] = 0;\n\t\tdest[2] = 0;\n\t\treturn dest;\n\t} else if (len == 1) {\n\t\tdest[0] = x;\n\t\tdest[1] = y;\n\t\tdest[2] = z;\n\t\treturn dest;\n\t}\n\t\n\tlen = 1 / len;\n\tdest[0] = x*len;\n\tdest[1] = y*len;\n\tdest[2] = z*len;\n\treturn dest;\n};\n\n/*\n * vec3.cross\n * Generates the cross product of two vec3s\n *\n * Params:\n * vec - vec3, first operand\n * vec2 - vec3, second operand\n * dest - Optional, vec3 receiving operation result. If not specified result is written to vec\n *\n * Returns:\n * dest if specified, vec otherwise\n */\nvec3.cross = function(vec, vec2, dest){\n\tif(!dest) { dest = vec; }\n\t\n\tvar x = vec[0], y = vec[1], z = vec[2];\n\tvar x2 = vec2[0], y2 = vec2[1], z2 = vec2[2];\n\t\n\tdest[0] = y*z2 - z*y2;\n\tdest[1] = z*x2 - x*z2;\n\tdest[2] = x*y2 - y*x2;\n\treturn dest;\n};\n\n/*\n * vec3.length\n * Caclulates the length of a vec3\n *\n * Params:\n * vec - vec3 to calculate length of\n *\n * Returns:\n * Length of vec\n */\nvec3.length = function(vec){\n\tvar x = vec[0], y = vec[1], z = vec[2];\n\treturn Math.sqrt(x*x + y*y + z*z);\n};\n\n/*\n * vec3.dot\n * Caclulates the dot product of two vec3s\n *\n * Params:\n * vec - vec3, first operand\n * vec2 - vec3, second operand\n *\n * Returns:\n * Dot product of vec and vec2\n */\nvec3.dot = function(vec, vec2){\n\treturn vec[0]*vec2[0] + vec[1]*vec2[1] + vec[2]*vec2[2];\n};\n\n/*\n * vec3.direction\n * Generates a unit vector pointing from one vector to another\n *\n * Params:\n * vec - origin vec3\n * vec2 - vec3 to point to\n * dest - Optional, vec3 receiving operation result. If not specified result is written to vec\n *\n * Returns:\n * dest if specified, vec otherwise\n */\nvec3.direction = function(vec, vec2, dest) {\n\tif(!dest) { dest = vec; }\n\t\n\tvar x = vec[0] - vec2[0];\n\tvar y = vec[1] - vec2[1];\n\tvar z = vec[2] - vec2[2];\n\t\n\tvar len = Math.sqrt(x*x + y*y + z*z);\n\tif (!len) { \n\t\tdest[0] = 0; \n\t\tdest[1] = 0; \n\t\tdest[2] = 0;\n\t\treturn dest; \n\t}\n\t\n\tlen = 1 / len;\n\tdest[0] = x * len; \n\tdest[1] = y * len; \n\tdest[2] = z * len;\n\treturn dest; \n};\n\n/*\n * vec3.lerp\n * Performs a linear interpolation between two vec3\n *\n * Params:\n * vec - vec3, first vector\n * vec2 - vec3, second vector\n * lerp - interpolation amount between the two inputs\n * dest - Optional, vec3 receiving operation result. If not specified result is written to vec\n *\n * Returns:\n * dest if specified, vec otherwise\n */\nvec3.lerp = function(vec, vec2, lerp, dest){\n    if(!dest) { dest = vec; }\n    \n    dest[0] = vec[0] + lerp * (vec2[0] - vec[0]);\n    dest[1] = vec[1] + lerp * (vec2[1] - vec[1]);\n    dest[2] = vec[2] + lerp * (vec2[2] - vec[2]);\n    \n    return dest;\n};\n\n/*\n * vec3.str\n * Returns a string representation of a vector\n *\n * Params:\n * vec - vec3 to represent as a string\n *\n * Returns:\n * string representation of vec\n */\nvec3.str = function(vec) {\n\treturn '[' + vec[0] + ', ' + vec[1] + ', ' + vec[2] + ']'; \n};\n\n/*\n * mat3 - 3x3 Matrix\n */\nvar mat3 = {};\n\n/*\n * mat3.create\n * Creates a new instance of a mat3 using the default array type\n * Any javascript array containing at least 9 numeric elements can serve as a mat3\n *\n * Params:\n * mat - Optional, mat3 containing values to initialize with\n *\n * Returns:\n * New mat3\n */\nmat3.create = function(mat) {\n\tvar dest;\n\t\n\tif(mat) {\n\t\tdest = new glMatrixArrayType(9);\n\t\tdest[0] = mat[0];\n\t\tdest[1] = mat[1];\n\t\tdest[2] = mat[2];\n\t\tdest[3] = mat[3];\n\t\tdest[4] = mat[4];\n\t\tdest[5] = mat[5];\n\t\tdest[6] = mat[6];\n\t\tdest[7] = mat[7];\n\t\tdest[8] = mat[8];\n\t} else {\n\t\tif(glMatrixArrayType === Array)\n\t\t\tdest = new glMatrixArrayType([0,0,0,0,0,0,0,0,0]);\n\t\telse\n\t\t\tdest = new glMatrixArrayType(9);\n\t}\n\t\n\treturn dest;\n};\n\n/*\n * mat3.set\n * Copies the values of one mat3 to another\n *\n * Params:\n * mat - mat3 containing values to copy\n * dest - mat3 receiving copied values\n *\n * Returns:\n * dest\n */\nmat3.set = function(mat, dest) {\n\tdest[0] = mat[0];\n\tdest[1] = mat[1];\n\tdest[2] = mat[2];\n\tdest[3] = mat[3];\n\tdest[4] = mat[4];\n\tdest[5] = mat[5];\n\tdest[6] = mat[6];\n\tdest[7] = mat[7];\n\tdest[8] = mat[8];\n\treturn dest;\n};\n\n/*\n * mat3.identity\n * Sets a mat3 to an identity matrix\n *\n * Params:\n * dest - mat3 to set\n *\n * Returns:\n * dest\n */\nmat3.identity = function(dest) {\n\tdest[0] = 1;\n\tdest[1] = 0;\n\tdest[2] = 0;\n\tdest[3] = 0;\n\tdest[4] = 1;\n\tdest[5] = 0;\n\tdest[6] = 0;\n\tdest[7] = 0;\n\tdest[8] = 1;\n\treturn dest;\n};\n\n/*\n * mat4.transpose\n * Transposes a mat3 (flips the values over the diagonal)\n *\n * Params:\n * mat - mat3 to transpose\n * dest - Optional, mat3 receiving transposed values. If not specified result is written to mat\n *\n * Returns:\n * dest is specified, mat otherwise\n */\nmat3.transpose = function(mat, dest) {\n\t// If we are transposing ourselves we can skip a few steps but have to cache some values\n\tif(!dest || mat == dest) { \n\t\tvar a01 = mat[1], a02 = mat[2];\n\t\tvar a12 = mat[5];\n\t\t\n        mat[1] = mat[3];\n        mat[2] = mat[6];\n        mat[3] = a01;\n        mat[5] = mat[7];\n        mat[6] = a02;\n        mat[7] = a12;\n\t\treturn mat;\n\t}\n\t\n\tdest[0] = mat[0];\n\tdest[1] = mat[3];\n\tdest[2] = mat[6];\n\tdest[3] = mat[1];\n\tdest[4] = mat[4];\n\tdest[5] = mat[7];\n\tdest[6] = mat[2];\n\tdest[7] = mat[5];\n\tdest[8] = mat[8];\n\treturn dest;\n};\n\n/*\n * mat3.toMat4\n * Copies the elements of a mat3 into the upper 3x3 elements of a mat4\n *\n * Params:\n * mat - mat3 containing values to copy\n * dest - Optional, mat4 receiving copied values\n *\n * Returns:\n * dest if specified, a new mat4 otherwise\n */\nmat3.toMat4 = function(mat, dest) {\n\tif(!dest) { dest = mat4.create(); }\n\t\n\tdest[0] = mat[0];\n\tdest[1] = mat[1];\n\tdest[2] = mat[2];\n\tdest[3] = 0;\n\n\tdest[4] = mat[3];\n\tdest[5] = mat[4];\n\tdest[6] = mat[5];\n\tdest[7] = 0;\n\n\tdest[8] = mat[6];\n\tdest[9] = mat[7];\n\tdest[10] = mat[8];\n\tdest[11] = 0;\n\n\tdest[12] = 0;\n\tdest[13] = 0;\n\tdest[14] = 0;\n\tdest[15] = 1;\n\t\n\treturn dest;\n};\n\n/*\n * mat3.str\n * Returns a string representation of a mat3\n *\n * Params:\n * mat - mat3 to represent as a string\n *\n * Returns:\n * string representation of mat\n */\nmat3.str = function(mat) {\n\treturn '[' + mat[0] + ', ' + mat[1] + ', ' + mat[2] + \n\t\t', ' + mat[3] + ', '+ mat[4] + ', ' + mat[5] + \n\t\t', ' + mat[6] + ', ' + mat[7] + ', '+ mat[8] + ']';\n};\n\n/*\n * mat4 - 4x4 Matrix\n */\nvar mat4 = {};\n\n/*\n * mat4.create\n * Creates a new instance of a mat4 using the default array type\n * Any javascript array containing at least 16 numeric elements can serve as a mat4\n *\n * Params:\n * mat - Optional, mat4 containing values to initialize with\n *\n * Returns:\n * New mat4\n */\nmat4.create = function(mat) {\n\tvar dest;\n\t\n\tif(mat) {\n\t\tdest = new glMatrixArrayType(16);\n\t\tdest[0] = mat[0];\n\t\tdest[1] = mat[1];\n\t\tdest[2] = mat[2];\n\t\tdest[3] = mat[3];\n\t\tdest[4] = mat[4];\n\t\tdest[5] = mat[5];\n\t\tdest[6] = mat[6];\n\t\tdest[7] = mat[7];\n\t\tdest[8] = mat[8];\n\t\tdest[9] = mat[9];\n\t\tdest[10] = mat[10];\n\t\tdest[11] = mat[11];\n\t\tdest[12] = mat[12];\n\t\tdest[13] = mat[13];\n\t\tdest[14] = mat[14];\n\t\tdest[15] = mat[15];\n\t} else {\n\t\tif(glMatrixArrayType === Array)\n\t\t\tdest = new glMatrixArrayType([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]);\n\t\telse\n\t\t\tdest = new glMatrixArrayType(16);\n\t}\n\t\n\treturn dest;\n};\n\n/*\n * mat4.set\n * Copies the values of one mat4 to another\n *\n * Params:\n * mat - mat4 containing values to copy\n * dest - mat4 receiving copied values\n *\n * Returns:\n * dest\n */\nmat4.set = function(mat, dest) {\n\tdest[0] = mat[0];\n\tdest[1] = mat[1];\n\tdest[2] = mat[2];\n\tdest[3] = mat[3];\n\tdest[4] = mat[4];\n\tdest[5] = mat[5];\n\tdest[6] = mat[6];\n\tdest[7] = mat[7];\n\tdest[8] = mat[8];\n\tdest[9] = mat[9];\n\tdest[10] = mat[10];\n\tdest[11] = mat[11];\n\tdest[12] = mat[12];\n\tdest[13] = mat[13];\n\tdest[14] = mat[14];\n\tdest[15] = mat[15];\n\treturn dest;\n};\n\n/*\n * mat4.identity\n * Sets a mat4 to an identity matrix\n *\n * Params:\n * dest - mat4 to set\n *\n * Returns:\n * dest\n */\nmat4.identity = function(dest) {\n\tdest[0] = 1;\n\tdest[1] = 0;\n\tdest[2] = 0;\n\tdest[3] = 0;\n\tdest[4] = 0;\n\tdest[5] = 1;\n\tdest[6] = 0;\n\tdest[7] = 0;\n\tdest[8] = 0;\n\tdest[9] = 0;\n\tdest[10] = 1;\n\tdest[11] = 0;\n\tdest[12] = 0;\n\tdest[13] = 0;\n\tdest[14] = 0;\n\tdest[15] = 1;\n\treturn dest;\n};\n\n/*\n * mat4.transpose\n * Transposes a mat4 (flips the values over the diagonal)\n *\n * Params:\n * mat - mat4 to transpose\n * dest - Optional, mat4 receiving transposed values. If not specified result is written to mat\n *\n * Returns:\n * dest is specified, mat otherwise\n */\nmat4.transpose = function(mat, dest) {\n\t// If we are transposing ourselves we can skip a few steps but have to cache some values\n\tif(!dest || mat == dest) { \n\t\tvar a01 = mat[1], a02 = mat[2], a03 = mat[3];\n\t\tvar a12 = mat[6], a13 = mat[7];\n\t\tvar a23 = mat[11];\n\t\t\n\t\tmat[1] = mat[4];\n\t\tmat[2] = mat[8];\n\t\tmat[3] = mat[12];\n\t\tmat[4] = a01;\n\t\tmat[6] = mat[9];\n\t\tmat[7] = mat[13];\n\t\tmat[8] = a02;\n\t\tmat[9] = a12;\n\t\tmat[11] = mat[14];\n\t\tmat[12] = a03;\n\t\tmat[13] = a13;\n\t\tmat[14] = a23;\n\t\treturn mat;\n\t}\n\t\n\tdest[0] = mat[0];\n\tdest[1] = mat[4];\n\tdest[2] = mat[8];\n\tdest[3] = mat[12];\n\tdest[4] = mat[1];\n\tdest[5] = mat[5];\n\tdest[6] = mat[9];\n\tdest[7] = mat[13];\n\tdest[8] = mat[2];\n\tdest[9] = mat[6];\n\tdest[10] = mat[10];\n\tdest[11] = mat[14];\n\tdest[12] = mat[3];\n\tdest[13] = mat[7];\n\tdest[14] = mat[11];\n\tdest[15] = mat[15];\n\treturn dest;\n};\n\n/*\n * mat4.determinant\n * Calculates the determinant of a mat4\n *\n * Params:\n * mat - mat4 to calculate determinant of\n *\n * Returns:\n * determinant of mat\n */\nmat4.determinant = function(mat) {\n\t// Cache the matrix values (makes for huge speed increases!)\n\tvar a00 = mat[0], a01 = mat[1], a02 = mat[2], a03 = mat[3];\n\tvar a10 = mat[4], a11 = mat[5], a12 = mat[6], a13 = mat[7];\n\tvar a20 = mat[8], a21 = mat[9], a22 = mat[10], a23 = mat[11];\n\tvar a30 = mat[12], a31 = mat[13], a32 = mat[14], a33 = mat[15];\n\n\treturn\ta30*a21*a12*a03 - a20*a31*a12*a03 - a30*a11*a22*a03 + a10*a31*a22*a03 +\n\t\t\ta20*a11*a32*a03 - a10*a21*a32*a03 - a30*a21*a02*a13 + a20*a31*a02*a13 +\n\t\t\ta30*a01*a22*a13 - a00*a31*a22*a13 - a20*a01*a32*a13 + a00*a21*a32*a13 +\n\t\t\ta30*a11*a02*a23 - a10*a31*a02*a23 - a30*a01*a12*a23 + a00*a31*a12*a23 +\n\t\t\ta10*a01*a32*a23 - a00*a11*a32*a23 - a20*a11*a02*a33 + a10*a21*a02*a33 +\n\t\t\ta20*a01*a12*a33 - a00*a21*a12*a33 - a10*a01*a22*a33 + a00*a11*a22*a33;\n};\n\n/*\n * mat4.inverse\n * Calculates the inverse matrix of a mat4\n *\n * Params:\n * mat - mat4 to calculate inverse of\n * dest - Optional, mat4 receiving inverse matrix. If not specified result is written to mat\n *\n * Returns:\n * dest is specified, mat otherwise\n */\nmat4.inverse = function(mat, dest) {\n\tif(!dest) { dest = mat; }\n\t\n\t// Cache the matrix values (makes for huge speed increases!)\n\tvar a00 = mat[0], a01 = mat[1], a02 = mat[2], a03 = mat[3];\n\tvar a10 = mat[4], a11 = mat[5], a12 = mat[6], a13 = mat[7];\n\tvar a20 = mat[8], a21 = mat[9], a22 = mat[10], a23 = mat[11];\n\tvar a30 = mat[12], a31 = mat[13], a32 = mat[14], a33 = mat[15];\n\t\n\tvar b00 = a00*a11 - a01*a10;\n\tvar b01 = a00*a12 - a02*a10;\n\tvar b02 = a00*a13 - a03*a10;\n\tvar b03 = a01*a12 - a02*a11;\n\tvar b04 = a01*a13 - a03*a11;\n\tvar b05 = a02*a13 - a03*a12;\n\tvar b06 = a20*a31 - a21*a30;\n\tvar b07 = a20*a32 - a22*a30;\n\tvar b08 = a20*a33 - a23*a30;\n\tvar b09 = a21*a32 - a22*a31;\n\tvar b10 = a21*a33 - a23*a31;\n\tvar b11 = a22*a33 - a23*a32;\n\t\n\t// Calculate the determinant (inlined to avoid double-caching)\n\tvar invDet = 1/(b00*b11 - b01*b10 + b02*b09 + b03*b08 - b04*b07 + b05*b06);\n\t\n\tdest[0] = (a11*b11 - a12*b10 + a13*b09)*invDet;\n\tdest[1] = (-a01*b11 + a02*b10 - a03*b09)*invDet;\n\tdest[2] = (a31*b05 - a32*b04 + a33*b03)*invDet;\n\tdest[3] = (-a21*b05 + a22*b04 - a23*b03)*invDet;\n\tdest[4] = (-a10*b11 + a12*b08 - a13*b07)*invDet;\n\tdest[5] = (a00*b11 - a02*b08 + a03*b07)*invDet;\n\tdest[6] = (-a30*b05 + a32*b02 - a33*b01)*invDet;\n\tdest[7] = (a20*b05 - a22*b02 + a23*b01)*invDet;\n\tdest[8] = (a10*b10 - a11*b08 + a13*b06)*invDet;\n\tdest[9] = (-a00*b10 + a01*b08 - a03*b06)*invDet;\n\tdest[10] = (a30*b04 - a31*b02 + a33*b00)*invDet;\n\tdest[11] = (-a20*b04 + a21*b02 - a23*b00)*invDet;\n\tdest[12] = (-a10*b09 + a11*b07 - a12*b06)*invDet;\n\tdest[13] = (a00*b09 - a01*b07 + a02*b06)*invDet;\n\tdest[14] = (-a30*b03 + a31*b01 - a32*b00)*invDet;\n\tdest[15] = (a20*b03 - a21*b01 + a22*b00)*invDet;\n\t\n\treturn dest;\n};\n\n/*\n * mat4.toRotationMat\n * Copies the upper 3x3 elements of a mat4 into another mat4\n *\n * Params:\n * mat - mat4 containing values to copy\n * dest - Optional, mat4 receiving copied values\n *\n * Returns:\n * dest is specified, a new mat4 otherwise\n */\nmat4.toRotationMat = function(mat, dest) {\n\tif(!dest) { dest = mat4.create(); }\n\t\n\tdest[0] = mat[0];\n\tdest[1] = mat[1];\n\tdest[2] = mat[2];\n\tdest[3] = mat[3];\n\tdest[4] = mat[4];\n\tdest[5] = mat[5];\n\tdest[6] = mat[6];\n\tdest[7] = mat[7];\n\tdest[8] = mat[8];\n\tdest[9] = mat[9];\n\tdest[10] = mat[10];\n\tdest[11] = mat[11];\n\tdest[12] = 0;\n\tdest[13] = 0;\n\tdest[14] = 0;\n\tdest[15] = 1;\n\t\n\treturn dest;\n};\n\n/*\n * mat4.toMat3\n * Copies the upper 3x3 elements of a mat4 into a mat3\n *\n * Params:\n * mat - mat4 containing values to copy\n * dest - Optional, mat3 receiving copied values\n *\n * Returns:\n * dest is specified, a new mat3 otherwise\n */\nmat4.toMat3 = function(mat, dest) {\n\tif(!dest) { dest = mat3.create(); }\n\t\n\tdest[0] = mat[0];\n\tdest[1] = mat[1];\n\tdest[2] = mat[2];\n\tdest[3] = mat[4];\n\tdest[4] = mat[5];\n\tdest[5] = mat[6];\n\tdest[6] = mat[8];\n\tdest[7] = mat[9];\n\tdest[8] = mat[10];\n\t\n\treturn dest;\n};\n\n/*\n * mat4.toInverseMat3\n * Calculates the inverse of the upper 3x3 elements of a mat4 and copies the result into a mat3\n * The resulting matrix is useful for calculating transformed normals\n *\n * Params:\n * mat - mat4 containing values to invert and copy\n * dest - Optional, mat3 receiving values\n *\n * Returns:\n * dest is specified, a new mat3 otherwise\n */\nmat4.toInverseMat3 = function(mat, dest) {\n\t// Cache the matrix values (makes for huge speed increases!)\n\tvar a00 = mat[0], a01 = mat[1], a02 = mat[2];\n\tvar a10 = mat[4], a11 = mat[5], a12 = mat[6];\n\tvar a20 = mat[8], a21 = mat[9], a22 = mat[10];\n\t\n\tvar b01 = a22*a11-a12*a21;\n\tvar b11 = -a22*a10+a12*a20;\n\tvar b21 = a21*a10-a11*a20;\n\t\t\n\tvar d = a00*b01 + a01*b11 + a02*b21;\n\tif (!d) { return null; }\n\tvar id = 1/d;\n\t\n\tif(!dest) { dest = mat3.create(); }\n\t\n\tdest[0] = b01*id;\n\tdest[1] = (-a22*a01 + a02*a21)*id;\n\tdest[2] = (a12*a01 - a02*a11)*id;\n\tdest[3] = b11*id;\n\tdest[4] = (a22*a00 - a02*a20)*id;\n\tdest[5] = (-a12*a00 + a02*a10)*id;\n\tdest[6] = b21*id;\n\tdest[7] = (-a21*a00 + a01*a20)*id;\n\tdest[8] = (a11*a00 - a01*a10)*id;\n\t\n\treturn dest;\n};\n\n/*\n * mat4.multiply\n * Performs a matrix multiplication\n *\n * Params:\n * mat - mat4, first operand\n * mat2 - mat4, second operand\n * dest - Optional, mat4 receiving operation result. If not specified result is written to mat\n *\n * Returns:\n * dest if specified, mat otherwise\n */\nmat4.multiply = function(mat, mat2, dest) {\n\tif(!dest) { dest = mat; }\n\t\n\t// Cache the matrix values (makes for huge speed increases!)\n\tvar a00 = mat[0], a01 = mat[1], a02 = mat[2], a03 = mat[3];\n\tvar a10 = mat[4], a11 = mat[5], a12 = mat[6], a13 = mat[7];\n\tvar a20 = mat[8], a21 = mat[9], a22 = mat[10], a23 = mat[11];\n\tvar a30 = mat[12], a31 = mat[13], a32 = mat[14], a33 = mat[15];\n\t\n\tvar b00 = mat2[0], b01 = mat2[1], b02 = mat2[2], b03 = mat2[3];\n\tvar b10 = mat2[4], b11 = mat2[5], b12 = mat2[6], b13 = mat2[7];\n\tvar b20 = mat2[8], b21 = mat2[9], b22 = mat2[10], b23 = mat2[11];\n\tvar b30 = mat2[12], b31 = mat2[13], b32 = mat2[14], b33 = mat2[15];\n\t\n\tdest[0] = b00*a00 + b01*a10 + b02*a20 + b03*a30;\n\tdest[1] = b00*a01 + b01*a11 + b02*a21 + b03*a31;\n\tdest[2] = b00*a02 + b01*a12 + b02*a22 + b03*a32;\n\tdest[3] = b00*a03 + b01*a13 + b02*a23 + b03*a33;\n\tdest[4] = b10*a00 + b11*a10 + b12*a20 + b13*a30;\n\tdest[5] = b10*a01 + b11*a11 + b12*a21 + b13*a31;\n\tdest[6] = b10*a02 + b11*a12 + b12*a22 + b13*a32;\n\tdest[7] = b10*a03 + b11*a13 + b12*a23 + b13*a33;\n\tdest[8] = b20*a00 + b21*a10 + b22*a20 + b23*a30;\n\tdest[9] = b20*a01 + b21*a11 + b22*a21 + b23*a31;\n\tdest[10] = b20*a02 + b21*a12 + b22*a22 + b23*a32;\n\tdest[11] = b20*a03 + b21*a13 + b22*a23 + b23*a33;\n\tdest[12] = b30*a00 + b31*a10 + b32*a20 + b33*a30;\n\tdest[13] = b30*a01 + b31*a11 + b32*a21 + b33*a31;\n\tdest[14] = b30*a02 + b31*a12 + b32*a22 + b33*a32;\n\tdest[15] = b30*a03 + b31*a13 + b32*a23 + b33*a33;\n\t\n\treturn dest;\n};\n\n/*\n * mat4.multiplyVec3\n * Transforms a vec3 with the given matrix\n * 4th vector component is implicitly '1'\n *\n * Params:\n * mat - mat4 to transform the vector with\n * vec - vec3 to transform\n * dest - Optional, vec3 receiving operation result. If not specified result is written to vec\n *\n * Returns:\n * dest if specified, vec otherwise\n */\nmat4.multiplyVec3 = function(mat, vec, dest) {\n\tif(!dest) { dest = vec; }\n\t\n\tvar x = vec[0], y = vec[1], z = vec[2];\n\t\n\tdest[0] = mat[0]*x + mat[4]*y + mat[8]*z + mat[12];\n\tdest[1] = mat[1]*x + mat[5]*y + mat[9]*z + mat[13];\n\tdest[2] = mat[2]*x + mat[6]*y + mat[10]*z + mat[14];\n\t\n\treturn dest;\n};\n\n/*\n * mat4.multiplyVec4\n * Transforms a vec4 with the given matrix\n *\n * Params:\n * mat - mat4 to transform the vector with\n * vec - vec4 to transform\n * dest - Optional, vec4 receiving operation result. If not specified result is written to vec\n *\n * Returns:\n * dest if specified, vec otherwise\n */\nmat4.multiplyVec4 = function(mat, vec, dest) {\n\tif(!dest) { dest = vec; }\n\t\n\tvar x = vec[0], y = vec[1], z = vec[2], w = vec[3];\n\t\n\tdest[0] = mat[0]*x + mat[4]*y + mat[8]*z + mat[12]*w;\n\tdest[1] = mat[1]*x + mat[5]*y + mat[9]*z + mat[13]*w;\n\tdest[2] = mat[2]*x + mat[6]*y + mat[10]*z + mat[14]*w;\n\tdest[3] = mat[3]*x + mat[7]*y + mat[11]*z + mat[15]*w;\n\t\n\treturn dest;\n};\n\n/*\n * mat4.translate\n * Translates a matrix by the given vector\n *\n * Params:\n * mat - mat4 to translate\n * vec - vec3 specifying the translation\n * dest - Optional, mat4 receiving operation result. If not specified result is written to mat\n *\n * Returns:\n * dest if specified, mat otherwise\n */\nmat4.translate = function(mat, vec, dest) {\n\tvar x = vec[0], y = vec[1], z = vec[2];\n\t\n\tif(!dest || mat == dest) {\n\t\tmat[12] = mat[0]*x + mat[4]*y + mat[8]*z + mat[12];\n\t\tmat[13] = mat[1]*x + mat[5]*y + mat[9]*z + mat[13];\n\t\tmat[14] = mat[2]*x + mat[6]*y + mat[10]*z + mat[14];\n\t\tmat[15] = mat[3]*x + mat[7]*y + mat[11]*z + mat[15];\n\t\treturn mat;\n\t}\n\t\n\tvar a00 = mat[0], a01 = mat[1], a02 = mat[2], a03 = mat[3];\n\tvar a10 = mat[4], a11 = mat[5], a12 = mat[6], a13 = mat[7];\n\tvar a20 = mat[8], a21 = mat[9], a22 = mat[10], a23 = mat[11];\n\t\n\tdest[0] = a00;\n\tdest[1] = a01;\n\tdest[2] = a02;\n\tdest[3] = a03;\n\tdest[4] = a10;\n\tdest[5] = a11;\n\tdest[6] = a12;\n\tdest[7] = a13;\n\tdest[8] = a20;\n\tdest[9] = a21;\n\tdest[10] = a22;\n\tdest[11] = a23;\n\t\n\tdest[12] = a00*x + a10*y + a20*z + mat[12];\n\tdest[13] = a01*x + a11*y + a21*z + mat[13];\n\tdest[14] = a02*x + a12*y + a22*z + mat[14];\n\tdest[15] = a03*x + a13*y + a23*z + mat[15];\n\treturn dest;\n};\n\n/*\n * mat4.scale\n * Scales a matrix by the given vector\n *\n * Params:\n * mat - mat4 to scale\n * vec - vec3 specifying the scale for each axis\n * dest - Optional, mat4 receiving operation result. If not specified result is written to mat\n *\n * Returns:\n * dest if specified, mat otherwise\n */\nmat4.scale = function(mat, vec, dest) {\n\tvar x = vec[0], y = vec[1], z = vec[2];\n\t\n\tif(!dest || mat == dest) {\n\t\tmat[0] *= x;\n\t\tmat[1] *= x;\n\t\tmat[2] *= x;\n\t\tmat[3] *= x;\n\t\tmat[4] *= y;\n\t\tmat[5] *= y;\n\t\tmat[6] *= y;\n\t\tmat[7] *= y;\n\t\tmat[8] *= z;\n\t\tmat[9] *= z;\n\t\tmat[10] *= z;\n\t\tmat[11] *= z;\n\t\treturn mat;\n\t}\n\t\n\tdest[0] = mat[0]*x;\n\tdest[1] = mat[1]*x;\n\tdest[2] = mat[2]*x;\n\tdest[3] = mat[3]*x;\n\tdest[4] = mat[4]*y;\n\tdest[5] = mat[5]*y;\n\tdest[6] = mat[6]*y;\n\tdest[7] = mat[7]*y;\n\tdest[8] = mat[8]*z;\n\tdest[9] = mat[9]*z;\n\tdest[10] = mat[10]*z;\n\tdest[11] = mat[11]*z;\n\tdest[12] = mat[12];\n\tdest[13] = mat[13];\n\tdest[14] = mat[14];\n\tdest[15] = mat[15];\n\treturn dest;\n};\n\n/*\n * mat4.rotate\n * Rotates a matrix by the given angle around the specified axis\n * If rotating around a primary axis (X,Y,Z) one of the specialized rotation functions should be used instead for performance\n *\n * Params:\n * mat - mat4 to rotate\n * angle - angle (in radians) to rotate\n * axis - vec3 representing the axis to rotate around \n * dest - Optional, mat4 receiving operation result. If not specified result is written to mat\n *\n * Returns:\n * dest if specified, mat otherwise\n */\nmat4.rotate = function(mat, angle, axis, dest) {\n\tvar x = axis[0], y = axis[1], z = axis[2];\n\tvar len = Math.sqrt(x*x + y*y + z*z);\n\tif (!len) { return null; }\n\tif (len != 1) {\n\t\tlen = 1 / len;\n\t\tx *= len; \n\t\ty *= len; \n\t\tz *= len;\n\t}\n\t\n\tvar s = Math.sin(angle);\n\tvar c = Math.cos(angle);\n\tvar t = 1-c;\n\t\n\t// Cache the matrix values (makes for huge speed increases!)\n\tvar a00 = mat[0], a01 = mat[1], a02 = mat[2], a03 = mat[3];\n\tvar a10 = mat[4], a11 = mat[5], a12 = mat[6], a13 = mat[7];\n\tvar a20 = mat[8], a21 = mat[9], a22 = mat[10], a23 = mat[11];\n\t\n\t// Construct the elements of the rotation matrix\n\tvar b00 = x*x*t + c, b01 = y*x*t + z*s, b02 = z*x*t - y*s;\n\tvar b10 = x*y*t - z*s, b11 = y*y*t + c, b12 = z*y*t + x*s;\n\tvar b20 = x*z*t + y*s, b21 = y*z*t - x*s, b22 = z*z*t + c;\n\t\n\tif(!dest) { \n\t\tdest = mat; \n\t} else if(mat != dest) { // If the source and destination differ, copy the unchanged last row\n\t\tdest[12] = mat[12];\n\t\tdest[13] = mat[13];\n\t\tdest[14] = mat[14];\n\t\tdest[15] = mat[15];\n\t}\n\t\n\t// Perform rotation-specific matrix multiplication\n\tdest[0] = a00*b00 + a10*b01 + a20*b02;\n\tdest[1] = a01*b00 + a11*b01 + a21*b02;\n\tdest[2] = a02*b00 + a12*b01 + a22*b02;\n\tdest[3] = a03*b00 + a13*b01 + a23*b02;\n\t\n\tdest[4] = a00*b10 + a10*b11 + a20*b12;\n\tdest[5] = a01*b10 + a11*b11 + a21*b12;\n\tdest[6] = a02*b10 + a12*b11 + a22*b12;\n\tdest[7] = a03*b10 + a13*b11 + a23*b12;\n\t\n\tdest[8] = a00*b20 + a10*b21 + a20*b22;\n\tdest[9] = a01*b20 + a11*b21 + a21*b22;\n\tdest[10] = a02*b20 + a12*b21 + a22*b22;\n\tdest[11] = a03*b20 + a13*b21 + a23*b22;\n\treturn dest;\n};\n\n/*\n * mat4.rotateX\n * Rotates a matrix by the given angle around the X axis\n *\n * Params:\n * mat - mat4 to rotate\n * angle - angle (in radians) to rotate\n * dest - Optional, mat4 receiving operation result. If not specified result is written to mat\n *\n * Returns:\n * dest if specified, mat otherwise\n */\nmat4.rotateX = function(mat, angle, dest) {\n\tvar s = Math.sin(angle);\n\tvar c = Math.cos(angle);\n\t\n\t// Cache the matrix values (makes for huge speed increases!)\n\tvar a10 = mat[4], a11 = mat[5], a12 = mat[6], a13 = mat[7];\n\tvar a20 = mat[8], a21 = mat[9], a22 = mat[10], a23 = mat[11];\n\n\tif(!dest) { \n\t\tdest = mat; \n\t} else if(mat != dest) { // If the source and destination differ, copy the unchanged rows\n\t\tdest[0] = mat[0];\n\t\tdest[1] = mat[1];\n\t\tdest[2] = mat[2];\n\t\tdest[3] = mat[3];\n\t\t\n\t\tdest[12] = mat[12];\n\t\tdest[13] = mat[13];\n\t\tdest[14] = mat[14];\n\t\tdest[15] = mat[15];\n\t}\n\t\n\t// Perform axis-specific matrix multiplication\n\tdest[4] = a10*c + a20*s;\n\tdest[5] = a11*c + a21*s;\n\tdest[6] = a12*c + a22*s;\n\tdest[7] = a13*c + a23*s;\n\t\n\tdest[8] = a10*-s + a20*c;\n\tdest[9] = a11*-s + a21*c;\n\tdest[10] = a12*-s + a22*c;\n\tdest[11] = a13*-s + a23*c;\n\treturn dest;\n};\n\n/*\n * mat4.rotateY\n * Rotates a matrix by the given angle around the Y axis\n *\n * Params:\n * mat - mat4 to rotate\n * angle - angle (in radians) to rotate\n * dest - Optional, mat4 receiving operation result. If not specified result is written to mat\n *\n * Returns:\n * dest if specified, mat otherwise\n */\nmat4.rotateY = function(mat, angle, dest) {\n\tvar s = Math.sin(angle);\n\tvar c = Math.cos(angle);\n\t\n\t// Cache the matrix values (makes for huge speed increases!)\n\tvar a00 = mat[0], a01 = mat[1], a02 = mat[2], a03 = mat[3];\n\tvar a20 = mat[8], a21 = mat[9], a22 = mat[10], a23 = mat[11];\n\t\n\tif(!dest) { \n\t\tdest = mat; \n\t} else if(mat != dest) { // If the source and destination differ, copy the unchanged rows\n\t\tdest[4] = mat[4];\n\t\tdest[5] = mat[5];\n\t\tdest[6] = mat[6];\n\t\tdest[7] = mat[7];\n\t\t\n\t\tdest[12] = mat[12];\n\t\tdest[13] = mat[13];\n\t\tdest[14] = mat[14];\n\t\tdest[15] = mat[15];\n\t}\n\t\n\t// Perform axis-specific matrix multiplication\n\tdest[0] = a00*c + a20*-s;\n\tdest[1] = a01*c + a21*-s;\n\tdest[2] = a02*c + a22*-s;\n\tdest[3] = a03*c + a23*-s;\n\t\n\tdest[8] = a00*s + a20*c;\n\tdest[9] = a01*s + a21*c;\n\tdest[10] = a02*s + a22*c;\n\tdest[11] = a03*s + a23*c;\n\treturn dest;\n};\n\n/*\n * mat4.rotateZ\n * Rotates a matrix by the given angle around the Z axis\n *\n * Params:\n * mat - mat4 to rotate\n * angle - angle (in radians) to rotate\n * dest - Optional, mat4 receiving operation result. If not specified result is written to mat\n *\n * Returns:\n * dest if specified, mat otherwise\n */\nmat4.rotateZ = function(mat, angle, dest) {\n\tvar s = Math.sin(angle);\n\tvar c = Math.cos(angle);\n\t\n\t// Cache the matrix values (makes for huge speed increases!)\n\tvar a00 = mat[0], a01 = mat[1], a02 = mat[2], a03 = mat[3];\n\tvar a10 = mat[4], a11 = mat[5], a12 = mat[6], a13 = mat[7];\n\t\n\tif(!dest) { \n\t\tdest = mat; \n\t} else if(mat != dest) { // If the source and destination differ, copy the unchanged last row\n\t\tdest[8] = mat[8];\n\t\tdest[9] = mat[9];\n\t\tdest[10] = mat[10];\n\t\tdest[11] = mat[11];\n\t\t\n\t\tdest[12] = mat[12];\n\t\tdest[13] = mat[13];\n\t\tdest[14] = mat[14];\n\t\tdest[15] = mat[15];\n\t}\n\t\n\t// Perform axis-specific matrix multiplication\n\tdest[0] = a00*c + a10*s;\n\tdest[1] = a01*c + a11*s;\n\tdest[2] = a02*c + a12*s;\n\tdest[3] = a03*c + a13*s;\n\t\n\tdest[4] = a00*-s + a10*c;\n\tdest[5] = a01*-s + a11*c;\n\tdest[6] = a02*-s + a12*c;\n\tdest[7] = a03*-s + a13*c;\n\t\n\treturn dest;\n};\n\n/*\n * mat4.frustum\n * Generates a frustum matrix with the given bounds\n *\n * Params:\n * left, right - scalar, left and right bounds of the frustum\n * bottom, top - scalar, bottom and top bounds of the frustum\n * near, far - scalar, near and far bounds of the frustum\n * dest - Optional, mat4 frustum matrix will be written into\n *\n * Returns:\n * dest if specified, a new mat4 otherwise\n */\nmat4.frustum = function(left, right, bottom, top, near, far, dest) {\n\tif(!dest) { dest = mat4.create(); }\n\tvar rl = (right - left);\n\tvar tb = (top - bottom);\n\tvar fn = (far - near);\n\tdest[0] = (near*2) / rl;\n\tdest[1] = 0;\n\tdest[2] = 0;\n\tdest[3] = 0;\n\tdest[4] = 0;\n\tdest[5] = (near*2) / tb;\n\tdest[6] = 0;\n\tdest[7] = 0;\n\tdest[8] = (right + left) / rl;\n\tdest[9] = (top + bottom) / tb;\n\tdest[10] = -(far + near) / fn;\n\tdest[11] = -1;\n\tdest[12] = 0;\n\tdest[13] = 0;\n\tdest[14] = -(far*near*2) / fn;\n\tdest[15] = 0;\n\treturn dest;\n};\n\n/*\n * mat4.perspective\n * Generates a perspective projection matrix with the given bounds\n *\n * Params:\n * fovy - scalar, vertical field of view\n * aspect - scalar, aspect ratio. typically viewport width/height\n * near, far - scalar, near and far bounds of the frustum\n * dest - Optional, mat4 frustum matrix will be written into\n *\n * Returns:\n * dest if specified, a new mat4 otherwise\n */\nmat4.perspective = function(fovy, aspect, near, far, dest) {\n\tvar top = near*Math.tan(fovy*Math.PI / 360.0);\n\tvar right = top*aspect;\n\treturn mat4.frustum(-right, right, -top, top, near, far, dest);\n};\n\n/*\n * mat4.ortho\n * Generates a orthogonal projection matrix with the given bounds\n *\n * Params:\n * left, right - scalar, left and right bounds of the frustum\n * bottom, top - scalar, bottom and top bounds of the frustum\n * near, far - scalar, near and far bounds of the frustum\n * dest - Optional, mat4 frustum matrix will be written into\n *\n * Returns:\n * dest if specified, a new mat4 otherwise\n */\nmat4.ortho = function(left, right, bottom, top, near, far, dest) {\n\tif(!dest) { dest = mat4.create(); }\n\tvar rl = (right - left);\n\tvar tb = (top - bottom);\n\tvar fn = (far - near);\n\tdest[0] = 2 / rl;\n\tdest[1] = 0;\n\tdest[2] = 0;\n\tdest[3] = 0;\n\tdest[4] = 0;\n\tdest[5] = 2 / tb;\n\tdest[6] = 0;\n\tdest[7] = 0;\n\tdest[8] = 0;\n\tdest[9] = 0;\n\tdest[10] = -2 / fn;\n\tdest[11] = 0;\n\tdest[12] = -(left + right) / rl;\n\tdest[13] = -(top + bottom) / tb;\n\tdest[14] = -(far + near) / fn;\n\tdest[15] = 1;\n\treturn dest;\n};\n\n/*\n * mat4.ortho\n * Generates a look-at matrix with the given eye position, focal point, and up axis\n *\n * Params:\n * eye - vec3, position of the viewer\n * center - vec3, point the viewer is looking at\n * up - vec3 pointing \"up\"\n * dest - Optional, mat4 frustum matrix will be written into\n *\n * Returns:\n * dest if specified, a new mat4 otherwise\n */\nmat4.lookAt = function(eye, center, up, dest) {\n\tif(!dest) { dest = mat4.create(); }\n\t\n\tvar eyex = eye[0],\n\t\teyey = eye[1],\n\t\teyez = eye[2],\n\t\tupx = up[0],\n\t\tupy = up[1],\n\t\tupz = up[2],\n\t\tcenterx = center[0],\n\t\tcentery = center[1],\n\t\tcenterz = center[2];\n\n\tif (eyex == centerx && eyey == centery && eyez == centerz) {\n\t\treturn mat4.identity(dest);\n\t}\n\t\n\tvar z0,z1,z2,x0,x1,x2,y0,y1,y2,len;\n\t\n\t//vec3.direction(eye, center, z);\n\tz0 = eyex - center[0];\n\tz1 = eyey - center[1];\n\tz2 = eyez - center[2];\n\t\n\t// normalize (no check needed for 0 because of early return)\n\tlen = 1/Math.sqrt(z0*z0 + z1*z1 + z2*z2);\n\tz0 *= len;\n\tz1 *= len;\n\tz2 *= len;\n\t\n\t//vec3.normalize(vec3.cross(up, z, x));\n\tx0 = upy*z2 - upz*z1;\n\tx1 = upz*z0 - upx*z2;\n\tx2 = upx*z1 - upy*z0;\n\tlen = Math.sqrt(x0*x0 + x1*x1 + x2*x2);\n\tif (!len) {\n\t\tx0 = 0;\n\t\tx1 = 0;\n\t\tx2 = 0;\n\t} else {\n\t\tlen = 1/len;\n\t\tx0 *= len;\n\t\tx1 *= len;\n\t\tx2 *= len;\n\t};\n\t\n\t//vec3.normalize(vec3.cross(z, x, y));\n\ty0 = z1*x2 - z2*x1;\n\ty1 = z2*x0 - z0*x2;\n\ty2 = z0*x1 - z1*x0;\n\t\n\tlen = Math.sqrt(y0*y0 + y1*y1 + y2*y2);\n\tif (!len) {\n\t\ty0 = 0;\n\t\ty1 = 0;\n\t\ty2 = 0;\n\t} else {\n\t\tlen = 1/len;\n\t\ty0 *= len;\n\t\ty1 *= len;\n\t\ty2 *= len;\n\t}\n\t\n\tdest[0] = x0;\n\tdest[1] = y0;\n\tdest[2] = z0;\n\tdest[3] = 0;\n\tdest[4] = x1;\n\tdest[5] = y1;\n\tdest[6] = z1;\n\tdest[7] = 0;\n\tdest[8] = x2;\n\tdest[9] = y2;\n\tdest[10] = z2;\n\tdest[11] = 0;\n\tdest[12] = -(x0*eyex + x1*eyey + x2*eyez);\n\tdest[13] = -(y0*eyex + y1*eyey + y2*eyez);\n\tdest[14] = -(z0*eyex + z1*eyey + z2*eyez);\n\tdest[15] = 1;\n\t\n\treturn dest;\n};\n\n/*\n * mat4.str\n * Returns a string representation of a mat4\n *\n * Params:\n * mat - mat4 to represent as a string\n *\n * Returns:\n * string representation of mat\n */\nmat4.str = function(mat) {\n\treturn '[' + mat[0] + ', ' + mat[1] + ', ' + mat[2] + ', ' + mat[3] + \n\t\t',\\n '+ mat[4] + ', ' + mat[5] + ', ' + mat[6] + ', ' + mat[7] + \n\t\t',\\n '+ mat[8] + ', ' + mat[9] + ', ' + mat[10] + ', ' + mat[11] + \n\t\t',\\n '+ mat[12] + ', ' + mat[13] + ', ' + mat[14] + ', ' + mat[15] + ']';\n};\n\n/*\n * quat4 - Quaternions \n */\nquat4 = {};\n\n/*\n * quat4.create\n * Creates a new instance of a quat4 using the default array type\n * Any javascript array containing at least 4 numeric elements can serve as a quat4\n *\n * Params:\n * quat - Optional, quat4 containing values to initialize with\n *\n * Returns:\n * New quat4\n */\nquat4.create = function(quat) {\n\tvar dest;\n\t\n\tif(quat) {\n\t\tdest = new glMatrixArrayType(4);\n\t\tdest[0] = quat[0];\n\t\tdest[1] = quat[1];\n\t\tdest[2] = quat[2];\n\t\tdest[3] = quat[3];\n\t} else {\n\t\tif(glMatrixArrayType === Array)\n\t\t\tdest = new glMatrixArrayType([0,0,0,0]);\n\t\telse\n\t\t\tdest = new glMatrixArrayType(4);\n\t}\n\t\n\treturn dest;\n};\n\n/*\n * quat4.set\n * Copies the values of one quat4 to another\n *\n * Params:\n * quat - quat4 containing values to copy\n * dest - quat4 receiving copied values\n *\n * Returns:\n * dest\n */\nquat4.set = function(quat, dest) {\n\tdest[0] = quat[0];\n\tdest[1] = quat[1];\n\tdest[2] = quat[2];\n\tdest[3] = quat[3];\n\t\n\treturn dest;\n};\n\n/*\n * quat4.calculateW\n * Calculates the W component of a quat4 from the X, Y, and Z components.\n * Assumes that quaternion is 1 unit in length. \n * Any existing W component will be ignored. \n *\n * Params:\n * quat - quat4 to calculate W component of\n * dest - Optional, quat4 receiving calculated values. If not specified result is written to quat\n *\n * Returns:\n * dest if specified, quat otherwise\n */\nquat4.calculateW = function(quat, dest) {\n\tvar x = quat[0], y = quat[1], z = quat[2];\n\n\tif(!dest || quat == dest) {\n\t\tquat[3] = -Math.sqrt(Math.abs(1.0 - x*x - y*y - z*z));\n\t\treturn quat;\n\t}\n\tdest[0] = x;\n\tdest[1] = y;\n\tdest[2] = z;\n\tdest[3] = -Math.sqrt(Math.abs(1.0 - x*x - y*y - z*z));\n\treturn dest;\n};\n\n/*\n * quat4.inverse\n * Calculates the inverse of a quat4\n *\n * Params:\n * quat - quat4 to calculate inverse of\n * dest - Optional, quat4 receiving inverse values. If not specified result is written to quat\n *\n * Returns:\n * dest if specified, quat otherwise\n */\nquat4.inverse = function(quat, dest) {\n\tif(!dest || quat == dest) {\n\t\tquat[0] *= -1;\n\t\tquat[1] *= -1;\n\t\tquat[2] *= -1;\n\t\treturn quat;\n\t}\n\tdest[0] = -quat[0];\n\tdest[1] = -quat[1];\n\tdest[2] = -quat[2];\n\tdest[3] = quat[3];\n\treturn dest;\n};\n\n/*\n * quat4.length\n * Calculates the length of a quat4\n *\n * Params:\n * quat - quat4 to calculate length of\n *\n * Returns:\n * Length of quat\n */\nquat4.length = function(quat) {\n\tvar x = quat[0], y = quat[1], z = quat[2], w = quat[3];\n\treturn Math.sqrt(x*x + y*y + z*z + w*w);\n};\n\n/*\n * quat4.normalize\n * Generates a unit quaternion of the same direction as the provided quat4\n * If quaternion length is 0, returns [0, 0, 0, 0]\n *\n * Params:\n * quat - quat4 to normalize\n * dest - Optional, quat4 receiving operation result. If not specified result is written to quat\n *\n * Returns:\n * dest if specified, quat otherwise\n */\nquat4.normalize = function(quat, dest) {\n\tif(!dest) { dest = quat; }\n\t\n\tvar x = quat[0], y = quat[1], z = quat[2], w = quat[3];\n\tvar len = Math.sqrt(x*x + y*y + z*z + w*w);\n\tif(len == 0) {\n\t\tdest[0] = 0;\n\t\tdest[1] = 0;\n\t\tdest[2] = 0;\n\t\tdest[3] = 0;\n\t\treturn dest;\n\t}\n\tlen = 1/len;\n\tdest[0] = x * len;\n\tdest[1] = y * len;\n\tdest[2] = z * len;\n\tdest[3] = w * len;\n\t\n\treturn dest;\n};\n\n/*\n * quat4.multiply\n * Performs a quaternion multiplication\n *\n * Params:\n * quat - quat4, first operand\n * quat2 - quat4, second operand\n * dest - Optional, quat4 receiving operation result. If not specified result is written to quat\n *\n * Returns:\n * dest if specified, quat otherwise\n */\nquat4.multiply = function(quat, quat2, dest) {\n\tif(!dest) { dest = quat; }\n\t\n\tvar qax = quat[0], qay = quat[1], qaz = quat[2], qaw = quat[3];\n\tvar qbx = quat2[0], qby = quat2[1], qbz = quat2[2], qbw = quat2[3];\n\t\n\tdest[0] = qax*qbw + qaw*qbx + qay*qbz - qaz*qby;\n\tdest[1] = qay*qbw + qaw*qby + qaz*qbx - qax*qbz;\n\tdest[2] = qaz*qbw + qaw*qbz + qax*qby - qay*qbx;\n\tdest[3] = qaw*qbw - qax*qbx - qay*qby - qaz*qbz;\n\t\n\treturn dest;\n};\n\n/*\n * quat4.multiplyVec3\n * Transforms a vec3 with the given quaternion\n *\n * Params:\n * quat - quat4 to transform the vector with\n * vec - vec3 to transform\n * dest - Optional, vec3 receiving operation result. If not specified result is written to vec\n *\n * Returns:\n * dest if specified, vec otherwise\n */\nquat4.multiplyVec3 = function(quat, vec, dest) {\n\tif(!dest) { dest = vec; }\n\t\n\tvar x = vec[0], y = vec[1], z = vec[2];\n\tvar qx = quat[0], qy = quat[1], qz = quat[2], qw = quat[3];\n\n\t// calculate quat * vec\n\tvar ix = qw*x + qy*z - qz*y;\n\tvar iy = qw*y + qz*x - qx*z;\n\tvar iz = qw*z + qx*y - qy*x;\n\tvar iw = -qx*x - qy*y - qz*z;\n\t\n\t// calculate result * inverse quat\n\tdest[0] = ix*qw + iw*-qx + iy*-qz - iz*-qy;\n\tdest[1] = iy*qw + iw*-qy + iz*-qx - ix*-qz;\n\tdest[2] = iz*qw + iw*-qz + ix*-qy - iy*-qx;\n\t\n\treturn dest;\n};\n\n/*\n * quat4.toMat3\n * Calculates a 3x3 matrix from the given quat4\n *\n * Params:\n * quat - quat4 to create matrix from\n * dest - Optional, mat3 receiving operation result\n *\n * Returns:\n * dest if specified, a new mat3 otherwise\n */\nquat4.toMat3 = function(quat, dest) {\n\tif(!dest) { dest = mat3.create(); }\n\t\n\tvar x = quat[0], y = quat[1], z = quat[2], w = quat[3];\n\n\tvar x2 = x + x;\n\tvar y2 = y + y;\n\tvar z2 = z + z;\n\n\tvar xx = x*x2;\n\tvar xy = x*y2;\n\tvar xz = x*z2;\n\n\tvar yy = y*y2;\n\tvar yz = y*z2;\n\tvar zz = z*z2;\n\n\tvar wx = w*x2;\n\tvar wy = w*y2;\n\tvar wz = w*z2;\n\n\tdest[0] = 1 - (yy + zz);\n\tdest[1] = xy - wz;\n\tdest[2] = xz + wy;\n\n\tdest[3] = xy + wz;\n\tdest[4] = 1 - (xx + zz);\n\tdest[5] = yz - wx;\n\n\tdest[6] = xz - wy;\n\tdest[7] = yz + wx;\n\tdest[8] = 1 - (xx + yy);\n\t\n\treturn dest;\n};\n\n/*\n * quat4.toMat4\n * Calculates a 4x4 matrix from the given quat4\n *\n * Params:\n * quat - quat4 to create matrix from\n * dest - Optional, mat4 receiving operation result\n *\n * Returns:\n * dest if specified, a new mat4 otherwise\n */\nquat4.toMat4 = function(quat, dest) {\n\tif(!dest) { dest = mat4.create(); }\n\t\n\tvar x = quat[0], y = quat[1], z = quat[2], w = quat[3];\n\n\tvar x2 = x + x;\n\tvar y2 = y + y;\n\tvar z2 = z + z;\n\n\tvar xx = x*x2;\n\tvar xy = x*y2;\n\tvar xz = x*z2;\n\n\tvar yy = y*y2;\n\tvar yz = y*z2;\n\tvar zz = z*z2;\n\n\tvar wx = w*x2;\n\tvar wy = w*y2;\n\tvar wz = w*z2;\n\n\tdest[0] = 1 - (yy + zz);\n\tdest[1] = xy - wz;\n\tdest[2] = xz + wy;\n\tdest[3] = 0;\n\n\tdest[4] = xy + wz;\n\tdest[5] = 1 - (xx + zz);\n\tdest[6] = yz - wx;\n\tdest[7] = 0;\n\n\tdest[8] = xz - wy;\n\tdest[9] = yz + wx;\n\tdest[10] = 1 - (xx + yy);\n\tdest[11] = 0;\n\n\tdest[12] = 0;\n\tdest[13] = 0;\n\tdest[14] = 0;\n\tdest[15] = 1;\n\t\n\treturn dest;\n};\n\n/*\n * quat4.slerp\n * Performs a spherical linear interpolation between two quat4\n *\n * Params:\n * quat - quat4, first quaternion\n * quat2 - quat4, second quaternion\n * slerp - interpolation amount between the two inputs\n * dest - Optional, quat4 receiving operation result. If not specified result is written to quat\n *\n * Returns:\n * dest if specified, quat otherwise\n */\nquat4.slerp = function(quat, quat2, slerp, dest) {\n    if(!dest) { dest = quat; }\n    \n\tvar cosHalfTheta =  quat[0]*quat2[0] + quat[1]*quat2[1] + quat[2]*quat2[2] + quat[3]*quat2[3];\n\t\n\tif (Math.abs(cosHalfTheta) >= 1.0){\n\t    if(dest != quat) {\n\t\t    dest[0] = quat[0];\n\t\t    dest[1] = quat[1];\n\t\t    dest[2] = quat[2];\n\t\t    dest[3] = quat[3];\n\t\t}\n\t\treturn dest;\n\t}\n\t\n\tvar halfTheta = Math.acos(cosHalfTheta);\n\tvar sinHalfTheta = Math.sqrt(1.0 - cosHalfTheta*cosHalfTheta);\n\n\tif (Math.abs(sinHalfTheta) < 0.001){\n\t\tdest[0] = (quat[0]*0.5 + quat2[0]*0.5);\n\t\tdest[1] = (quat[1]*0.5 + quat2[1]*0.5);\n\t\tdest[2] = (quat[2]*0.5 + quat2[2]*0.5);\n\t\tdest[3] = (quat[3]*0.5 + quat2[3]*0.5);\n\t\treturn dest;\n\t}\n\t\n\tvar ratioA = Math.sin((1 - slerp)*halfTheta) / sinHalfTheta;\n\tvar ratioB = Math.sin(slerp*halfTheta) / sinHalfTheta; \n\t\n\tdest[0] = (quat[0]*ratioA + quat2[0]*ratioB);\n\tdest[1] = (quat[1]*ratioA + quat2[1]*ratioB);\n\tdest[2] = (quat[2]*ratioA + quat2[2]*ratioB);\n\tdest[3] = (quat[3]*ratioA + quat2[3]*ratioB);\n\t\n\treturn dest;\n};\n\n\n/*\n * quat4.str\n * Returns a string representation of a quaternion\n *\n * Params:\n * quat - quat4 to represent as a string\n *\n * Returns:\n * string representation of quat\n */\nquat4.str = function(quat) {\n\treturn '[' + quat[0] + ', ' + quat[1] + ', ' + quat[2] + ', ' + quat[3] + ']'; \n};\n\n\ndefine(\"glMatrix\", [\"typedefs\"], (function (global) {\n    return function () {\n        var ret, fn;\n        return ret || global.glMatrix;\n    };\n}(this)));\n\n/*\n * glMatrixAddon.js\n * Extension to the glMatrix library. The original glMatrix library\n * was created by Brandon Jones.\n */\n\n\nmat4.xVec4 = function(mat, vec, dest){\n\tif(!dest) { dest = vec; }\t\n\tvar x = vec[0], y = vec[1], z = vec[2], w = vec[3];\n\t\n\tdest[0] = mat[0]*x + mat[1]*y + mat[2]*z + mat[3]*w;\n\tdest[1] = mat[4]*x + mat[5]*y + mat[6]*z + mat[7]*w;\n\tdest[2] = mat[8]*x + mat[9]*y + mat[10]*z + mat[11]*w;\n\tdest[3] = mat[12]*x + mat[13]*y + mat[14]*z + mat[15]*w;\n\t\n\treturn dest;\n};\n\nmat3.scale = function(mat, scalar, dest){\n\tif(!dest || mat == dest) {\n\t\tmat[0] *= scalar;\n\t\tmat[1] *= scalar;\n\t\tmat[2] *= scalar;\n\t\tmat[3] *= scalar;\n\t\tmat[4] *= scalar;\n\t\tmat[5] *= scalar;\n\t\tmat[6] *= scalar;\n\t\tmat[7] *= scalar;\n\t\tmat[8] *= scalar;\n\t\treturn mat;\n\t}\n\tdest = mat3.create();\n\tdest[0] = mat[0]*scalar;\n\tdest[1] = mat[1]*scalar;\n\tdest[2] = mat[2]*scalar;\n\tdest[3] = mat[3]*scalar;\n\tdest[4] = mat[4]*scalar;\n\tdest[5] = mat[5]*scalar;\n\tdest[6] = mat[6]*scalar;\n\tdest[7] = mat[7]*scalar;\n\tdest[8] = mat[8]*scalar;\n\treturn dest;\n};\n\nmat3.inverse = function(mat, dest){\n\tif(!dest) { dest = mat; }\n\t\n\tvar ha00 = mat[0], ha01 = mat[1], ha02 = mat[2];\n\tvar ha10 = mat[3], ha11 = mat[4], ha12 = mat[5];\n\tvar ha20 = mat[6], ha21 = mat[7], ha22 = mat[8];\n\t\n\tvar invDetA = 1/(ha00*ha11*ha22 + ha01*ha12*ha20 + ha02*ha10*ha21 - ha02*ha11*ha20 - ha01*ha10*ha22 - ha00*ha12*ha21);\n\tdest[0] = (ha11*ha22 - ha12*ha21)*invDetA;\n\tdest[1] = (ha02*ha21 - ha01*ha22)*invDetA;\n\tdest[2] = (ha01*ha12 - ha02*ha11)*invDetA;\n\tdest[3] = (ha12*ha20 - ha10*ha22)*invDetA;\n\tdest[4] = (ha00*ha22 - ha02*ha20)*invDetA;\n\tdest[5] = (ha02*ha10 - ha00*ha12)*invDetA;\n\tdest[6] = (ha10*ha21 - ha11*ha20)*invDetA;\n\tdest[7] = (ha01*ha20 - ha00*ha21)*invDetA;\n\tdest[8] = (ha00*ha11 - ha01*ha10)*invDetA;\n\treturn dest;\n};\n\nmat3.multiply = function(mat, mat2, dest) {\n\tif(!dest) { dest = mat; }\n\t\n\tvar ha00 = mat[0], ha01 = mat[1], ha02 = mat[2];\n\tvar ha10 = mat[3], ha11 = mat[4], ha12 = mat[5];\n\tvar ha20 = mat[6], ha21 = mat[7], ha22 = mat[8];\n\t\n\tvar hb00 = mat2[0], hb01 = mat2[1], hb02 = mat2[2];\n\tvar hb10 = mat2[3], hb11 = mat2[4], hb12 = mat2[5];\n\tvar hb20 = mat2[6], hb21 = mat2[7], hb22 = mat2[8];\n\t\n\tdest[0] = ha00*hb00 + ha01*hb10 + ha02*hb20;\n\tdest[1] = ha00*hb01 + ha01*hb11 + ha02*hb21;\n\tdest[2] = ha00*hb02 + ha01*hb12 + ha02*hb22;\n\t\n\tdest[3] = ha10*hb00 + ha11*hb10 + ha12*hb20;\n\tdest[4] = ha10*hb01 + ha11*hb11 + ha12*hb21;\n\tdest[5] = ha10*hb02 + ha11*hb12 + ha12*hb22;\n\t\n\tdest[6] = ha20*hb00 + ha21*hb10 + ha22*hb20;\n\tdest[7] = ha20*hb01 + ha21*hb11 + ha22*hb21;\n\tdest[8] = ha20*hb02 + ha21*hb12 + ha22*hb22;\n\treturn dest;\n};\n\nmat3.xVec3 = function(mat, vec, dest){\n\tif(!dest) { dest = vec; }\n\tvar x = vec[0], y = vec[1], z = vec[2];\n\t\n\tdest[0] = mat[0]*x + mat[1]*y + mat[2]*z;\n\tdest[1] = mat[3]*x + mat[4]*y + mat[5]*z;\n\tdest[2] = mat[6]*x + mat[7]*y + mat[8]*z;\n\t\n\treturn dest;\n};\n\nvar vec4={};\n\nvec4.create = function(vec){\n\tvar dest;\n\t\n\tif(vec) {\n\t\tdest = new glMatrixArrayType(4);\n\t\tdest[0] = vec[0];\n\t\tdest[1] = vec[1];\n\t\tdest[2] = vec[2];\n\t\tdest[3] = vec[3];\n\t} else {\n\t\tif(glMatrixArrayType === Array)\n\t\t\tdest = new glMatrixArrayType([0,0,0,0]);\n\t\telse\n\t\t\tdest = new glMatrixArrayType(4);\n\t}\n\t\n\treturn dest;\n};\n\nvec4.project = function(vec, dest){\n\tif(!dest) { dest = vec; }\n\t\n\tdest[0] = vec[0]/vec[3];\n\tdest[1] = vec[1]/vec[3];\n\tdest[2] = vec[2]/vec[3];\n\treturn dest;\n};\n\nvec4.scale = function(vec, val, dest){\n\tif(!dest || vec == dest) {\n\t\tvec[0] *= val;\n\t\tvec[1] *= val;\n\t\tvec[2] *= val;\n\t\tvec[4] *= val;\n\t\treturn vec;\n\t}\n\t\n\tdest[0] = vec[0]*val;\n\tdest[1] = vec[1]*val;\n\tdest[2] = vec[2]*val;\n\tdest[3] = vec[3]*val;\n\treturn dest;\n};\n\nvec4.xMat4 = function(vec, mat, dest){\n\tif(!dest) { dest = vec; }\n\t\n\tvar x = vec[0], y = vec[1], z = vec[2], w = vec[3];\n\t\n\tdest[0] = mat[0]*x + mat[4]*y + mat[8]*z + mat[12]*w;\n\tdest[1] = mat[1]*x + mat[5]*y + mat[9]*z + mat[13]*w;\n\tdest[2] = mat[2]*x + mat[6]*y + mat[10]*z + mat[14]*w;\n\tdest[3] = mat[3]*x + mat[7]*y + mat[11]*z + mat[15]*w;\n\t\n\treturn dest;\n};\n\n\nvar mat2 = {};\n\nmat2.create = function(mat){\n\tvar dest;\n\t\n\tif(mat) {\n\t\tdest = new glMatrixArrayType(4);\n\t\tdest[0] = mat[0];\n\t\tdest[1] = mat[1];\n\t\tdest[2] = mat[2];\n\t\tdest[3] = mat[3];\n\t} else {\n\t\tif(glMatrixArrayType === Array)\n\t\t\tdest  = new glMatrixArrayType([0,0,0,0]);\n\t\telse\n\t\t\tdest = new glMatrixArrayType(4);\n\t}\n\t\n\treturn dest;\n};\n\nmat2.xVec2 = function(mat, vec, dest){\n\tif(!dest) { dest = vec; }\n\tvar x = vec[0], y = vec[1];\n\t\n\tdest[0] = mat[0]*x + mat[1]*y;\n\tdest[1] = mat[2]*x + mat[3]*y;\n\t\n\treturn dest;\n};\n\nmat2.scale = function(mat, scale, dest){\n\tif(!dest || mat == dest) {\n\t\tmat[0] *= scale;\n\t\tmat[1] *= scale;\n\t\tmat[2] *= scale;\n\t\tmat[3] *= scale;\n\t\treturn mat;\n\t}\n\t\n\tdest[0] = mat[0]*scale;\n\tdest[1] = mat[1]*scale;\n\tdest[2] = mat[2]*scale;\n\tdest[3] = mat[3]*scale;\n\treturn dest;\n};\n\nmat2.determinant = function(mat){\n\treturn mat[0]*mat[3] - mat[1]*mat[2];\n};\n\nmat2.inverse = function(mat){\n  var scale = 1/(mat2.determinant(mat));\n  var a = mat[3]*scale,\n      b = -mat[1]*scale,\n      c = -mat[2]*scale,\n      d = mat[0];\n  mat[0] = a;\n  mat[1] = b;\n  mat[2] = c;\n  mat[3] = d;\n  return mat;\n};\n\nvar vec2 = {};\nvec2.create = function(vec){\n\tvar dest;\n\t\n\tif(vec) {\n\t\tdest = new glMatrixArrayType(2);\n\t\tdest[0] = vec[0];\n\t\tdest[1] = vec[1];\n\t} else {\n\t\tif(glMatrixArrayType === Array)\n\t\t\tdest = new glMatrixArrayType([0,0]);\n\t\telse\n\t\t\tdest = new glMatrixArrayType(2);\n\t}\n\t\n\treturn dest;\n};\n\nvec2.subtract = function(vec, vec2, dest) {\n\tif(!dest || vec == dest) {\n\t\tvec[0] -= vec2[0];\n\t\tvec[1] -= vec2[1];\n\t\treturn vec;\n\t}\n\t\n\tdest[0] = vec[0] - vec2[0];\n\tdest[1] = vec[1] - vec2[1];\n\treturn dest;\n};\n\nvec2.add = function(vec, vec2, dest) {\n\tif(!dest || vec == dest) {\n\t\tvec[0] += vec2[0];\n\t\tvec[1] += vec2[1];\n\t\treturn vec;\n\t}\n\t\n\tdest[0] = vec[0] + vec2[0];\n\tdest[1] = vec[1] + vec2[1];\n\treturn dest;\n};\n\nvec2.scale = function(vec, val, dest) {\n\tif(!dest || vec == dest) {\n\t\tvec[0] *= val;\n\t\tvec[1] *= val;\n\t\treturn vec;\n\t}\n\t\n\tdest[0] = vec[0]*val;\n\tdest[1] = vec[1]*val;\n\treturn dest;\n};\n\nvec2.normalize = function(vec, dest) {\n  if(!dest) { dest = vec; }\n  \n  var x = vec[0], y = vec[1];\n  var len = Math.sqrt(x*x + y*y);\n  \n  if (!len) {\n    dest[0] = 0;\n    dest[1] = 0;\n    return dest;\n  } else if (len == 1) {\n    dest[0] = x;\n    dest[1] = y;\n    return dest;\n  }\n  \n  len = 1 / len;\n  dest[0] = x*len;\n  dest[1] = y*len;\n  return dest;\n};\n\nvec2.dot = function(vec, vec2){\n  return vec[0]*vec2[0] + vec[1]*vec2[1];\n};\n\nvec2.multiply = function(vec, vec2, dest){\n  if(!dest) { dest = vec; }\n  \n  dest[0] = vec[0]*vec2[0];\n  dest[1] = vec[1]*vec2[1];\n  return dest;\n};\n\n/**\n * @param vec vec2 to be unprojected [x,y] -> [x,y,1]\n * @returns vec3 unprojected vector\n */\nvec2.unproject = function(vec){\n\treturn vec3.create([vec[0], vec[1], 1]);\n};\n\nvec2.length = function(vec){\n  return Math.sqrt(vec[0]*vec[0] + vec[1]*vec[1]);\n};\n\nvec2.perspectiveProject = function(vec){\n  var result = vec2.create(vec);\n  return vec2.scale(result, 1/vec[2]);\n};\n\n/**\n * @param vec vec3 to be projected [x,y,z] -> [x/z,y/z]\n * @returns vec2 projected vector\n */\nvec3.project = function(vec){\n\treturn vec2.scale(vec2.create(vec), 1/vec[2]);\n};\n\nvar vec6 = {};\nvec6.scale = function(vec, val, dest){\n\tif(!dest || vec == dest) {\n\t\tvec[0] *= val;\n\t\tvec[1] *= val;\n\t\tvec[2] *= val;\n\t\tvec[3] *= val;\n\t\tvec[4] *= val;\n\t\tvec[5] *= val;\n\t\treturn vec;\n\t}\n\t\n\tdest[0] = vec[0]*val;\n\tdest[1] = vec[1]*val;\n\tdest[2] = vec[2]*val;\n\tdest[3] = vec[3]*val;\n\tdest[4] = vec[4]*val;\n\tdest[5] = vec[5]*val;\n\treturn dest;\n};\n\nvec6.subtract = function(vec, vec2, dest){\n\tif(!dest || vec == dest) {\n\t\tvec[0] -= vec2[0];\n\t\tvec[1] -= vec2[1];\n\t\tvec[2] -= vec2[2];\n\t\tvec[3] -= vec2[3];\n\t\tvec[4] -= vec2[4];\n\t\tvec[5] -= vec2[5];\n\t\treturn vec;\n\t}\n\t\n\tdest[0] = vec[0] - vec2[0];\n\tdest[1] = vec[1] - vec2[1];\n\tdest[2] = vec[2] - vec2[2];\n\tdest[3] = vec[3] - vec2[3];\n\tdest[4] = vec[4] - vec2[4];\n\tdest[5] = vec[5] - vec2[5];\n\treturn dest;\n};\n\nvec6.dot = function(vec, vec2){\n\treturn vec[0]*vec2[0] + vec[1]*vec2[1] + vec[2]*vec2[2] + vec[3]*vec2[3] + vec[4]*vec2[4] + vec[5]*vec2[5];\n};\n\nvar mat6 = {};\nmat6.xVec6 = function(mat, vec, dest){\n\tif(!dest) { dest = vec; }\t\n\tvar x = vec[0], y = vec[1], z = vec[2], u = vec[3], w = vec[4], v = vec[5];\n\t\n\tdest[0] = mat[0]*x + mat[1]*y + mat[2]*z + mat[3]*u + mat[4]*w + mat[5]*v;\n\tdest[1] = mat[6]*x + mat[7]*y + mat[8]*z + mat[9]*u + mat[10]*w + mat[11]*v;\n\tdest[2] = mat[12]*x + mat[13]*y + mat[14]*z + mat[15]*u + mat[16]*w + mat[17]*v;\n\tdest[3] = mat[18]*x + mat[19]*y + mat[20]*z + mat[21]*u + mat[22]*w + mat[23]*v;\n\tdest[4] = mat[24]*x + mat[25]*y + mat[26]*z + mat[27]*u + mat[28]*w + mat[29]*v;\n\tdest[5] = mat[30]*x + mat[31]*y + mat[32]*z + mat[33]*u + mat[34]*w + mat[35]*v;\n\t\n\treturn dest;\n};\n\nmat3.xVec3 = function(mat, vec, dest){\n\tif(!dest) { dest = vec; }\t\n\tvar x = vec[0], y = vec[1], z = vec[2];\n\t\n\tdest[0] = mat[0]*x + mat[1]*y + mat[2]*z;\n\tdest[1] = mat[3]*x + mat[4]*y + mat[5]*z;\n\tdest[2] = mat[6]*x + mat[7]*y + mat[8]*z;\n\t\n\treturn dest;\n};\ndefine(\"glMatrixAddon\", [\"glMatrix\"], (function (global) {\n    return function () {\n        var ret, fn;\n        return ret || global.glMatrixAddon;\n    };\n}(this)));\n\n/* jshint undef: true, unused: true, browser:true, devel: true */\n/* global define */\n\ndefine('array_helper',[],function() {\n    \"use strict\";\n\n    return {\n        init : function(arr, val) {\n            var l = arr.length;\n            while (l--) {\n                arr[l] = val;\n            }\n        },\n\n        /**\n         * Shuffles the content of an array\n         * @return {Array} the array itself shuffled\n         */\n        shuffle : function(arr) {\n            var i = arr.length - 1, j, x;\n            for (i; i >= 0; i--) {\n                j = Math.floor(Math.random() * i);\n                x = arr[i];\n                arr[i] = arr[j];\n                arr[j] = x;\n            }\n            return arr;\n        },\n\n        toPointList : function(arr) {\n            var i, j, row = [], rows = [];\n            for ( i = 0; i < arr.length; i++) {\n                row = [];\n                for ( j = 0; j < arr[i].length; j++) {\n                    row[j] = arr[i][j];\n                }\n                rows[i] = \"[\" + row.join(\",\") + \"]\";\n            }\n            return \"[\" + rows.join(\",\\r\\n\") + \"]\";\n        },\n\n        /**\n         * returns the elements which's score is bigger than the threshold\n         * @return {Array} the reduced array\n         */\n        threshold : function(arr, threshold, scoreFunc) {\n            var i, queue = [];\n            for ( i = 0; i < arr.length; i++) {\n                if (scoreFunc.apply(arr, [arr[i]]) >= threshold) {\n                    queue.push(arr[i]);\n                }\n            }\n            return queue;\n        },\n\n        maxIndex : function(arr) {\n            var i, max = 0;\n            for ( i = 0; i < arr.length; i++) {\n                if (arr[i] > arr[max]) {\n                    max = i;\n                }\n            }\n            return max;\n        },\n\n        max : function(arr) {\n            var i, max = 0;\n            for ( i = 0; i < arr.length; i++) {\n                if (arr[i] > max) {\n                    max = arr[i];\n                }\n            }\n            return max;\n        },\n\n        sum: function(arr) {\n            var length = arr.length,\n                sum = 0;\n\n            while(length--) {\n                sum += arr[length];\n            }\n            return sum;\n        }\n    };\n}); \n/* jshint undef: true, unused: true, browser:true, devel: true */\n/* global define, vec2, vec3 */\n\ndefine('cv_utils',['cluster', 'glMatrixAddon', \"array_helper\"], function(Cluster2, glMatrixAddon, ArrayHelper) {\n\n    \"use strict\";\n    /*\n    * cv_utils.js\n    * Collection of CV functions and libraries\n    */\n\n    /**\n     * Namespace for various CV alorithms\n     * @class Represents a collection of useful CV algorithms/functions\n     */\n\n    var CVUtils = {};\n\n    /**\n     * @param x x-coordinate\n     * @param y y-coordinate\n     * @return ImageReference {x,y} Coordinate\n     */\n    CVUtils.imageRef = function(x, y) {\n        var that = {\n            x : x,\n            y : y,\n            toVec2 : function() {\n                return vec2.create([this.x, this.y]);\n            },\n            toVec3 : function() {\n                return vec3.create([this.x, this.y, 1]);\n            },\n            round : function() {\n                this.x = this.x > 0.0 ? Math.floor(this.x + 0.5) : Math.floor(this.x - 0.5);\n                this.y = this.y > 0.0 ? Math.floor(this.y + 0.5) : Math.floor(this.y - 0.5);\n                return this;\n            }\n        };\n        return that;\n    };\n\n    /**\n     * Computes an integral image of a given grayscale image.\n     * @param imageDataContainer {ImageDataContainer} the image to be integrated\n     */\n    CVUtils.computeIntegralImage2 = function(imageWrapper, integralWrapper) {\n        var imageData = imageWrapper.data;\n        var width = imageWrapper.size.x;\n        var height = imageWrapper.size.y;\n        var integralImageData = integralWrapper.data;\n        var sum = 0, posA = 0, posB = 0, posC = 0, posD = 0, x, y;\n\n        // sum up first column\n        posB = width;\n        sum = 0;\n        for ( y = 1; y < height; y++) {\n            sum += imageData[posA];\n            integralImageData[posB] += sum;\n            posA += width;\n            posB += width;\n        }\n\n        posA = 0;\n        posB = 1;\n        sum = 0;\n        for ( x = 1; x < width; x++) {\n            sum += imageData[posA];\n            integralImageData[posB] += sum;\n            posA++;\n            posB++;\n        }\n\n        for ( y = 1; y < height; y++) {\n            posA = y * width + 1;\n            posB = (y - 1) * width + 1;\n            posC = y * width;\n            posD = (y - 1) * width;\n            for ( x = 1; x < width; x++) {\n                integralImageData[posA] += imageData[posA] + integralImageData[posB] + integralImageData[posC] - integralImageData[posD];\n                posA++;\n                posB++;\n                posC++;\n                posD++;\n            }\n        }\n    };\n\n    CVUtils.computeIntegralImage = function(imageWrapper, integralWrapper) {\n        var imageData = imageWrapper.data;\n        var width = imageWrapper.size.x;\n        var height = imageWrapper.size.y;\n        var integralImageData = integralWrapper.data;\n        var sum = 0;\n\n        // sum up first row\n        for (var i = 0; i < width; i++) {\n            sum += imageData[i];\n            integralImageData[i] = sum;\n        }\n\n        for (var v = 1; v < height; v++) {\n            sum = 0;\n            for (var u = 0; u < width; u++) {\n                sum += imageData[v * width + u];\n                integralImageData[((v) * width) + u] = sum + integralImageData[(v - 1) * width + u];\n            }\n        }\n    };\n\n    CVUtils.thresholdImage = function(imageWrapper, threshold, targetWrapper) {\n        if (!targetWrapper) {\n            targetWrapper = imageWrapper;\n        }\n        var imageData = imageWrapper.data, length = imageData.length, targetData = targetWrapper.data;\n\n        while (length--) {\n            targetData[length] = imageData[length] < threshold ? 1 : 0;\n        }\n    };\n\n    CVUtils.computeHistogram = function(imageWrapper, bitsPerPixel) {\n        if (!bitsPerPixel) {\n            bitsPerPixel = 8;\n        }\n        var imageData = imageWrapper.data,\n            length = imageData.length,\n            bitShift = 8 - bitsPerPixel,\n            bucketCnt = 1 << bitsPerPixel,\n            hist = new Int32Array(bucketCnt);\n\n        while (length--) {\n            hist[imageData[length] >> bitShift]++;\n        }\n        return hist;\n    };\n\n    CVUtils.sharpenLine = function(line) {\n        var i,\n            length = line.length,\n            left = line[0],\n            center = line[1],\n            right;\n\n        for (i = 1; i < length - 1; i++) {\n            right = line[i + 1];\n            //  -1 4 -1 kernel\n            line[i-1] = (((center * 2) - left - right)) & 255;\n            left = center;\n            center = right;\n        }\n        return line;\n    };\n\n    CVUtils.determineOtsuThreshold = function(imageWrapper, bitsPerPixel) {\n        if (!bitsPerPixel) {\n            bitsPerPixel = 8;\n        }\n        var hist,\n            threshold,\n            bitShift = 8 - bitsPerPixel;\n\n        function px(init, end) {\n            var sum = 0, i;\n            for ( i = init; i <= end; i++) {\n                sum += hist[i];\n            }\n            return sum;\n        }\n\n        function mx(init, end) {\n            var i, sum = 0;\n\n            for ( i = init; i <= end; i++) {\n                sum += i * hist[i];\n            }\n\n            return sum;\n        }\n\n        function determineThreshold() {\n            var vet = [0], p1, p2, p12, k, m1, m2, m12,\n                max = (1 << bitsPerPixel) - 1;\n\n            hist = CVUtils.computeHistogram(imageWrapper, bitsPerPixel);\n            for ( k = 1; k < max; k++) {\n                p1 = px(0, k);\n                p2 = px(k + 1, max);\n                p12 = p1 * p2;\n                if (p12 === 0) {\n                    p12 = 1;\n                }\n                m1 = mx(0, k) * p2;\n                m2 = mx(k + 1, max) * p1;\n                m12 = m1 - m2;\n                vet[k] = m12 * m12 / p12;\n            }\n            return ArrayHelper.maxIndex(vet);\n        }\n\n        threshold = determineThreshold();\n        return threshold << bitShift;\n    };\n\n    CVUtils.otsuThreshold = function(imageWrapper, targetWrapper) {\n        var threshold = CVUtils.determineOtsuThreshold(imageWrapper);\n\n        CVUtils.thresholdImage(imageWrapper, threshold, targetWrapper);\n        return threshold;\n    };\n\n    // local thresholding\n    CVUtils.computeBinaryImage = function(imageWrapper, integralWrapper, targetWrapper) {\n        CVUtils.computeIntegralImage(imageWrapper, integralWrapper);\n\n        if (!targetWrapper) {\n            targetWrapper = imageWrapper;\n        }\n        var imageData = imageWrapper.data;\n        var targetData = targetWrapper.data;\n        var width = imageWrapper.size.x;\n        var height = imageWrapper.size.y;\n        var integralImageData = integralWrapper.data;\n        var sum = 0, v, u, kernel = 3, A, B, C, D, avg, size = (kernel * 2 + 1) * (kernel * 2 + 1);\n\n        // clear out top & bottom-border\n        for ( v = 0; v <= kernel; v++) {\n            for ( u = 0; u < width; u++) {\n                targetData[((v) * width) + u] = 0;\n                targetData[(((height - 1) - v) * width) + u] = 0;\n            }\n        }\n\n        // clear out left & right border\n        for ( v = kernel; v < height - kernel; v++) {\n            for ( u = 0; u <= kernel; u++) {\n                targetData[((v) * width) + u] = 0;\n                targetData[((v) * width) + (width - 1 - u)] = 0;\n            }\n        }\n\n        for ( v = kernel + 1; v < height - kernel - 1; v++) {\n            for ( u = kernel + 1; u < width - kernel; u++) {\n                A = integralImageData[(v - kernel - 1) * width + (u - kernel - 1)];\n                B = integralImageData[(v - kernel - 1) * width + (u + kernel)];\n                C = integralImageData[(v + kernel) * width + (u - kernel - 1)];\n                D = integralImageData[(v + kernel) * width + (u + kernel)];\n                sum = D - C - B + A;\n                avg = sum / (size);\n                targetData[v * width + u] = imageData[v * width + u] > (avg + 5) ? 0 : 1;\n            }\n        }\n    };\n\n    CVUtils.cluster = function(points, threshold, property) {\n        var i, k, cluster, point, clusters = [];\n\n        if (!property) {\n            property = \"rad\";\n        }\n\n        function addToCluster(point) {\n            var found = false;\n            for ( k = 0; k < clusters.length; k++) {\n                cluster = clusters[k];\n                if (cluster.fits(point)) {\n                    cluster.add(point);\n                    found = true;\n                }\n            }\n            return found;\n        }\n\n        // iterate over each cloud\n        for ( i = 0; i < points.length; i++) {\n            point = Cluster2.createPoint(points[i], i, property);\n            if (!addToCluster(point)) {\n                clusters.push(Cluster2.create(point, threshold));\n            }\n        }\n\n        return clusters;\n\n    };\n\n    CVUtils.Tracer = {\n        trace : function(points, vec) {\n            var iteration, maxIterations = 10, top = [], result = [], centerPos = 0, currentPos = 0;\n\n            function trace(idx, forward) {\n                var from, to, toIdx, predictedPos, thresholdX = 1, thresholdY = Math.abs(vec[1] / 10), found = false;\n\n                function match(pos, predicted) {\n                    if (pos.x > (predicted.x - thresholdX) && pos.x < (predicted.x + thresholdX) && pos.y > (predicted.y - thresholdY) && pos.y < (predicted.y + thresholdY)) {\n                        return true;\n                    } else {\n                        return false;\n                    }\n                }\n\n                // check if the next index is within the vec specifications\n                // if not, check as long as the threshold is met\n\n                from = points[idx];\n                if (forward) {\n                    predictedPos = {\n                        x : from.x + vec[0],\n                        y : from.y + vec[1]\n                    };\n                } else {\n                    predictedPos = {\n                        x : from.x - vec[0],\n                        y : from.y - vec[1]\n                    };\n                }\n\n                toIdx = forward ? idx + 1 : idx - 1;\n                to = points[toIdx];\n                while (to && ( found = match(to, predictedPos)) !== true && (Math.abs(to.y - from.y) < vec[1])) {\n                    toIdx = forward ? toIdx + 1 : toIdx - 1;\n                    to = points[toIdx];\n                }\n\n                return found ? toIdx : null;\n            }\n\n            for ( iteration = 0; iteration < maxIterations; iteration++) {\n                // randomly select point to start with\n                centerPos = Math.floor(Math.random() * points.length);\n\n                // trace forward\n                top = [];\n                currentPos = centerPos;\n                top.push(points[currentPos]);\n                while (( currentPos = trace(currentPos, true)) !== null) {\n                    top.push(points[currentPos]);\n                }\n                if (centerPos > 0) {\n                    currentPos = centerPos;\n                    while (( currentPos = trace(currentPos, false)) !== null) {\n                        top.push(points[currentPos]);\n                    }\n                }\n\n                if (top.length > result.length) {\n                    result = top;\n                }\n            }\n\n            return result;\n\n        }\n    };\n\n    CVUtils.DILATE = 1;\n    CVUtils.ERODE = 2;\n\n    CVUtils.dilate = function(inImageWrapper, outImageWrapper) {\n        var v, u, inImageData = inImageWrapper.data, outImageData = outImageWrapper.data, height = inImageWrapper.size.y, width = inImageWrapper.size.x, sum, yStart1, yStart2, xStart1, xStart2;\n\n        for ( v = 1; v < height - 1; v++) {\n            for ( u = 1; u < width - 1; u++) {\n                yStart1 = v - 1;\n                yStart2 = v + 1;\n                xStart1 = u - 1;\n                xStart2 = u + 1;\n                sum = inImageData[yStart1 * width + xStart1]/* +   inImageData[yStart1*width+u] */ + inImageData[yStart1 * width + xStart2] +\n                /* inImageData[v*width+xStart1]  + */\n                inImageData[v * width + u] + /* inImageData[v*width+xStart2] +*/\n                inImageData[yStart2 * width + xStart1]/* +   inImageData[yStart2*width+u]*/ + inImageData[yStart2 * width + xStart2];\n                outImageData[v * width + u] = sum > 0 ? 1 : 0;\n            }\n        }\n    };\n\n    CVUtils.erode = function(inImageWrapper, outImageWrapper) {\n        var v, u, inImageData = inImageWrapper.data, outImageData = outImageWrapper.data, height = inImageWrapper.size.y, width = inImageWrapper.size.x, sum, yStart1, yStart2, xStart1, xStart2;\n\n        for ( v = 1; v < height - 1; v++) {\n            for ( u = 1; u < width - 1; u++) {\n                yStart1 = v - 1;\n                yStart2 = v + 1;\n                xStart1 = u - 1;\n                xStart2 = u + 1;\n                sum = inImageData[yStart1 * width + xStart1]/* +   inImageData[yStart1*width+u] */ + inImageData[yStart1 * width + xStart2] +\n                /* inImageData[v*width+xStart1]  + */\n                inImageData[v * width + u] + /* inImageData[v*width+xStart2] +*/\n                inImageData[yStart2 * width + xStart1]/* +   inImageData[yStart2*width+u]*/ + inImageData[yStart2 * width + xStart2];\n                outImageData[v * width + u] = sum === 5 ? 1 : 0;\n            }\n        }\n    };\n\n    CVUtils.subtract = function(aImageWrapper, bImageWrapper, resultImageWrapper) {\n        if (!resultImageWrapper) {\n            resultImageWrapper = aImageWrapper;\n        }\n        var length = aImageWrapper.data.length, aImageData = aImageWrapper.data, bImageData = bImageWrapper.data, cImageData = resultImageWrapper.data;\n\n        while (length--) {\n            cImageData[length] = aImageData[length] - bImageData[length];\n        }\n    };\n\n    CVUtils.bitwiseOr = function(aImageWrapper, bImageWrapper, resultImageWrapper) {\n        if (!resultImageWrapper) {\n            resultImageWrapper = aImageWrapper;\n        }\n        var length = aImageWrapper.data.length, aImageData = aImageWrapper.data, bImageData = bImageWrapper.data, cImageData = resultImageWrapper.data;\n\n        while (length--) {\n            cImageData[length] = aImageData[length] || bImageData[length];\n        }\n    };\n\n    CVUtils.countNonZero = function(imageWrapper) {\n        var length = imageWrapper.data.length, data = imageWrapper.data, sum = 0;\n\n        while (length--) {\n            sum += data[length];\n        }\n        return sum;\n    };\n\n    CVUtils.topGeneric = function(list, top, scoreFunc) {\n        var i, minIdx = 0, min = 0, queue = [], score, hit, pos;\n\n        for ( i = 0; i < top; i++) {\n            queue[i] = {\n                score : 0,\n                item : null\n            };\n        }\n\n        for ( i = 0; i < list.length; i++) {\n            score = scoreFunc.apply(this, [list[i]]);\n            if (score > min) {\n                hit = queue[minIdx];\n                hit.score = score;\n                hit.item = list[i];\n                min = Number.MAX_VALUE;\n                for ( pos = 0; pos < top; pos++) {\n                    if (queue[pos].score < min) {\n                        min = queue[pos].score;\n                        minIdx = pos;\n                    }\n                }\n            }\n        }\n\n        return queue;\n    };\n\n    CVUtils.grayArrayFromImage = function(htmlImage, offsetX, ctx, array) {\n        ctx.drawImage(htmlImage, offsetX, 0, htmlImage.width, htmlImage.height);\n        var ctxData = ctx.getImageData(offsetX, 0, htmlImage.width, htmlImage.height).data;\n        CVUtils.computeGray(ctxData, array);\n    };\n\n    CVUtils.grayArrayFromContext = function(ctx, size, offset, array) {\n        var ctxData = ctx.getImageData(offset.x, offset.y, size.x, size.y).data;\n        CVUtils.computeGray(ctxData, array);\n    };\n\n    CVUtils.grayAndHalfSampleFromCanvasData = function(canvasData, size, outArray) {\n        var topRowIdx = 0;\n        var bottomRowIdx = size.x;\n        var endIdx = Math.floor(canvasData.length / 4);\n        var outWidth = size.x / 2;\n        var outImgIdx = 0;\n        var inWidth = size.x;\n        var i;\n\n        while (bottomRowIdx < endIdx) {\n            for ( i = 0; i < outWidth; i++) {\n                outArray[outImgIdx] = Math.floor(((0.299 * canvasData[topRowIdx * 4 + 0] + 0.587 * canvasData[topRowIdx * 4 + 1] + 0.114 * canvasData[topRowIdx * 4 + 2]) + (0.299 * canvasData[(topRowIdx + 1) * 4 + 0] + 0.587 * canvasData[(topRowIdx + 1) * 4 + 1] + 0.114 * canvasData[(topRowIdx + 1) * 4 + 2]) + (0.299 * canvasData[(bottomRowIdx) * 4 + 0] + 0.587 * canvasData[(bottomRowIdx) * 4 + 1] + 0.114 * canvasData[(bottomRowIdx) * 4 + 2]) + (0.299 * canvasData[(bottomRowIdx + 1) * 4 + 0] + 0.587 * canvasData[(bottomRowIdx + 1) * 4 + 1] + 0.114 * canvasData[(bottomRowIdx + 1) * 4 + 2])) / 4);\n                outImgIdx++;\n                topRowIdx = topRowIdx + 2;\n                bottomRowIdx = bottomRowIdx + 2;\n            }\n            topRowIdx = topRowIdx + inWidth;\n            bottomRowIdx = bottomRowIdx + inWidth;\n        }\n\n    };\n\n    CVUtils.computeGray = function(imageData, outArray, config) {\n        var l = (imageData.length / 4) | 0,\n            i,\n            singleChannel = config && config.singleChannel === true;\n\n        if (singleChannel) {\n            for (i = 0; i < l; i++) {\n                outArray[i] = imageData[i * 4 + 0];\n            }\n        } else {\n            for (i = 0; i < l; i++) {\n                outArray[i] = Math.floor(0.299 * imageData[i * 4 + 0] + 0.587 * imageData[i * 4 + 1] + 0.114 * imageData[i * 4 + 2]);\n            }\n        }\n    };\n\n    CVUtils.loadImageArray = function(src, callback, canvas) {\n        if (!canvas)\n            canvas = document.createElement('canvas');\n        var img = new Image();\n        img.callback = callback;\n        img.onload = function() {\n            canvas.width = this.width;\n            canvas.height = this.height;\n            var ctx = canvas.getContext('2d');\n            ctx.drawImage(this, 0, 0);\n            var array = new Uint8Array(this.width * this.height);\n            ctx.drawImage(this, 0, 0);\n            var data = ctx.getImageData(0, 0, this.width, this.height).data;\n            CVUtils.computeGray(data, array);\n            this.callback(array, {\n                x : this.width,\n                y : this.height\n            }, this);\n        };\n        img.src = src;\n    };\n\n    /**\n     * @param inImg {ImageWrapper} input image to be sampled\n     * @param outImg {ImageWrapper} to be stored in\n     */\n    CVUtils.halfSample = function(inImgWrapper, outImgWrapper) {\n        var inImg = inImgWrapper.data;\n        var inWidth = inImgWrapper.size.x;\n        var outImg = outImgWrapper.data;\n        var topRowIdx = 0;\n        var bottomRowIdx = inWidth;\n        var endIdx = inImg.length;\n        var outWidth = inWidth / 2;\n        var outImgIdx = 0;\n        while (bottomRowIdx < endIdx) {\n            for (var i = 0; i < outWidth; i++) {\n                outImg[outImgIdx] = Math.floor((inImg[topRowIdx] + inImg[topRowIdx + 1] + inImg[bottomRowIdx] + inImg[bottomRowIdx + 1]) / 4);\n                outImgIdx++;\n                topRowIdx = topRowIdx + 2;\n                bottomRowIdx = bottomRowIdx + 2;\n            }\n            topRowIdx = topRowIdx + inWidth;\n            bottomRowIdx = bottomRowIdx + inWidth;\n        }\n    };\n\n    CVUtils.hsv2rgb = function(hsv, rgb) {\n        var h = hsv[0], s = hsv[1], v = hsv[2], c = v * s, x = c * (1 - Math.abs((h / 60) % 2 - 1)), m = v - c, r = 0, g = 0, b = 0;\n        rgb = rgb || [0, 0, 0];\n\n        if (h < 60) {\n            r = c;\n            g = x;\n        } else if (h < 120) {\n            r = x;\n            g = c;\n        } else if (h < 180) {\n            g = c;\n            b = x;\n        } else if (h < 240) {\n            g = x;\n            b = c;\n        } else if (h < 300) {\n            r = x;\n            b = c;\n        } else if (h < 360) {\n            r = c;\n            b = x;\n        }\n        rgb[0] = ((r + m) * 255) | 0;\n        rgb[1] = ((g + m) * 255) | 0;\n        rgb[2] = ((b + m) * 255) | 0;\n        return rgb;\n    };\n\n    CVUtils._computeDivisors = function(n) {\n        var largeDivisors = [],\n            divisors = [],\n            i;\n\n        for (i = 1; i < Math.sqrt(n) + 1; i++) {\n            if (n % i === 0) {\n                divisors.push(i);\n                if (i !== n/i) {\n                    largeDivisors.unshift(Math.floor(n/i));\n                }\n            }\n        }\n        return divisors.concat(largeDivisors);\n    };\n\n    CVUtils._computeIntersection = function(arr1, arr2) {\n        var i = 0,\n            j = 0,\n            result = [];\n\n        while (i < arr1.length && j < arr2.length) {\n            if (arr1[i] === arr2[j]) {\n                result.push(arr1[i]);\n                i++;\n                j++;\n            } else if (arr1[i] > arr2[j]) {\n                j++;\n            } else {\n                i++;\n            }\n        }\n        return result;\n    };\n\n    CVUtils.calculatePatchSize = function(patchSize, imgSize) {\n        var divisorsX = this._computeDivisors(imgSize.x),\n            divisorsY = this._computeDivisors(imgSize.y),\n            wideSide = Math.max(imgSize.x, imgSize.y),\n            common = this._computeIntersection(divisorsX, divisorsY),\n            nrOfPatchesList = [8, 10, 15, 20, 32, 60, 80],\n            nrOfPatchesMap = {\n                \"x-small\": 5,\n                \"small\": 4,\n                \"medium\": 3,\n                \"large\": 2,\n                \"x-large\": 1\n            },\n            nrOfPatchesIdx = nrOfPatchesMap[patchSize] || nrOfPatchesMap.medium,\n            nrOfPatches = nrOfPatchesList[nrOfPatchesIdx],\n            desiredPatchSize = Math.floor(wideSide/nrOfPatches),\n            optimalPatchSize;\n\n        function findPatchSizeForDivisors(divisors) {\n            var i = 0,\n                found = divisors[Math.floor(divisors.length/2)];\n\n            while(i < (divisors.length - 1) && divisors[i] < desiredPatchSize) {\n                i++;\n            }\n            if (i > 0) {\n                if (Math.abs(divisors[i] - desiredPatchSize) > Math.abs(divisors[i-1] - desiredPatchSize)) {\n                    found = divisors[i-1];\n                } else {\n                    found = divisors[i];\n                }\n            }\n            if (desiredPatchSize / found < nrOfPatchesList[nrOfPatchesIdx+1] / nrOfPatchesList[nrOfPatchesIdx] &&\n                desiredPatchSize / found > nrOfPatchesList[nrOfPatchesIdx-1]/nrOfPatchesList[nrOfPatchesIdx] ) {\n                return {x: found, y: found};\n            }\n            return null;\n        }\n\n        optimalPatchSize = findPatchSizeForDivisors(common);\n        if (!optimalPatchSize) {\n            optimalPatchSize = findPatchSizeForDivisors(this._computeDivisors(wideSide));\n            if (!optimalPatchSize) {\n                optimalPatchSize = findPatchSizeForDivisors((this._computeDivisors(desiredPatchSize * nrOfPatches)));\n            }\n        }\n        return optimalPatchSize;\n    };\n\n    CVUtils._parseCSSDimensionValues = function(value) {\n        var dimension = {\n                value: parseFloat(value),\n                unit: value.indexOf(\"%\") === value.length-1 ? \"%\" : \"%\"\n            };\n\n        return dimension;\n    };\n\n    CVUtils._dimensionsConverters = {\n        top: function(dimension, context) {\n            if (dimension.unit === \"%\") {\n                return Math.floor(context.height * (dimension.value / 100));\n            }\n        },\n        right: function(dimension, context) {\n            if (dimension.unit === \"%\") {\n                return Math.floor(context.width - (context.width * (dimension.value / 100)));\n            }\n        },\n        bottom: function(dimension, context) {\n            if (dimension.unit === \"%\") {\n                return Math.floor(context.height - (context.height * (dimension.value / 100)));\n            }\n        },\n        left: function(dimension, context) {\n            if (dimension.unit === \"%\") {\n                return Math.floor(context.width * (dimension.value / 100));\n            }\n        }\n    };\n\n    CVUtils.computeImageArea = function(inputWidth, inputHeight, area) {\n        var context = {width: inputWidth, height: inputHeight};\n\n        var parsedArea = Object.keys(area).reduce(function(result, key) {\n            var value = area[key],\n                parsed = CVUtils._parseCSSDimensionValues(value),\n                calculated = CVUtils._dimensionsConverters[key](parsed, context);\n\n            result[key] = calculated;\n            return result;\n        }, {});\n\n        return {\n            sx: parsedArea.left,\n            sy: parsedArea.top,\n            sw: parsedArea.right - parsedArea.left,\n            sh: parsedArea.bottom - parsedArea.top\n        };\n    };\n\n    return (CVUtils);\n});\n\n\n/* jshint undef: true, unused: true, browser:true, devel: true */\n/* global define, vec2, mat2  */\n\ndefine('image_wrapper',[\n    \"subImage\",\n    \"cv_utils\",\n    \"array_helper\"\n    ], \n    function(SubImage, CVUtils, ArrayHelper) {\n    \n    'use strict';\n\n    /**\n     * Represents a basic image combining the data and size.\n     * In addition, some methods for manipulation are contained.\n     * @param size {x,y} The size of the image in pixel\n     * @param data {Array} If given, a flat array containing the pixel data\n     * @param ArrayType {Type} If given, the desired DataType of the Array (may be typed/non-typed)\n     * @param initialize {Boolean} Indicating if the array should be initialized on creation.\n     * @returns {ImageWrapper}\n     */\n    function ImageWrapper(size, data, ArrayType, initialize) {\n        if (!data) {\n            if (ArrayType) {\n                this.data = new ArrayType(size.x * size.y);\n                if (ArrayType === Array && initialize) {\n                    ArrayHelper.init(this.data, 0);\n                }\n            } else {\n                this.data = new Uint8Array(size.x * size.y);\n                if (Uint8Array === Array && initialize) {\n                    ArrayHelper.init(this.data, 0);\n                }\n            }\n\n        } else {\n            this.data = data;\n        }\n        this.size = size;\n    }\n\n    /**\n     * tests if a position is within the image with a given offset\n     * @param imgRef {x, y} The location to test\n     * @param border Number the padding value in pixel\n     * @returns {Boolean} true if location inside the image's border, false otherwise\n     * @see cvd/image.h\n     */\n    ImageWrapper.prototype.inImageWithBorder = function(imgRef, border) {\n        return (imgRef.x >= border) && (imgRef.y >= border) && (imgRef.x < (this.size.x - border)) && (imgRef.y < (this.size.y - border));\n    };\n\n    /**\n     * Transforms an image according to the given affine-transformation matrix.\n     * @param inImg ImageWrapper a image containing the information to be extracted.\n     * @param outImg ImageWrapper the image to be filled.  The whole image out image is filled by the in image.\n     * @param M mat2 the matrix used to map point in the out matrix to those in the in matrix\n     * @param inOrig vec2 origin in the in image\n     * @param outOrig vec2 origin in the out image\n     * @returns Number the number of pixels not in the in image\n     * @see cvd/vision.h\n     */\n    ImageWrapper.transform = function(inImg, outImg, M, inOrig, outOrig) {\n        var w = outImg.size.x, h = outImg.size.y, iw = inImg.size.x, ih = inImg.size.y;\n        var across = vec2.create([M[0], M[2]]);\n        var down = vec2.create([M[1], M[3]]);\n        var defaultValue = 0;\n\n        var p0 = vec2.subtract(inOrig, mat2.xVec2(M, outOrig, vec2.create()), vec2.create());\n\n        var min_x = p0[0], min_y = p0[1];\n        var max_x = min_x, max_y = min_y;\n        var p, i, j;\n\n        var sampleFunc = ImageWrapper.sample;\n\n        if (across[0] < 0)\n            min_x += w * across[0];\n        else\n            max_x += w * across[0];\n\n        if (down[0] < 0)\n            min_x += h * down[0];\n        else\n            max_x += h * down[0];\n\n        if (across[1] < 0)\n            min_y += w * across[1];\n        else\n            max_y += w * across[1];\n\n        if (down[1] < 0)\n            min_y += h * down[1];\n        else\n            max_y += h * down[1];\n\n        var carrigeReturn = vec2.subtract(down, vec2.scale(across, w, vec2.create()), vec2.create());\n\n        if (min_x >= 0 && min_y >= 0 && max_x < iw - 1 && max_y < ih - 1) {\n            p = p0;\n            for ( i = 0; i < h; ++i, vec2.add(p, carrigeReturn))\n                for ( j = 0; j < w; ++j, vec2.add(p, across))\n                    outImg.set(j, i, sampleFunc(inImg, p[0], p[1]));\n            return 0;\n        } else {\n            var x_bound = iw - 1;\n            var y_bound = ih - 1;\n            var count = 0;\n            p = p0;\n            for ( i = 0; i < h; ++i, vec2.add(p, carrigeReturn)) {\n                for ( j = 0; j < w; ++j, vec2.add(p, across)) {\n                    if (0 <= p[0] && 0 <= p[1] && p[0] < x_bound && p[1] < y_bound) {\n                        outImg.set(j, i, sampleFunc(inImg, p[0], p[1]));\n                    } else {\n                        outImg.set(j, i, defaultValue); ++count;\n                    }\n                }\n            }\n            return count;\n        }\n    };\n\n    /**\n     * Performs bilinear sampling\n     * @param inImg Image to extract sample from\n     * @param x the x-coordinate\n     * @param y the y-coordinate\n     * @returns the sampled value\n     * @see cvd/vision.h\n     */\n    ImageWrapper.sample = function(inImg, x, y) {\n        var lx = Math.floor(x);\n        var ly = Math.floor(y);\n        var w = inImg.size.x;\n        var base = ly * inImg.size.x + lx;\n        var a = inImg.data[base + 0];\n        var b = inImg.data[base + 1];\n        var c = inImg.data[base + w];\n        var d = inImg.data[base + w + 1];\n        var e = a - b;\n        x -= lx;\n        y -= ly;\n\n        var result = Math.floor(x * (y * (e - c + d) - e) + y * (c - a) + a);\n        return result;\n    };\n\n    /**\n     * Initializes a given array. Sets each element to zero.\n     * @param array {Array} The array to initialize\n     */\n    ImageWrapper.clearArray = function(array) {\n        var l = array.length;\n        while (l--) {\n            array[l] = 0;\n        }\n    };\n\n    /**\n     * Creates a {SubImage} from the current image ({this}).\n     * @param from {ImageRef} The position where to start the {SubImage} from. (top-left corner)\n     * @param size {ImageRef} The size of the resulting image\n     * @returns {SubImage} A shared part of the original image\n     */\n    ImageWrapper.prototype.subImage = function(from, size) {\n        return new SubImage(from, size, this);\n    };\n\n    /**\n     * Creates an {ImageWrapper) and copies the needed underlying image-data area\n     * @param imageWrapper {ImageWrapper} The target {ImageWrapper} where the data should be copied\n     * @param from {ImageRef} The location where to copy from (top-left location)\n     */\n    ImageWrapper.prototype.subImageAsCopy = function(imageWrapper, from) {\n        var sizeY = imageWrapper.size.y, sizeX = imageWrapper.size.x;\n        var x, y;\n        for ( x = 0; x < sizeX; x++) {\n            for ( y = 0; y < sizeY; y++) {\n                imageWrapper.data[y * sizeX + x] = this.data[(from.y + y) * this.size.x + from.x + x];\n            }\n        }\n    };\n\n    ImageWrapper.prototype.copyTo = function(imageWrapper) {\n        var length = this.data.length, srcData = this.data, dstData = imageWrapper.data;\n\n        while (length--) {\n            dstData[length] = srcData[length];\n        }\n    };\n\n    /**\n     * Retrieves a given pixel position from the image\n     * @param x {Number} The x-position\n     * @param y {Number} The y-position\n     * @returns {Number} The grayscale value at the pixel-position\n     */\n    ImageWrapper.prototype.get = function(x, y) {\n        return this.data[y * this.size.x + x];\n    };\n\n    /**\n     * Retrieves a given pixel position from the image\n     * @param x {Number} The x-position\n     * @param y {Number} The y-position\n     * @returns {Number} The grayscale value at the pixel-position\n     */\n    ImageWrapper.prototype.getSafe = function(x, y) {\n        var i;\n        \n        if (!this.indexMapping) {\n            this.indexMapping = {\n                x : [],\n                y : []\n            };\n            for (i = 0; i < this.size.x; i++) {\n                this.indexMapping.x[i] = i;\n                this.indexMapping.x[i + this.size.x] = i;\n            }\n            for (i = 0; i < this.size.y; i++) {\n                this.indexMapping.y[i] = i;\n                this.indexMapping.y[i + this.size.y] = i;\n            }\n        }\n        return this.data[(this.indexMapping.y[y + this.size.y]) * this.size.x + this.indexMapping.x[x + this.size.x]];\n    };\n\n    /**\n     * Sets a given pixel position in the image\n     * @param x {Number} The x-position\n     * @param y {Number} The y-position\n     * @param value {Number} The grayscale value to set\n     * @returns {ImageWrapper} The Image itself (for possible chaining)\n     */\n    ImageWrapper.prototype.set = function(x, y, value) {\n        this.data[y * this.size.x + x] = value;\n        return this;\n    };\n\n    /**\n     * Sets the border of the image (1 pixel) to zero\n     */\n    ImageWrapper.prototype.zeroBorder = function() {\n        var i, width = this.size.x, height = this.size.y, data = this.data;\n        for ( i = 0; i < width; i++) {\n            data[i] = data[(height - 1) * width + i] = 0;\n        }\n        for ( i = 1; i < height - 1; i++) {\n            data[i * width] = data[i * width + (width - 1)] = 0;\n        }\n    };\n\n    /**\n     * Inverts a binary image in place\n     */\n    ImageWrapper.prototype.invert = function() {\n        var data = this.data, length = data.length;\n\n        while (length--) {\n            data[length] = data[length] ? 0 : 1;\n        }\n\n    };\n\n    ImageWrapper.prototype.convolve = function(kernel) {\n        var x, y, kx, ky, kSize = (kernel.length / 2) | 0, accu = 0;\n        for ( y = 0; y < this.size.y; y++) {\n            for ( x = 0; x < this.size.x; x++) {\n                accu = 0;\n                for ( ky = -kSize; ky <= kSize; ky++) {\n                    for ( kx = -kSize; kx <= kSize; kx++) {\n                        accu += kernel[ky+kSize][kx + kSize] * this.getSafe(x + kx, y + ky);\n                    }\n                }\n                this.data[y * this.size.x + x] = accu;\n            }\n        }\n    };\n\n    ImageWrapper.prototype.moments = function(labelcount) {\n        var data = this.data,\n            x,\n            y,\n            height = this.size.y,\n            width = this.size.x,\n            val,\n            ysq,\n            labelsum = [],\n            i,\n            label,\n            mu11,\n            mu02,\n            mu20,\n            x_,\n            y_,\n            tmp,\n            result = [],\n            PI = Math.PI,\n            PI_4 = PI / 4;\n\n        if (labelcount <= 0) {\n            return result;\n        }\n\n        for ( i = 0; i < labelcount; i++) {\n            labelsum[i] = {\n                m00 : 0,\n                m01 : 0,\n                m10 : 0,\n                m11 : 0,\n                m02 : 0,\n                m20 : 0,\n                theta : 0,\n                rad : 0\n            };\n        }\n\n        for ( y = 0; y < height; y++) {\n            ysq = y * y;\n            for ( x = 0; x < width; x++) {\n                val = data[y * width + x];\n                if (val > 0) {\n                    label = labelsum[val - 1];\n                    label.m00 += 1;\n                    label.m01 += y;\n                    label.m10 += x;\n                    label.m11 += x * y;\n                    label.m02 += ysq;\n                    label.m20 += x * x;\n                }\n            }\n        }\n\n        for ( i = 0; i < labelcount; i++) {\n            label = labelsum[i];\n            if (!isNaN(label.m00) && label.m00 !== 0) {\n                x_ = label.m10 / label.m00;\n                y_ = label.m01 / label.m00;\n                mu11 = label.m11 / label.m00 - x_ * y_;\n                mu02 = label.m02 / label.m00 - y_ * y_;\n                mu20 = label.m20 / label.m00 - x_ * x_;\n                tmp = (mu02 - mu20) / (2 * mu11);\n                tmp = 0.5 * Math.atan(tmp) + (mu11 >= 0 ? PI_4 : -PI_4 ) + PI;\n                label.theta = (tmp * 180 / PI + 90) % 180 - 90;\n                if (label.theta < 0) {\n                    label.theta += 180;\n                }\n                label.rad = tmp > PI ? tmp - PI : tmp;\n                label.vec = vec2.create([Math.cos(tmp), Math.sin(tmp)]);\n                result.push(label);\n            }\n        }\n\n        return result;\n    };\n\n    /**\n     * Displays the {ImageWrapper} in a given canvas\n     * @param canvas {Canvas} The canvas element to write to\n     * @param scale {Number} Scale which is applied to each pixel-value\n     */\n    ImageWrapper.prototype.show = function(canvas, scale) {\n        var ctx,\n            frame,\n            data,\n            current,\n            pixel,\n            x,\n            y;\n        \n        if (!scale) {\n            scale = 1.0;\n        }\n        ctx = canvas.getContext('2d');\n        canvas.width = this.size.x;\n        canvas.height = this.size.y;\n        frame = ctx.getImageData(0, 0, canvas.width, canvas.height);\n        data = frame.data;\n        current = 0;\n        for (y = 0; y < this.size.y; y++) {\n            for (x = 0; x < this.size.x; x++) {\n                pixel = y * this.size.x + x;\n                current = this.get(x, y) * scale;\n                data[pixel * 4 + 0] = current;\n                data[pixel * 4 + 1] = current;\n                data[pixel * 4 + 2] = current;\n                data[pixel * 4 + 3] = 255;\n            }\n        }\n        //frame.data = data;\n        ctx.putImageData(frame, 0, 0);\n    };\n\n    /**\n     * Displays the {SubImage} in a given canvas\n     * @param canvas {Canvas} The canvas element to write to\n     * @param scale {Number} Scale which is applied to each pixel-value\n     */\n    ImageWrapper.prototype.overlay = function(canvas, scale, from) {\n        if (!scale || scale < 0 || scale > 360) {\n            scale = 360;\n        }\n        var hsv = [0, 1, 1];\n        var rgb = [0, 0, 0];\n        var whiteRgb = [255, 255, 255];\n        var blackRgb = [0, 0, 0];\n        var result = [];\n        var ctx = canvas.getContext('2d');\n        var frame = ctx.getImageData(from.x, from.y, this.size.x, this.size.y);\n        var data = frame.data;\n        var length = this.data.length;\n        while (length--) {\n            hsv[0] = this.data[length] * scale;\n            result = hsv[0] <= 0 ? whiteRgb : hsv[0] >= 360 ? blackRgb : CVUtils.hsv2rgb(hsv, rgb);\n            data[length * 4 + 0] = result[0];\n            data[length * 4 + 1] = result[1];\n            data[length * 4 + 2] = result[2];\n            data[length * 4 + 3] = 255;\n        }\n        ctx.putImageData(frame, from.x, from.y);\n    };\n\n    return (ImageWrapper);\n}); \n/* jshint undef: true, unused: true, browser:true, devel: true */\n/* global define */\n\n/**\n * http://www.codeproject.com/Tips/407172/Connected-Component-Labeling-and-Vectorization\n */\ndefine('tracer',[],function() {\n    \"use strict\";\n    \n    var Tracer = {\n        searchDirections : [[0, 1], [1, 1], [1, 0], [1, -1], [0, -1], [-1, -1], [-1, 0], [-1, 1]],\n        create : function(imageWrapper, labelWrapper) {\n            var imageData = imageWrapper.data,\n                labelData = labelWrapper.data,\n                searchDirections = this.searchDirections,\n                width = imageWrapper.size.x,\n                pos;\n\n            function trace(current, color, label, edgelabel) {\n                var i,\n                    y,\n                    x;\n\n                for ( i = 0; i < 7; i++) {\n                    y = current.cy + searchDirections[current.dir][0];\n                    x = current.cx + searchDirections[current.dir][1];\n                    pos = y * width + x;\n                    if ((imageData[pos] === color) && ((labelData[pos] === 0) || (labelData[pos] === label))) {\n                        labelData[pos] = label;\n                        current.cy = y;\n                        current.cx = x;\n                        return true;\n                    } else {\n                        if (labelData[pos] === 0) {\n                            labelData[pos] = edgelabel;\n                        }\n                        current.dir = (current.dir + 1) % 8;\n                    }\n                }\n                return false;\n            }\n\n            function vertex2D(x, y, dir) {\n                return {\n                    dir : dir,\n                    x : x,\n                    y : y,\n                    next : null,\n                    prev : null\n                };\n            }\n\n            function contourTracing(sy, sx, label, color, edgelabel) {\n                var Fv = null,\n                    Cv,\n                    P,\n                    ldir,\n                    current = {\n                        cx : sx,\n                        cy : sy,\n                        dir : 0\n                    };\n\n                if (trace(current, color, label, edgelabel)) {\n                    Fv = vertex2D(sx, sy, current.dir);\n                    Cv = Fv;\n                    ldir = current.dir;\n                    P = vertex2D(current.cx, current.cy, 0);\n                    P.prev = Cv;\n                    Cv.next = P;\n                    P.next = null;\n                    Cv = P;\n                    do {\n                        current.dir = (current.dir + 6) % 8;\n                        trace(current, color, label, edgelabel);\n                        if (ldir != current.dir) {\n                            Cv.dir = current.dir;\n                            P = vertex2D(current.cx, current.cy, 0);\n                            P.prev = Cv;\n                            Cv.next = P;\n                            P.next = null;\n                            Cv = P;\n                        } else {\n                            Cv.dir = ldir;\n                            Cv.x = current.cx;\n                            Cv.y = current.cy;\n                        }\n                        ldir = current.dir;\n                    } while(current.cx != sx || current.cy != sy);\n                    Fv.prev = Cv.prev;\n                    Cv.prev.next = Fv;\n                }\n                return Fv;\n            }\n\n            return {\n                trace : function(current, color, label, edgelabel) {\n                    return trace(current, color, label, edgelabel);\n                },\n                contourTracing : function(sy, sx, label, color, edgelabel) {\n                    return contourTracing(sy, sx, label, color, edgelabel);\n                }\n            };\n        }\n    };\n\n    return (Tracer);\n});\n\n/* jshint undef: true, unused: true, browser:true, devel: true */\n/* global define */\n\n/**\n * http://www.codeproject.com/Tips/407172/Connected-Component-Labeling-and-Vectorization\n */\ndefine('rasterizer',[\"tracer\"], function(Tracer) {\n    \"use strict\";\n\n    var Rasterizer = {\n        createContour2D : function() {\n            return {\n                dir : null,\n                index : null,\n                firstVertex : null,\n                insideContours : null,\n                nextpeer : null,\n                prevpeer : null\n            };\n        },\n        CONTOUR_DIR : {\n            CW_DIR : 0,\n            CCW_DIR : 1,\n            UNKNOWN_DIR : 2\n        },\n        DIR : {\n            OUTSIDE_EDGE : -32767,\n            INSIDE_EDGE : -32766\n        },\n        create : function(imageWrapper, labelWrapper) {\n            var imageData = imageWrapper.data,\n                labelData = labelWrapper.data,\n                width = imageWrapper.size.x,\n                height = imageWrapper.size.y,\n                tracer = Tracer.create(imageWrapper, labelWrapper);\n\n            return {\n                rasterize : function(depthlabel) {\n                    var color,\n                        bc,\n                        lc,\n                        labelindex,\n                        cx,\n                        cy,\n                        colorMap = [],\n                        vertex,\n                        p,\n                        cc,\n                        sc,\n                        pos,\n                        connectedCount = 0,\n                        i;\n\n                    for ( i = 0; i < 400; i++) {\n                        colorMap[i] = 0;\n                    }\n\n                    colorMap[0] = imageData[0];\n                    cc = null;\n                    for ( cy = 1; cy < height - 1; cy++) {\n                        labelindex = 0;\n                        bc = colorMap[0];\n                        for ( cx = 1; cx < width - 1; cx++) {\n                            pos = cy * width + cx;\n                            if (labelData[pos] === 0) {\n                                color = imageData[pos];\n                                if (color !== bc) {\n                                    if (labelindex === 0) {\n                                        lc = connectedCount + 1;\n                                        colorMap[lc] = color;\n                                        bc = color;\n                                        vertex = tracer.contourTracing(cy, cx, lc, color, Rasterizer.DIR.OUTSIDE_EDGE);\n                                        if (vertex !== null) {\n                                            connectedCount++;\n                                            labelindex = lc;\n                                            p = Rasterizer.createContour2D();\n                                            p.dir = Rasterizer.CONTOUR_DIR.CW_DIR;\n                                            p.index = labelindex;\n                                            p.firstVertex = vertex;\n                                            p.nextpeer = cc;\n                                            p.insideContours = null;\n                                            if (cc !== null) {\n                                                cc.prevpeer = p;\n                                            }\n                                            cc = p;\n                                        }\n                                    } else {\n                                        vertex = tracer.contourTracing(cy, cx, Rasterizer.DIR.INSIDE_EDGE, color, labelindex);\n                                        if (vertex !== null) {\n                                            p = Rasterizer.createContour2D();\n                                            p.firstVertex = vertex;\n                                            p.insideContours = null;\n                                            if (depthlabel === 0) {\n                                                p.dir = Rasterizer.CONTOUR_DIR.CCW_DIR;\n                                            } else {\n                                                p.dir = Rasterizer.CONTOUR_DIR.CW_DIR;\n                                            }\n                                            p.index = depthlabel;\n                                            sc = cc;\n                                            while ((sc !== null) && sc.index !== labelindex) {\n                                                sc = sc.nextpeer;\n                                            }\n                                            if (sc !== null) {\n                                                p.nextpeer = sc.insideContours;\n                                                if (sc.insideContours !== null) {\n                                                    sc.insideContours.prevpeer = p;\n                                                }\n                                                sc.insideContours = p;\n                                            }\n                                        }\n                                    }\n                                } else {\n                                    labelData[pos] = labelindex;\n                                }\n                            } else if (labelData[pos] === Rasterizer.DIR.OUTSIDE_EDGE || labelData[pos] === Rasterizer.DIR.INSIDE_EDGE) {\n                                labelindex = 0;\n                                if (labelData[pos] === Rasterizer.DIR.INSIDE_EDGE) {\n                                    bc = imageData[pos];\n                                } else {\n                                    bc = colorMap[0];\n                                }\n                            } else {\n                                labelindex = labelData[pos];\n                                bc = colorMap[labelindex];\n                            }\n                        }\n                    }\n                    sc = cc;\n                    while (sc !== null) {\n                        sc.index = depthlabel;\n                        sc = sc.nextpeer;\n                    }\n                    return {\n                        cc : cc,\n                        count : connectedCount\n                    };\n                },\n                debug: {\n                    drawContour : function(canvas, firstContour) {\n                        var ctx = canvas.getContext(\"2d\"),\n                            pq = firstContour,\n                            iq,\n                            q,\n                            p;\n                            \n                        ctx.strokeStyle = \"red\";\n                        ctx.fillStyle = \"red\";\n                        ctx.lineWidth = 1;\n    \n                        if (pq !== null) {\n                            iq = pq.insideContours;\n                        } else {\n                            iq = null;\n                        }\n    \n                        while (pq !== null) {\n                            if (iq !== null) {\n                                q = iq;\n                                iq = iq.nextpeer;\n                            } else {\n                                q = pq;\n                                pq = pq.nextpeer;\n                                if (pq !== null) {\n                                    iq = pq.insideContours;\n                                } else {\n                                    iq = null;\n                                }\n                            }\n    \n                            switch(q.dir) {\n                            case Rasterizer.CONTOUR_DIR.CW_DIR:\n                                ctx.strokeStyle = \"red\";\n                                break;\n                            case Rasterizer.CONTOUR_DIR.CCW_DIR:\n                                ctx.strokeStyle = \"blue\";\n                                break;\n                            case Rasterizer.CONTOUR_DIR.UNKNOWN_DIR:\n                                ctx.strokeStyle = \"green\";\n                                break;\n                            }\n    \n                            p = q.firstVertex;\n                            ctx.beginPath();\n                            ctx.moveTo(p.x, p.y);\n                            do {\n                                p = p.next;\n                                ctx.lineTo(p.x, p.y);\n                            } while(p !== q.firstVertex);\n                            ctx.stroke();\n                        }\n                    }\n                }\n            };\n        }\n    };\n\n    return (Rasterizer);\n});\n\n/* jshint undef: true, unused: true, browser:true, devel: true, -W041: false */\n/* global define */\n\ndefine('skeletonizer',[],function() {\n    \"use strict\";\n\n    /* @preserve ASM BEGIN */\n    function Skeletonizer(stdlib, foreign, buffer) {\n        \"use asm\";\n\n        var images = new stdlib.Uint8Array(buffer),\n            size = foreign.size | 0,\n            imul = stdlib.Math.imul;\n\n        function erode(inImagePtr, outImagePtr) {\n            inImagePtr = inImagePtr | 0;\n            outImagePtr = outImagePtr | 0;\n\n            var v = 0,\n                u = 0,\n                sum = 0,\n                yStart1 = 0,\n                yStart2 = 0,\n                xStart1 = 0,\n                xStart2 = 0,\n                offset = 0;\n\n            for ( v = 1; (v | 0) < ((size - 1) | 0); v = (v + 1) | 0) {\n                offset = (offset + size) | 0;\n                for ( u = 1; (u | 0) < ((size - 1) | 0); u = (u + 1) | 0) {\n                    yStart1 = (offset - size) | 0;\n                    yStart2 = (offset + size) | 0;\n                    xStart1 = (u - 1) | 0;\n                    xStart2 = (u + 1) | 0;\n                    sum = ((images[(inImagePtr + yStart1 + xStart1) | 0] | 0) + (images[(inImagePtr + yStart1 + xStart2) | 0] | 0) + (images[(inImagePtr + offset + u) | 0] | 0) + (images[(inImagePtr + yStart2 + xStart1) | 0] | 0) + (images[(inImagePtr + yStart2 + xStart2) | 0] | 0)) | 0;\n                    if ((sum | 0) == (5 | 0)) {\n                        images[(outImagePtr + offset + u) | 0] = 1;\n                    } else {\n                        images[(outImagePtr + offset + u) | 0] = 0;\n                    }\n                }\n            }\n            return;\n        }\n\n        function subtract(aImagePtr, bImagePtr, outImagePtr) {\n            aImagePtr = aImagePtr | 0;\n            bImagePtr = bImagePtr | 0;\n            outImagePtr = outImagePtr | 0;\n\n            var length = 0;\n\n            length = imul(size, size) | 0;\n\n            while ((length | 0) > 0) {\n                length = (length - 1) | 0;\n                images[(outImagePtr + length) | 0] = ((images[(aImagePtr + length) | 0] | 0) - (images[(bImagePtr + length) | 0] | 0)) | 0;\n            }\n        }\n\n        function bitwiseOr(aImagePtr, bImagePtr, outImagePtr) {\n            aImagePtr = aImagePtr | 0;\n            bImagePtr = bImagePtr | 0;\n            outImagePtr = outImagePtr | 0;\n\n            var length = 0;\n\n            length = imul(size, size) | 0;\n\n            while ((length | 0) > 0) {\n                length = (length - 1) | 0;\n                images[(outImagePtr + length) | 0] = ((images[(aImagePtr + length) | 0] | 0) | (images[(bImagePtr + length) | 0] | 0)) | 0;\n            }\n        }\n\n        function countNonZero(imagePtr) {\n            imagePtr = imagePtr | 0;\n\n            var sum = 0,\n                length = 0;\n\n            length = imul(size, size) | 0;\n\n            while ((length | 0) > 0) {\n                length = (length - 1) | 0;\n                sum = ((sum | 0) + (images[(imagePtr + length) | 0] | 0)) | 0;\n            }\n\n            return (sum | 0);\n        }\n\n        function init(imagePtr, value) {\n            imagePtr = imagePtr | 0;\n            value = value | 0;\n\n            var length = 0;\n\n            length = imul(size, size) | 0;\n\n            while ((length | 0) > 0) {\n                length = (length - 1) | 0;\n                images[(imagePtr + length) | 0] = value;\n            }\n        }\n\n        function dilate(inImagePtr, outImagePtr) {\n            inImagePtr = inImagePtr | 0;\n            outImagePtr = outImagePtr | 0;\n\n            var v = 0,\n                u = 0,\n                sum = 0,\n                yStart1 = 0,\n                yStart2 = 0,\n                xStart1 = 0,\n                xStart2 = 0,\n                offset = 0;\n\n            for ( v = 1; (v | 0) < ((size - 1) | 0); v = (v + 1) | 0) {\n                offset = (offset + size) | 0;\n                for ( u = 1; (u | 0) < ((size - 1) | 0); u = (u + 1) | 0) {\n                    yStart1 = (offset - size) | 0;\n                    yStart2 = (offset + size) | 0;\n                    xStart1 = (u - 1) | 0;\n                    xStart2 = (u + 1) | 0;\n                    sum = ((images[(inImagePtr + yStart1 + xStart1) | 0] | 0) + (images[(inImagePtr + yStart1 + xStart2) | 0] | 0) + (images[(inImagePtr + offset + u) | 0] | 0) + (images[(inImagePtr + yStart2 + xStart1) | 0] | 0) + (images[(inImagePtr + yStart2 + xStart2) | 0] | 0)) | 0;\n                    if ((sum | 0) > (0 | 0)) {\n                        images[(outImagePtr + offset + u) | 0] = 1;\n                    } else {\n                        images[(outImagePtr + offset + u) | 0] = 0;\n                    }\n                }\n            }\n            return;\n        }\n\n        function memcpy(srcImagePtr, dstImagePtr) {\n            srcImagePtr = srcImagePtr | 0;\n            dstImagePtr = dstImagePtr | 0;\n\n            var length = 0;\n\n            length = imul(size, size) | 0;\n\n            while ((length | 0) > 0) {\n                length = (length - 1) | 0;\n                images[(dstImagePtr + length) | 0] = (images[(srcImagePtr + length) | 0] | 0);\n            }\n        }\n\n        function zeroBorder(imagePtr) {\n            imagePtr = imagePtr | 0;\n\n            var x = 0,\n                y = 0;\n\n            for ( x = 0; (x | 0) < ((size - 1) | 0); x = (x + 1) | 0) {\n                images[(imagePtr + x) | 0] = 0;\n                images[(imagePtr + y) | 0] = 0;\n                y = ((y + size) - 1) | 0;\n                images[(imagePtr + y) | 0] = 0;\n                y = (y + 1) | 0;\n            }\n            for ( x = 0; (x | 0) < (size | 0); x = (x + 1) | 0) {\n                images[(imagePtr + y) | 0] = 0;\n                y = (y + 1) | 0;\n            }\n        }\n\n        function skeletonize() {\n            var subImagePtr = 0,\n                erodedImagePtr = 0,\n                tempImagePtr = 0,\n                skelImagePtr = 0,\n                sum = 0,\n                done = 0;\n                \n            erodedImagePtr = imul(size, size) | 0;\n            tempImagePtr = (erodedImagePtr + erodedImagePtr) | 0;\n            skelImagePtr = (tempImagePtr + erodedImagePtr) | 0;\n\n            // init skel-image\n            init(skelImagePtr, 0);\n            zeroBorder(subImagePtr);\n\n            do {\n                erode(subImagePtr, erodedImagePtr);\n                dilate(erodedImagePtr, tempImagePtr);\n                subtract(subImagePtr, tempImagePtr, tempImagePtr);\n                bitwiseOr(skelImagePtr, tempImagePtr, skelImagePtr);\n                memcpy(erodedImagePtr, subImagePtr);\n                sum = countNonZero(subImagePtr) | 0;\n                done = ((sum | 0) == 0 | 0);\n            } while(!done);\n        }\n\n        return {\n            skeletonize : skeletonize\n        };\n    }\n    /* @preserve ASM END */\n\n    return Skeletonizer;\n});\n\n/* jshint undef: true, unused: true, browser:true, devel: true */\n/* global define */\n\ndefine('image_debug',[],function() {\n    \"use strict\";\n    \n    return {\n        drawRect: function(pos, size, ctx, style){\n            ctx.strokeStyle = style.color;\n            ctx.fillStyle = style.color;\n            ctx.lineWidth = 1;\n            ctx.beginPath();\n            ctx.strokeRect(pos.x, pos.y, size.x, size.y);\n        },\n        drawPath: function(path, def, ctx, style) {\n            ctx.strokeStyle = style.color;\n            ctx.fillStyle = style.color;\n            ctx.lineWidth = style.lineWidth;\n            ctx.beginPath();\n            ctx.moveTo(path[0][def.x], path[0][def.y]);\n            for (var j = 1; j < path.length; j++) {\n                ctx.lineTo(path[j][def.x], path[j][def.y]);\n            }\n            ctx.closePath();\n            ctx.stroke();\n        },\n        drawImage: function(imageData, size, ctx) {\n            var canvasData = ctx.getImageData(0, 0, size.x, size.y),\n                data = canvasData.data,\n                imageDataPos = imageData.length,\n                canvasDataPos = data.length,\n                value;\n\n            if (canvasDataPos/imageDataPos !== 4) {\n                return false;\n            }\n            while(imageDataPos--){\n                value = imageData[imageDataPos];\n                data[--canvasDataPos] = 255;\n                data[--canvasDataPos] = value;\n                data[--canvasDataPos] = value;\n                data[--canvasDataPos] = value;\n            }\n            ctx.putImageData(canvasData, 0, 0);\n            return true;\n        }\n    };\n    \n});\n\n/* jshint undef: true, unused: true, browser:true, devel: true */\n/* global define, mat2, vec2 */\n\ndefine(\"barcode_locator\", [\"image_wrapper\", \"cv_utils\", \"rasterizer\", \"tracer\", \"skeletonizer\", \"array_helper\", \"image_debug\"],\nfunction(ImageWrapper, CVUtils, Rasterizer, Tracer, skeletonizer, ArrayHelper, ImageDebug) {\n\n    var _config,\n        _currentImageWrapper,\n        _skelImageWrapper,\n        _subImageWrapper,\n        _labelImageWrapper,\n        _patchGrid,\n        _patchLabelGrid,\n        _imageToPatchGrid,\n        _binaryImageWrapper,\n        _patchSize,\n        _canvasContainer = {\n            ctx : {\n                binary : null\n            },\n            dom : {\n                binary : null\n            }\n        },\n        _numPatches = {x: 0, y: 0},\n        _inputImageWrapper,\n        _skeletonizer,\n        self = this;\n\n    function initBuffers() {\n        var skeletonImageData;\n        \n        if (_config.halfSample) {\n            _currentImageWrapper = new ImageWrapper({\n                x : _inputImageWrapper.size.x / 2 | 0,\n                y : _inputImageWrapper.size.y / 2 | 0\n            });\n        } else {\n            _currentImageWrapper = _inputImageWrapper;\n        }\n\n        _patchSize = CVUtils.calculatePatchSize(_config.patchSize, _currentImageWrapper.size);\n\n        _numPatches.x = _currentImageWrapper.size.x / _patchSize.x | 0;\n        _numPatches.y = _currentImageWrapper.size.y / _patchSize.y | 0;\n\n        _binaryImageWrapper = new ImageWrapper(_currentImageWrapper.size, undefined, Uint8Array, false);\n\n        _labelImageWrapper = new ImageWrapper(_patchSize, undefined, Array, true);\n\n        skeletonImageData = new ArrayBuffer(64*1024);\n        _subImageWrapper = new ImageWrapper(_patchSize, new Uint8Array(skeletonImageData, 0, _patchSize.x * _patchSize.y));\n        _skelImageWrapper = new ImageWrapper(_patchSize, new Uint8Array(skeletonImageData, _patchSize.x * _patchSize.y * 3, _patchSize.x * _patchSize.y), undefined, true);\n        _skeletonizer = skeletonizer(self, {\n            size : _patchSize.x\n        }, skeletonImageData);\n\n        _imageToPatchGrid = new ImageWrapper({\n            x : (_currentImageWrapper.size.x / _subImageWrapper.size.x) | 0,\n            y : (_currentImageWrapper.size.y / _subImageWrapper.size.y) | 0\n        }, undefined, Array, true);\n        _patchGrid = new ImageWrapper(_imageToPatchGrid.size, undefined, undefined, true);\n        _patchLabelGrid = new ImageWrapper(_imageToPatchGrid.size, undefined, Int32Array, true);\n    }\n\n    function initCanvas() {\n        if (_config.useWorker || typeof document === 'undefined') {\n            return;\n        }\n        _canvasContainer.dom.binary = document.createElement(\"canvas\");\n        _canvasContainer.dom.binary.className = \"binaryBuffer\";\n        if (_config.showCanvas === true) {\n            document.querySelector(\"#debug\").appendChild(_canvasContainer.dom.binary);\n        }\n        _canvasContainer.ctx.binary = _canvasContainer.dom.binary.getContext(\"2d\");\n        _canvasContainer.dom.binary.width = _binaryImageWrapper.size.x;\n        _canvasContainer.dom.binary.height = _binaryImageWrapper.size.y;\n    }\n\n    /**\n     * Creates a bounding box which encloses all the given patches\n     * @returns {Array} The minimal bounding box \n     */\n    function boxFromPatches(patches) {\n        var overAvg, i, j, patch, transMat, minx = _binaryImageWrapper.size.x, miny = _binaryImageWrapper.size.y, maxx = -_binaryImageWrapper.size.x, maxy = -_binaryImageWrapper.size.y, box, scale;\n\n        // draw all patches which are to be taken into consideration\n        overAvg = 0;\n        for ( i = 0; i < patches.length; i++) {\n            patch = patches[i];\n            overAvg += patch.rad;\n            if (_config.showPatches) {\n                ImageDebug.drawRect(patch.pos, _subImageWrapper.size, _canvasContainer.ctx.binary, {color: \"red\"});\n            }\n        }\n\n        overAvg /= patches.length;\n        overAvg = (overAvg * 180 / Math.PI + 90) % 180 - 90;\n        if (overAvg < 0) {\n            overAvg += 180;\n        }\n\n        //console.log(overAvg);\n        overAvg = (180 - overAvg) * Math.PI / 180;\n        transMat = mat2.create([Math.cos(overAvg), -Math.sin(overAvg), Math.sin(overAvg), Math.cos(overAvg)]);\n\n        // iterate over patches and rotate by angle\n        for ( i = 0; i < patches.length; i++) {\n            patch = patches[i];\n            for ( j = 0; j < 4; j++) {\n                mat2.xVec2(transMat, patch.box[j]);\n            }\n\n            if (_config.boxFromPatches.showTransformed) {\n                ImageDebug.drawPath(patch.box, {x: 0, y: 1}, _canvasContainer.ctx.binary, {color: '#99ff00', lineWidth: 2});\n            }\n        }\n\n        // find bounding box\n        for ( i = 0; i < patches.length; i++) {\n            patch = patches[i];\n            for ( j = 0; j < 4; j++) {\n                if (patch.box[j][0] < minx) {\n                    minx = patch.box[j][0];\n                }\n                if (patch.box[j][0] > maxx) {\n                    maxx = patch.box[j][0];\n                }\n                if (patch.box[j][1] < miny) {\n                    miny = patch.box[j][1];\n                }\n                if (patch.box[j][1] > maxy) {\n                    maxy = patch.box[j][1];\n                }\n            }\n        }\n\n        box = [[minx, miny], [maxx, miny], [maxx, maxy], [minx, maxy]];\n\n        if (_config.boxFromPatches.showTransformedBox) {\n            ImageDebug.drawPath(box, {x: 0, y: 1}, _canvasContainer.ctx.binary, {color: '#ff0000', lineWidth: 2});\n        }\n\n        scale = _config.halfSample ? 2 : 1;\n        // reverse rotation;\n        transMat = mat2.inverse(transMat);\n        for ( j = 0; j < 4; j++) {\n            mat2.xVec2(transMat, box[j]);\n        }\n\n        if (_config.boxFromPatches.showBB) {\n            ImageDebug.drawPath(box, {x: 0, y: 1}, _canvasContainer.ctx.binary, {color: '#ff0000', lineWidth: 2});\n        }\n        \n        for ( j = 0; j < 4; j++) {\n            vec2.scale(box[j], scale);\n        }\n\n        return box;\n    }\n\n    /**\n     * Creates a binary image of the current image\n     */\n    function binarizeImage() {\n        CVUtils.otsuThreshold(_currentImageWrapper, _binaryImageWrapper);\n        _binaryImageWrapper.zeroBorder();\n        if (_config.showCanvas) {\n            _binaryImageWrapper.show(_canvasContainer.dom.binary, 255);\n        }\n    }\n    \n    /**\n     * Iterate over the entire image\n     * extract patches\n     */\n    function findPatches() {\n        var i,\n            j,\n            x,\n            y,\n            moments,\n            patchesFound = [],\n            rasterizer,\n            rasterResult,\n            patch;\n        for ( i = 0; i < _numPatches.x; i++) {\n            for ( j = 0; j < _numPatches.y; j++) {\n\n                x = _subImageWrapper.size.x * i;\n                y = _subImageWrapper.size.y * j;\n\n                // seperate parts\n                skeletonize(x, y);\n\n                // Rasterize, find individual bars\n                _skelImageWrapper.zeroBorder();\n                ArrayHelper.init(_labelImageWrapper.data, 0);\n                rasterizer = Rasterizer.create(_skelImageWrapper, _labelImageWrapper);\n                rasterResult = rasterizer.rasterize(0);\n\n                if (_config.showLabels) {\n                    _labelImageWrapper.overlay(_canvasContainer.dom.binary, Math.floor(360 / rasterResult.count), {x : x, y : y});\n                }\n\n                // calculate moments from the skeletonized patch\n                moments = _labelImageWrapper.moments(rasterResult.count);\n\n                // extract eligible patches\n                patchesFound = patchesFound.concat(describePatch(moments, [i, j], x, y));\n            }\n        }\n        \n        if (_config.showFoundPatches) {\n            for ( i = 0; i < patchesFound.length; i++) {\n                patch = patchesFound[i];\n                ImageDebug.drawRect(patch.pos, _subImageWrapper.size, _canvasContainer.ctx.binary, {color: \"#99ff00\", lineWidth: 2});\n            }\n        }\n        \n        return patchesFound;\n    }\n    \n    /**\n     * Finds those connected areas which contain at least 6 patches\n     * and returns them ordered DESC by the number of contained patches\n     * @param {Number} maxLabel \n     */\n    function findBiggestConnectedAreas(maxLabel){\n        var i,\n            sum,\n            labelHist = [],\n            topLabels = [];\n            \n        for ( i = 0; i < maxLabel; i++) {\n            labelHist.push(0);\n        }\n        sum = _patchLabelGrid.data.length;\n        while (sum--) {\n            if (_patchLabelGrid.data[sum] > 0) {\n                labelHist[_patchLabelGrid.data[sum] - 1]++;\n            }\n        }\n\n        labelHist = labelHist.map(function(val, idx) {\n            return {\n                val : val,\n                label : idx + 1\n            };\n        });\n\n        labelHist.sort(function(a, b) {\n            return b.val - a.val;\n        });\n\n        // extract top areas with at least 6 patches present\n        topLabels = labelHist.filter(function(el) {\n            return el.val >= 5;\n        });\n        \n        return topLabels;\n    }\n    \n    /**\n     * \n     */\n    function findBoxes(topLabels, maxLabel) {\n        var i,\n            j,\n            sum,\n            patches = [],\n            patch,\n            box,\n            boxes = [],\n            hsv = [0, 1, 1],\n            rgb = [0, 0, 0];\n            \n        for ( i = 0; i < topLabels.length; i++) {\n            sum = _patchLabelGrid.data.length;\n            patches.length = 0;\n            while (sum--) {\n                if (_patchLabelGrid.data[sum] === topLabels[i].label) {\n                    patch = _imageToPatchGrid.data[sum];\n                    patches.push(patch);\n                }\n            }\n            box = boxFromPatches(patches);\n            if (box) {\n                boxes.push(box);\n\n                // draw patch-labels if requested\n                if (_config.showRemainingPatchLabels) {\n                    for ( j = 0; j < patches.length; j++) {\n                        patch = patches[j];\n                        hsv[0] = (topLabels[i].label / (maxLabel + 1)) * 360;\n                        CVUtils.hsv2rgb(hsv, rgb);\n                        ImageDebug.drawRect(patch.pos, _subImageWrapper.size, _canvasContainer.ctx.binary, {color: \"rgb(\" + rgb.join(\",\") + \")\", lineWidth: 2});\n                    }\n                }\n            }\n        }\n        return boxes;\n    }\n\n    /**\n     * Find similar moments (via cluster)\n     * @param {Object} moments\n     */\n    function similarMoments(moments) {\n        var clusters = CVUtils.cluster(moments, 0.90);\n        var topCluster = CVUtils.topGeneric(clusters, 1, function(e) {\n            return e.getPoints().length;\n        });\n        var points = [], result = [];\n        if (topCluster.length === 1) {\n            points = topCluster[0].item.getPoints();\n            for (var i = 0; i < points.length; i++) {\n                result.push(points[i].point);\n            }\n        }\n        return result;\n    }\n\n    function skeletonize(x, y) {\n        _binaryImageWrapper.subImageAsCopy(_subImageWrapper, CVUtils.imageRef(x, y));\n        _skeletonizer.skeletonize();\n        \n        // Show skeleton if requested\n        if (_config.showSkeleton) {\n            _skelImageWrapper.overlay(_canvasContainer.dom.binary, 360, CVUtils.imageRef(x, y));\n        }\n    }\n\n    /**\n     * Extracts and describes those patches which seem to contain a barcode pattern\n     * @param {Array} moments\n     * @param {Object} patchPos,\n     * @param {Number} x\n     * @param {Number} y\n     * @returns {Array} list of patches\n     */\n    function describePatch(moments, patchPos, x, y) {\n        var k,\n            avg,\n            sum = 0,\n            eligibleMoments = [],\n            matchingMoments,\n            patch,\n            patchesFound = [],\n            minComponentWeight = Math.ceil(_patchSize.x/3);\n\n        if (moments.length >= 2) {\n            // only collect moments which's area covers at least minComponentWeight pixels.\n            for ( k = 0; k < moments.length; k++) {\n                if (moments[k].m00 > minComponentWeight) {\n                    eligibleMoments.push(moments[k]);\n                }\n            }\n\n            // if at least 2 moments are found which have at least minComponentWeights covered\n            if (eligibleMoments.length >= 2) {\n                sum = eligibleMoments.length;\n                matchingMoments = similarMoments(eligibleMoments);\n                avg = 0;\n                // determine the similarity of the moments\n                for ( k = 0; k < matchingMoments.length; k++) {\n                    avg += matchingMoments[k].rad;\n                }\n\n                // Only two of the moments are allowed not to fit into the equation\n                // add the patch to the set\n                if (matchingMoments.length > 1 && matchingMoments.length >= (eligibleMoments.length / 4) * 3 && matchingMoments.length > moments.length / 4) {\n                    avg /= matchingMoments.length;\n                    patch = {\n                        index : patchPos[1] * _numPatches.x + patchPos[0],\n                        pos : {\n                            x : x,\n                            y : y\n                        },\n                        box : [vec2.create([x, y]), vec2.create([x + _subImageWrapper.size.x, y]), vec2.create([x + _subImageWrapper.size.x, y + _subImageWrapper.size.y]), vec2.create([x, y + _subImageWrapper.size.y])],\n                        moments : matchingMoments,\n                        rad : avg,\n                        vec : vec2.create([Math.cos(avg), Math.sin(avg)])\n                    };\n                    patchesFound.push(patch);\n                }\n            }\n        }\n        return patchesFound;\n    }\n\n    /**\n     * finds patches which are connected and share the same orientation\n     * @param {Object} patchesFound\n     */\n    function rasterizeAngularSimilarity(patchesFound) {\n        var label = 0,\n            threshold = 0.95,\n            currIdx = 0,\n            j,\n            patch,\n            hsv = [0, 1, 1],\n            rgb = [0, 0, 0];\n\n        function notYetProcessed() {\n            var i;\n            for ( i = 0; i < _patchLabelGrid.data.length; i++) {\n                if (_patchLabelGrid.data[i] === 0 && _patchGrid.data[i] === 1) {\n                    return i;\n                }\n            }\n            return _patchLabelGrid.length;\n        }\n\n        function trace(currentIdx) {\n            var x, y, currentPatch, patch, idx, dir, current = {\n                x : currentIdx % _patchLabelGrid.size.x,\n                y : (currentIdx / _patchLabelGrid.size.x) | 0\n            }, similarity;\n\n            if (currentIdx < _patchLabelGrid.data.length) {\n                currentPatch = _imageToPatchGrid.data[currentIdx];\n                // assign label\n                _patchLabelGrid.data[currentIdx] = label;\n                for ( dir = 0; dir < Tracer.searchDirections.length; dir++) {\n                    y = current.y + Tracer.searchDirections[dir][0];\n                    x = current.x + Tracer.searchDirections[dir][1];\n                    idx = y * _patchLabelGrid.size.x + x;\n\n                    // continue if patch empty\n                    if (_patchGrid.data[idx] === 0) {\n                        _patchLabelGrid.data[idx] = Number.MAX_VALUE;\n                        continue;\n                    }\n\n                    patch = _imageToPatchGrid.data[idx];\n                    if (_patchLabelGrid.data[idx] === 0) {\n                        similarity = Math.abs(vec2.dot(patch.vec, currentPatch.vec));\n                        if (similarity > threshold) {\n                            trace(idx);\n                        }\n                    }\n                }\n            }\n        }\n        \n        // prepare for finding the right patches\n        ArrayHelper.init(_patchGrid.data, 0);\n        ArrayHelper.init(_patchLabelGrid.data, 0);\n        ArrayHelper.init(_imageToPatchGrid.data, null);\n\n        for ( j = 0; j < patchesFound.length; j++) {\n            patch = patchesFound[j];\n            _imageToPatchGrid.data[patch.index] = patch;\n            _patchGrid.data[patch.index] = 1;\n        }\n\n        // rasterize the patches found to determine area\n        _patchGrid.zeroBorder();\n\n        while (( currIdx = notYetProcessed()) < _patchLabelGrid.data.length) {\n            label++;\n            trace(currIdx);\n        }\n        \n        // draw patch-labels if requested\n        if (_config.showPatchLabels) {\n            for ( j = 0; j < _patchLabelGrid.data.length; j++) {\n                if (_patchLabelGrid.data[j] > 0 && _patchLabelGrid.data[j] <= label) {\n                    patch = _imageToPatchGrid.data[j];\n                    hsv[0] = (_patchLabelGrid.data[j] / (label + 1)) * 360;\n                    CVUtils.hsv2rgb(hsv, rgb);\n                    ImageDebug.drawRect(patch.pos, _subImageWrapper.size, _canvasContainer.ctx.binary, {color: \"rgb(\" + rgb.join(\",\") + \")\", lineWidth: 2});\n                }\n            }\n        }\n        \n        return label;\n    }\n\n    return {\n        init : function(inputImageWrapper, config) {\n            _config = config;\n            _inputImageWrapper = inputImageWrapper;\n\n            initBuffers();\n            initCanvas();\n        },\n\n        locate : function() {\n            var patchesFound,\n            topLabels,\n            boxes;\n\n            if (_config.halfSample) {\n                CVUtils.halfSample(_inputImageWrapper, _currentImageWrapper);\n            }\n\n            binarizeImage();\n            patchesFound = findPatches();\n            // return unless 5% or more patches are found\n            if (patchesFound.length < _numPatches.x * _numPatches.y * 0.05) {\n                return null;\n            }\n\n            // rasterrize area by comparing angular similarity;\n            var maxLabel = rasterizeAngularSimilarity(patchesFound);\n            if (maxLabel < 1) {\n                return null;\n            }\n\n            // search for area with the most patches (biggest connected area)\n            topLabels = findBiggestConnectedAreas(maxLabel);\n            if (topLabels.length === 0) {\n                return null;\n            }\n\n            boxes = findBoxes(topLabels, maxLabel);\n            return boxes;\n        },\n\n        checkImageConstraints: function(inputStream, config) {\n            var patchSize,\n                width = inputStream.getWidth(),\n                height = inputStream.getHeight(),\n                halfSample = config.halfSample ? 0.5 : 1,\n                size,\n                area;\n\n            // calculate width and height based on area\n            if (inputStream.getConfig().area) {\n                area = CVUtils.computeImageArea(width, height, inputStream.getConfig().area);\n                inputStream.setTopRight({x: area.sx, y: area.sy});\n                inputStream.setCanvasSize({x: width, y: height});\n                width = area.sw;\n                height = area.sh;\n            }\n\n            size = {\n                x: Math.floor(width * halfSample),\n                y: Math.floor(height * halfSample)\n            };\n\n            patchSize = CVUtils.calculatePatchSize(config.patchSize, size);\n            console.log(\"Patch-Size: \" + JSON.stringify(patchSize));\n\n            inputStream.setWidth(Math.floor(Math.floor(size.x/patchSize.x)*(1/halfSample)*patchSize.x));\n            inputStream.setHeight(Math.floor(Math.floor(size.y/patchSize.y)*(1/halfSample)*patchSize.y));\n\n            if ((inputStream.getWidth() % patchSize.x) === 0 && (inputStream.getHeight() % patchSize.y) === 0) {\n                return true;\n            }\n\n            throw new Error(\"Image dimensions do not comply with the current settings: Width (\" +\n                width + \" )and height (\" + height +\n                \") must a multiple of \" + patchSize.x);\n        }\n    };\n});\n\n\n/* jshint undef: true, unused: true, browser:true, devel: true */\n/* global define */\n\ndefine('bresenham',[\"cv_utils\", \"image_wrapper\"], function(CVUtils, ImageWrapper) {\n    \"use strict\";\n    var Bresenham = {};\n\n    var Slope = {\n        DIR : {\n            UP : 1,\n            DOWN : -1\n        }\n    };\n    /**\n     * Scans a line of the given image from point p1 to p2 and returns a result object containing \n     * gray-scale values (0-255) of the underlying pixels in addition to the min\n     * and max values.\n     * @param {Object} imageWrapper\n     * @param {Object} p1 The start point {x,y}\n     * @param {Object} p2 The end point {x,y}\n     * @returns {line, min, max}\n     */\n    Bresenham.getBarcodeLine = function(imageWrapper, p1, p2) {\n        var x0 = p1.x | 0,\n            y0 = p1.y | 0,\n            x1 = p2.x | 0,\n            y1 = p2.y | 0,\n            steep = Math.abs(y1 - y0) > Math.abs(x1 - x0),\n            deltax,\n            deltay,\n            error,\n            ystep,\n            y,\n            tmp,\n            x,\n            line = [],\n            imageData = imageWrapper.data,\n            width = imageWrapper.size.x,\n            sum = 0,\n            val,\n            min = 255,\n            max = 0;\n\n        function read(a, b) {\n            val = imageData[b * width + a];\n            sum += val;\n            min = val < min ? val : min;\n            max = val > max ? val : max;\n            line.push(val);\n        }\n\n        if (steep) {\n            tmp = x0;\n            x0 = y0;\n            y0 = tmp;\n\n            tmp = x1;\n            x1 = y1;\n            y1 = tmp;\n        }\n        if (x0 > x1) {\n            tmp = x0;\n            x0 = x1;\n            x1 = tmp;\n\n            tmp = y0;\n            y0 = y1;\n            y1 = tmp;\n        }\n        deltax = x1 - x0;\n        deltay = Math.abs(y1 - y0);\n        error = (deltax / 2) | 0;\n        y = y0;\n        ystep = y0 < y1 ? 1 : -1;\n        for ( x = x0; x < x1; x++) {\n            if(steep){\n                read(y, x);\n            } else {\n                read(x, y);\n            }\n            error = error - deltay;\n            if (error < 0) {\n                y = y + ystep;\n                error = error + deltax;\n            }\n        }\n\n        return {\n            line : line,\n            min : min,\n            max : max\n        };\n    };\n\n    Bresenham.toOtsuBinaryLine = function(result) {\n        var line = result.line,\n            image = new ImageWrapper({x: line.length - 1, y: 1}, line),\n            threshold = CVUtils.determineOtsuThreshold(image, 5);\n\n        line = CVUtils.sharpenLine(line);\n        CVUtils.thresholdImage(image, threshold);\n\n        return {\n            line: line,\n            threshold: threshold\n        };\n    };\n    \n    /**\n     * Converts the result from getBarcodeLine into a binary representation \n     * also considering the frequency and slope of the signal for more robust results\n     * @param {Object} result {line, min, max}\n     */\n    Bresenham.toBinaryLine = function(result) {\n\n        var min = result.min,\n            max = result.max,\n            line = result.line,\n            slope,\n            slope2,\n            center = min + (max - min) / 2,\n            extrema = [],\n            currentDir,\n            dir,\n            threshold = (max - min) / 12,\n            rThreshold = -threshold,\n            i,\n            j;\n\n        // 1. find extrema\n        currentDir = line[0] > center ? Slope.DIR.UP : Slope.DIR.DOWN;\n        extrema.push({\n            pos : 0,\n            val : line[0]\n        });\n        for ( i = 0; i < line.length - 2; i++) {\n            slope = (line[i + 1] - line[i]);\n            slope2 = (line[i + 2] - line[i + 1]);\n            if ((slope + slope2) < rThreshold && line[i + 1] < (center*1.5)) {\n                dir = Slope.DIR.DOWN;\n            } else if ((slope + slope2) > threshold && line[i + 1] > (center*0.5)) {\n                dir = Slope.DIR.UP;\n            } else {\n                dir = currentDir;\n            }\n\n            if (currentDir !== dir) {\n                extrema.push({\n                    pos : i,\n                    val : line[i]\n                });\n                currentDir = dir;\n            }\n        }\n        extrema.push({\n            pos : line.length,\n            val : line[line.length - 1]\n        });\n\n        for ( j = extrema[0].pos; j < extrema[1].pos; j++) {\n            line[j] = line[j] > center ? 0 : 1;\n        }\n\n        // iterate over extrema and convert to binary based on avg between minmax\n        for ( i = 1; i < extrema.length - 1; i++) {\n            if (extrema[i + 1].val > extrema[i].val) {\n                threshold = (extrema[i].val + ((extrema[i + 1].val - extrema[i].val) / 3) * 2) | 0;\n            } else {\n                threshold = (extrema[i + 1].val + ((extrema[i].val - extrema[i + 1].val) / 3)) | 0;\n            }\n\n            for ( j = extrema[i].pos; j < extrema[i + 1].pos; j++) {\n                line[j] = line[j] > threshold ? 0 : 1;\n            }\n        }\n\n        return {\n            line : line,\n            threshold : threshold\n        };\n    };\n    \n    /**\n     * Used for development only \n     */\n    Bresenham.debug = {\n        printFrequency: function(line, canvas) {\n            var i,\n                ctx = canvas.getContext(\"2d\");\n            canvas.width = line.length;\n            canvas.height = 256;\n    \n            ctx.beginPath();\n            ctx.strokeStyle = \"blue\";\n            for ( i = 0; i < line.length; i++) {\n                ctx.moveTo(i, 255);\n                ctx.lineTo(i, 255 - line[i]);\n            }\n            ctx.stroke();\n            ctx.closePath();\n        },\n        \n        printPattern: function(line, canvas) {\n            var ctx = canvas.getContext(\"2d\"), i;\n    \n            canvas.width = line.length;\n            ctx.fillColor = \"black\";\n            for ( i = 0; i < line.length; i++) {\n                if (line[i] === 1) {\n                    ctx.fillRect(i, 0, 1, 100);\n                }\n            }\n        }\n    };\n\n    return (Bresenham);\n}); \n/* jshint undef: true, unused: true, browser:true, devel: true */\n/* global define */\n\ndefine(\n    'barcode_reader',[],function() {\n        \"use strict\";\n        \n        function BarcodeReader(config) {\n            this._row = [];\n            this.config = config || {};\n            return this;\n        }\n        \n        BarcodeReader.prototype._nextUnset = function(line, start) {\n            var i;\n            \n            if (start === undefined) {\n                start = 0;\n            }\n            for (i = start; i < line.length; i++) {\n                if (!line[i]) {\n                    return i;\n                }\n            }\n            return line.length;\n        };\n        \n        BarcodeReader.prototype._matchPattern = function(counter, code) {\n            var i,\n                error = 0,\n                singleError = 0,\n                modulo = this.MODULO,\n                maxSingleError = this.SINGLE_CODE_ERROR || 1;\n                \n            for (i = 0; i < counter.length; i++) {\n                singleError = Math.abs(code[i] - counter[i]);\n                if (singleError > maxSingleError) {\n                    return Number.MAX_VALUE;\n                }\n                error += singleError;\n            }\n            return error/modulo;\n        };\n\n        BarcodeReader.prototype._nextSet = function(line, offset) {\n            var i;\n\n            offset = offset || 0;\n            for (i = offset; i < line.length; i++) {\n                if (line[i]) {\n                    return i;\n                }\n            }\n            return line.length;\n        };\n\n        BarcodeReader.prototype._normalize = function(counter, modulo) {\n            var i,\n                self = this,\n                sum = 0,\n                ratio,\n                numOnes = 0,\n                normalized = [],\n                norm = 0;\n                \n            if (!modulo) {\n                modulo = self.MODULO;\n            }\n            for (i = 0; i < counter.length; i++) {\n                if (counter[i] === 1) {\n                    numOnes++;\n                } else {\n                    sum += counter[i];\n                }\n            }\n            ratio = sum / (modulo - numOnes);\n            if (ratio > 1.0) {\n                for (i = 0; i < counter.length; i++) {\n                    norm = counter[i] === 1 ? counter[i] : counter[i] / ratio;\n                    normalized.push(norm);\n                }\n            } else {\n                ratio = (sum + numOnes)/modulo;\n                for (i = 0; i < counter.length; i++) {\n                    norm = counter[i] / ratio;\n                    normalized.push(norm);\n                }\n            }\n            return normalized;\n        };\n\n        BarcodeReader.prototype._matchTrace = function(cmpCounter, epsilon) {\n            var counter = [],\n                i,\n                self = this,\n                offset = self._nextSet(self._row),\n                isWhite = !self._row[offset],\n                counterPos = 0,\n                bestMatch = {\n                    error : Number.MAX_VALUE,\n                    code : -1,\n                    start : 0\n                },\n                error;\n\n            if (cmpCounter) {\n                for ( i = 0; i < cmpCounter.length; i++) {\n                    counter.push(0);\n                }\n                for ( i = offset; i < self._row.length; i++) {\n                    if (self._row[i] ^ isWhite) {\n                        counter[counterPos]++;\n                    } else {\n                        if (counterPos === counter.length - 1) {\n                            error = self._matchPattern(counter, cmpCounter);\n\n                            if (error < epsilon) {\n                                bestMatch.start = i - offset;\n                                bestMatch.end = i;\n                                bestMatch.counter = counter;\n                                return bestMatch;\n                            } else {\n                                return null;\n                            }\n                        } else {\n                            counterPos++;\n                        }\n                        counter[counterPos] = 1;\n                        isWhite = !isWhite;\n                    }\n                }\n            } else {\n                counter.push(0);\n                for ( i = offset; i < self._row.length; i++) {\n                    if (self._row[i] ^ isWhite) {\n                        counter[counterPos]++;\n                    } else {\n                        counterPos++;\n                        counter.push(0);\n                        counter[counterPos] = 1;\n                        isWhite = !isWhite;\n                    }\n                }\n            }\n\n            // if cmpCounter was not given\n            bestMatch.start = offset;\n            bestMatch.end = self._row.length - 1;\n            bestMatch.counter = counter;\n            return bestMatch;\n        };\n        \n        BarcodeReader.prototype.decodePattern = function(pattern) {\n            var self = this,\n                result;\n            \n            self._row = pattern;\n            result = self._decode();\n            if (result === null) {\n                self._row.reverse();\n                result = self._decode();\n                if (result) {\n                    result.direction = BarcodeReader.DIRECTION.REVERSE;\n                    result.start = self._row.length - result.start;\n                    result.end = self._row.length - result.end;\n                }\n            } else {\n                result.direction = BarcodeReader.DIRECTION.FORWARD;\n            }\n            if (result) {\n                result.format = self.FORMAT;\n            }\n            return result;\n        };\n\n        BarcodeReader.prototype._matchRange = function(start, end, value) {\n            var i;\n\n            start = start < 0 ? 0 : start;\n            for (i = start; i < end; i++) {\n                if (this._row[i] !== value) {\n                    return false;\n                }\n            }\n            return true;\n        };\n\n        BarcodeReader.prototype._fillCounters = function(offset, end, isWhite) {\n            var self = this,\n                counterPos = 0,\n                i,\n                counters = [];\n\n            isWhite = (typeof isWhite !== 'undefined') ? isWhite : true;\n            offset = (typeof offset !== 'undefined') ? offset : self._nextUnset(self._row);\n            end = end || self._row.length;\n\n            counters[counterPos] = 0;\n            for (i = offset; i < end; i++) {\n                if (self._row[i] ^ isWhite) {\n                    counters[counterPos]++;\n                } else {\n                    counterPos++;\n                    counters[counterPos] = 1;\n                    isWhite = !isWhite;\n                }\n            }\n            return counters;\n        };\n\n        Object.defineProperty(BarcodeReader.prototype, \"FORMAT\", {\n            value: 'unknown',\n            writeable: false\n        });\n        \n        BarcodeReader.DIRECTION = {\n            FORWARD : 1,\n            REVERSE : -1\n        };\n        \n        BarcodeReader.Exception = {\n            StartNotFoundException : \"Start-Info was not found!\",\n            CodeNotFoundException : \"Code could not be found!\",\n            PatternNotFoundException : \"Pattern could not be found!\"\n        };\n\n        BarcodeReader.CONFIG_KEYS = {};\n        \n        return (BarcodeReader);\n    }\n);\n\n/* jshint undef: true, unused: true, browser:true, devel: true */\n/* global define */\n\ndefine(\n     'code_128_reader',[\n        \"./barcode_reader\"\n    ],\n    function(BarcodeReader) {\n        \"use strict\";\n        \n        function Code128Reader() {\n            BarcodeReader.call(this);\n        }\n        \n        var properties = {\n            CODE_SHIFT : {value: 98},\n            CODE_C : {value: 99},\n            CODE_B : {value: 100},\n            CODE_A : {value: 101},\n            START_CODE_A : {value: 103},\n            START_CODE_B : {value: 104},\n            START_CODE_C : {value: 105},\n            STOP_CODE : {value: 106},\n            MODULO : {value: 11},\n            CODE_PATTERN : {value: [\n                [2, 1, 2, 2, 2, 2],\n                [2, 2, 2, 1, 2, 2],\n                [2, 2, 2, 2, 2, 1],\n                [1, 2, 1, 2, 2, 3],\n                [1, 2, 1, 3, 2, 2],\n                [1, 3, 1, 2, 2, 2],\n                [1, 2, 2, 2, 1, 3],\n                [1, 2, 2, 3, 1, 2],\n                [1, 3, 2, 2, 1, 2],\n                [2, 2, 1, 2, 1, 3],\n                [2, 2, 1, 3, 1, 2],\n                [2, 3, 1, 2, 1, 2],\n                [1, 1, 2, 2, 3, 2],\n                [1, 2, 2, 1, 3, 2],\n                [1, 2, 2, 2, 3, 1],\n                [1, 1, 3, 2, 2, 2],\n                [1, 2, 3, 1, 2, 2],\n                [1, 2, 3, 2, 2, 1],\n                [2, 2, 3, 2, 1, 1],\n                [2, 2, 1, 1, 3, 2],\n                [2, 2, 1, 2, 3, 1],\n                [2, 1, 3, 2, 1, 2],\n                [2, 2, 3, 1, 1, 2],\n                [3, 1, 2, 1, 3, 1],\n                [3, 1, 1, 2, 2, 2],\n                [3, 2, 1, 1, 2, 2],\n                [3, 2, 1, 2, 2, 1],\n                [3, 1, 2, 2, 1, 2],\n                [3, 2, 2, 1, 1, 2],\n                [3, 2, 2, 2, 1, 1],\n                [2, 1, 2, 1, 2, 3],\n                [2, 1, 2, 3, 2, 1],\n                [2, 3, 2, 1, 2, 1],\n                [1, 1, 1, 3, 2, 3],\n                [1, 3, 1, 1, 2, 3],\n                [1, 3, 1, 3, 2, 1],\n                [1, 1, 2, 3, 1, 3],\n                [1, 3, 2, 1, 1, 3],\n                [1, 3, 2, 3, 1, 1],\n                [2, 1, 1, 3, 1, 3],\n                [2, 3, 1, 1, 1, 3],\n                [2, 3, 1, 3, 1, 1],\n                [1, 1, 2, 1, 3, 3],\n                [1, 1, 2, 3, 3, 1],\n                [1, 3, 2, 1, 3, 1],\n                [1, 1, 3, 1, 2, 3],\n                [1, 1, 3, 3, 2, 1],\n                [1, 3, 3, 1, 2, 1],\n                [3, 1, 3, 1, 2, 1],\n                [2, 1, 1, 3, 3, 1],\n                [2, 3, 1, 1, 3, 1],\n                [2, 1, 3, 1, 1, 3],\n                [2, 1, 3, 3, 1, 1],\n                [2, 1, 3, 1, 3, 1],\n                [3, 1, 1, 1, 2, 3],\n                [3, 1, 1, 3, 2, 1],\n                [3, 3, 1, 1, 2, 1],\n                [3, 1, 2, 1, 1, 3],\n                [3, 1, 2, 3, 1, 1],\n                [3, 3, 2, 1, 1, 1],\n                [3, 1, 4, 1, 1, 1],\n                [2, 2, 1, 4, 1, 1],\n                [4, 3, 1, 1, 1, 1],\n                [1, 1, 1, 2, 2, 4],\n                [1, 1, 1, 4, 2, 2],\n                [1, 2, 1, 1, 2, 4],\n                [1, 2, 1, 4, 2, 1],\n                [1, 4, 1, 1, 2, 2],\n                [1, 4, 1, 2, 2, 1],\n                [1, 1, 2, 2, 1, 4],\n                [1, 1, 2, 4, 1, 2],\n                [1, 2, 2, 1, 1, 4],\n                [1, 2, 2, 4, 1, 1],\n                [1, 4, 2, 1, 1, 2],\n                [1, 4, 2, 2, 1, 1],\n                [2, 4, 1, 2, 1, 1],\n                [2, 2, 1, 1, 1, 4],\n                [4, 1, 3, 1, 1, 1],\n                [2, 4, 1, 1, 1, 2],\n                [1, 3, 4, 1, 1, 1],\n                [1, 1, 1, 2, 4, 2],\n                [1, 2, 1, 1, 4, 2],\n                [1, 2, 1, 2, 4, 1],\n                [1, 1, 4, 2, 1, 2],\n                [1, 2, 4, 1, 1, 2],\n                [1, 2, 4, 2, 1, 1],\n                [4, 1, 1, 2, 1, 2],\n                [4, 2, 1, 1, 1, 2],\n                [4, 2, 1, 2, 1, 1],\n                [2, 1, 2, 1, 4, 1],\n                [2, 1, 4, 1, 2, 1],\n                [4, 1, 2, 1, 2, 1],\n                [1, 1, 1, 1, 4, 3],\n                [1, 1, 1, 3, 4, 1],\n                [1, 3, 1, 1, 4, 1],\n                [1, 1, 4, 1, 1, 3],\n                [1, 1, 4, 3, 1, 1],\n                [4, 1, 1, 1, 1, 3],\n                [4, 1, 1, 3, 1, 1],\n                [1, 1, 3, 1, 4, 1],\n                [1, 1, 4, 1, 3, 1],\n                [3, 1, 1, 1, 4, 1],\n                [4, 1, 1, 1, 3, 1],\n                [2, 1, 1, 4, 1, 2],\n                [2, 1, 1, 2, 1, 4],\n                [2, 1, 1, 2, 3, 2],\n                [2, 3, 3, 1, 1, 1, 2]\n            ]},\n            SINGLE_CODE_ERROR: {value: 1},\n            AVG_CODE_ERROR: {value: 0.5},\n            FORMAT: {value: \"code_128\", writeable: false}\n        };\n        \n        Code128Reader.prototype = Object.create(BarcodeReader.prototype, properties);\n        Code128Reader.prototype.constructor = Code128Reader;\n        \n        Code128Reader.prototype._decodeCode = function(start) {\n            var counter = [0, 0, 0, 0, 0, 0],\n                i,\n                self = this,\n                offset = start,\n                isWhite = !self._row[offset],\n                counterPos = 0,\n                bestMatch = {\n                    error : Number.MAX_VALUE,\n                    code : -1,\n                    start : start,\n                    end : start\n                },\n                code,\n                error,\n                normalized;\n\n            for ( i = offset; i < self._row.length; i++) {\n                if (self._row[i] ^ isWhite) {\n                    counter[counterPos]++;\n                } else {\n                    if (counterPos === counter.length - 1) {\n                        normalized = self._normalize(counter);\n                        if (normalized) {\n                            for (code = 0; code < self.CODE_PATTERN.length; code++) {\n                                error = self._matchPattern(normalized, self.CODE_PATTERN[code]);\n                                if (error < bestMatch.error) {\n                                    bestMatch.code = code;\n                                    bestMatch.error = error;\n                                }\n                            }\n                            bestMatch.end = i;\n                            return bestMatch;\n                        }\n                    } else {\n                        counterPos++;\n                    }\n                    counter[counterPos] = 1;\n                    isWhite = !isWhite;\n                }\n            }\n            return null;\n        };\n\n        Code128Reader.prototype._findStart = function() {\n            var counter = [0, 0, 0, 0, 0, 0],\n                i,\n                self = this,\n                offset = self._nextSet(self._row),\n                isWhite = false,\n                counterPos = 0,\n                bestMatch = {\n                    error : Number.MAX_VALUE,\n                    code : -1,\n                    start : 0,\n                    end : 0\n                },\n                code,\n                error,\n                j,\n                sum,\n                normalized;\n                \n            for ( i = offset; i < self._row.length; i++) {\n                if (self._row[i] ^ isWhite) {\n                    counter[counterPos]++;\n                } else {\n                    if (counterPos === counter.length - 1) {\n                        sum = 0;\n                        for ( j = 0; j < counter.length; j++) {\n                            sum += counter[j];\n                        }\n                        normalized = self._normalize(counter);\n                        if (normalized) {\n                            for (code = self.START_CODE_A; code <= self.START_CODE_C; code++) {\n                                error = self._matchPattern(normalized, self.CODE_PATTERN[code]);\n                                if (error < bestMatch.error) {\n                                    bestMatch.code = code;\n                                    bestMatch.error = error;\n                                }\n                            }\n                            if (bestMatch.error < self.AVG_CODE_ERROR) {\n                                bestMatch.start = i - sum;\n                                bestMatch.end = i;\n                                return bestMatch;\n                            }\n                        }\n\n                        for ( j = 0; j < 4; j++) {\n                            counter[j] = counter[j + 2];\n                        }\n                        counter[4] = 0;\n                        counter[5] = 0;\n                        counterPos--;\n                    } else {\n                        counterPos++;\n                    }\n                    counter[counterPos] = 1;\n                    isWhite = !isWhite;\n                }\n            }\n            return null;\n        };\n\n        Code128Reader.prototype._decode = function() {\n            var self = this,\n                startInfo = self._findStart(),\n                code = null,\n                done = false,\n                result = [],\n                multiplier = 0,\n                checksum = 0,\n                codeset,\n                rawResult = [],\n                decodedCodes = [],\n                shiftNext = false,\n                unshift,\n                lastCharacterWasPrintable;\n\n            if (startInfo === null) {\n                return null;\n            }\n            code = {\n                code : startInfo.code,\n                start : startInfo.start,\n                end : startInfo.end\n            };\n            decodedCodes.push(code);\n            checksum = code.code;\n            switch(code.code) {\n            case self.START_CODE_A:\n                codeset = self.CODE_A;\n                break;\n            case self.START_CODE_B:\n                codeset = self.CODE_B;\n                break;\n            case self.START_CODE_C:\n                codeset = self.CODE_C;\n                break;\n            default:\n                return null;\n            }\n\n            while (!done) {\n                unshift = shiftNext;\n                shiftNext = false;\n                code = self._decodeCode(code.end);\n                if (code !== null) {\n                    if (code.code !== self.STOP_CODE) {\n                        rawResult.push(code.code);\n                        multiplier++;\n                        checksum += multiplier * code.code;\n                    }\n                    decodedCodes.push(code);\n\n                    switch(codeset) {\n                    case self.CODE_A:\n                        if (code.code < 64) {\n                            result.push(String.fromCharCode(32 + code.code));\n                        } else if (code.code < 96) {\n                            result.push(String.fromCharCode(code.code - 64));\n                        } else {\n                            switch (code.code) {\n                            case self.CODE_SHIFT:\n                                shiftNext = true;\n                                codeset = self.CODE_B;\n                                break;\n                            case self.CODE_B:\n                                codeset = self.CODE_B;\n                                break;\n                            case self.CODE_C:\n                                codeset = self.CODE_C;\n                                break;\n                            case self.STOP_CODE:\n                                done = true;\n                                break;\n                            }\n                        }\n                        break;\n                    case self.CODE_B:\n                        if (code.code < 96) {\n                            result.push(String.fromCharCode(32 + code.code));\n                        } else {\n                            if (code.code != self.STOP_CODE) {\n                                lastCharacterWasPrintable = false;\n                            }\n                            switch (code.code) {\n                            case self.CODE_SHIFT:\n                                shiftNext = true;\n                                codeset = self.CODE_A;\n                                break;\n                            case self.CODE_A:\n                                codeset = self.CODE_A;\n                                break;\n                            case self.CODE_C:\n                                codeset = self.CODE_C;\n                                break;\n                            case self.STOP_CODE:\n                                done = true;\n                                break;\n                            }\n                        }\n                        break;\n                    case self.CODE_C:\n                        if (code.code < 100) {\n                            result.push(code.code < 10 ? \"0\" + code.code : code.code);\n                        }\n                        switch (code.code) {\n                        case self.CODE_A:\n                            codeset = self.CODE_A;\n                            break;\n                        case self.CODE_B:\n                            codeset = self.CODE_B;\n                            break;\n                        case self.STOP_CODE:\n                            done = true;\n                            break;\n                        }\n                        break;\n                    }\n                } else {\n                    done = true;\n                }\n                if (unshift) {\n                    codeset = codeset == self.CODE_A ? self.CODE_B : self.CODE_A;\n                }\n            }\n\n            if (code === null) {\n                return null;\n            }\n\n            // find end bar\n            code.end = self._nextUnset(self._row, code.end);\n            if(!self._verifyTrailingWhitespace(code)){\n                return null;\n            }\n\n            // checksum\n            // Does not work correctly yet!!! startcode - endcode?\n            checksum -= multiplier * rawResult[rawResult.length - 1];\n            if (checksum % 103 != rawResult[rawResult.length - 1]) {\n                return null;\n            }\n\n            if (!result.length) {\n                return null;\n            }\n\n            // remove last code from result (checksum)\n            result.splice(result.length - 1, 1);\n\n\n\n            return {\n                code : result.join(\"\"),\n                start : startInfo.start,\n                end : code.end,\n                codeset : codeset,\n                startInfo : startInfo,\n                decodedCodes : decodedCodes,\n                endInfo : code\n            };\n        };\n\n\n        BarcodeReader.prototype._verifyTrailingWhitespace = function(endInfo) {\n            var self = this,\n                trailingWhitespaceEnd;\n\n            trailingWhitespaceEnd = endInfo.end + ((endInfo.end - endInfo.start) / 2);\n            if (trailingWhitespaceEnd < self._row.length) {\n                if (self._matchRange(endInfo.end, trailingWhitespaceEnd, 0)) {\n                    return endInfo;\n                }\n            }\n            return null;\n        };\n        \n        return (Code128Reader);\n    }\n);\n/* jshint undef: true, unused: true, browser:true, devel: true */\n/* global define */\n\ndefine(\n     'ean_reader',[\n        \"./barcode_reader\"\n    ],\n    function(BarcodeReader) {\n        \"use strict\";\n        \n        function EANReader(opts) {\n            BarcodeReader.call(this, opts);\n        }\n        \n        var properties = {\n            CODE_L_START : {value: 0},\n            MODULO : {value: 7},\n            CODE_G_START : {value: 10},\n            START_PATTERN : {value: [1 / 3 * 7, 1 / 3 * 7, 1 / 3 * 7]},\n            STOP_PATTERN : {value: [1 / 3 * 7, 1 / 3 * 7, 1 / 3 * 7]},\n            MIDDLE_PATTERN : {value: [1 / 5 * 7, 1 / 5 * 7, 1 / 5 * 7, 1 / 5 * 7, 1 / 5 * 7]},\n            CODE_PATTERN : {value: [\n                [3, 2, 1, 1],\n                [2, 2, 2, 1],\n                [2, 1, 2, 2],\n                [1, 4, 1, 1],\n                [1, 1, 3, 2],\n                [1, 2, 3, 1],\n                [1, 1, 1, 4],\n                [1, 3, 1, 2],\n                [1, 2, 1, 3],\n                [3, 1, 1, 2],\n                [1, 1, 2, 3],\n                [1, 2, 2, 2],\n                [2, 2, 1, 2],\n                [1, 1, 4, 1],\n                [2, 3, 1, 1],\n                [1, 3, 2, 1],\n                [4, 1, 1, 1],\n                [2, 1, 3, 1],\n                [3, 1, 2, 1],\n                [2, 1, 1, 3]\n            ]},\n            CODE_FREQUENCY : {value: [0, 11, 13, 14, 19, 25, 28, 21, 22, 26]},\n            SINGLE_CODE_ERROR: {value: 0.67},\n            AVG_CODE_ERROR: {value: 0.27},\n            FORMAT: {value: \"ean_13\", writeable: false}\n        };\n        \n        EANReader.prototype = Object.create(BarcodeReader.prototype, properties);\n        EANReader.prototype.constructor = EANReader;\n        \n        EANReader.prototype._decodeCode = function(start, coderange) {\n            var counter = [0, 0, 0, 0],\n                i,\n                self = this,\n                offset = start,\n                isWhite = !self._row[offset],\n                counterPos = 0,\n                bestMatch = {\n                    error : Number.MAX_VALUE,\n                    code : -1,\n                    start : start,\n                    end : start\n                },\n                code,\n                error,\n                normalized;\n\n            if (!coderange) {\n                coderange = self.CODE_PATTERN.length;\n            }\n\n            for ( i = offset; i < self._row.length; i++) {\n                if (self._row[i] ^ isWhite) {\n                    counter[counterPos]++;\n                } else {\n                    if (counterPos === counter.length - 1) {\n                        normalized = self._normalize(counter);\n                        if (normalized) {\n                            for (code = 0; code < coderange; code++) {\n                                error = self._matchPattern(normalized, self.CODE_PATTERN[code]);\n                                if (error < bestMatch.error) {\n                                    bestMatch.code = code;\n                                    bestMatch.error = error;\n                                }\n                            }\n                            bestMatch.end = i;\n                            if (bestMatch.error > self.AVG_CODE_ERROR) {\n                                return null;\n                            }\n                            return bestMatch;\n                        }\n                    } else {\n                        counterPos++;\n                    }\n                    counter[counterPos] = 1;\n                    isWhite = !isWhite;\n                }\n            }\n            return null;\n        };\n\n        EANReader.prototype._findPattern = function(pattern, offset, isWhite, tryHarder, epsilon) {\n            var counter = [],\n                self = this,\n                i,\n                counterPos = 0,\n                bestMatch = {\n                    error : Number.MAX_VALUE,\n                    code : -1,\n                    start : 0,\n                    end : 0\n                },\n                error,\n                j,\n                sum,\n                normalized;\n\n            if (!offset) {\n                offset = self._nextSet(self._row);\n            }\n\n            if (isWhite === undefined) {\n                isWhite = false;\n            }\n\n            if (tryHarder === undefined) {\n                tryHarder = true;\n            }\n\n            if ( epsilon === undefined) {\n                epsilon = self.AVG_CODE_ERROR;\n            }\n\n            for ( i = 0; i < pattern.length; i++) {\n                counter[i] = 0;\n            }\n\n            for ( i = offset; i < self._row.length; i++) {\n                if (self._row[i] ^ isWhite) {\n                    counter[counterPos]++;\n                } else {\n                    if (counterPos === counter.length - 1) {\n                        sum = 0;\n                        for ( j = 0; j < counter.length; j++) {\n                            sum += counter[j];\n                        }\n                        normalized = self._normalize(counter);\n                        if (normalized) {\n                            error = self._matchPattern(normalized, pattern);\n\n                            if (error < epsilon) {\n                                bestMatch.error = error;\n                                bestMatch.start = i - sum;\n                                bestMatch.end = i;\n                                return bestMatch;\n                            }\n                        }\n                        if (tryHarder) {\n                            for ( j = 0; j < counter.length - 2; j++) {\n                                counter[j] = counter[j + 2];\n                            }\n                            counter[counter.length - 2] = 0;\n                            counter[counter.length - 1] = 0;\n                            counterPos--;\n                        } else {\n                            return null;\n                        }\n                    } else {\n                        counterPos++;\n                    }\n                    counter[counterPos] = 1;\n                    isWhite = !isWhite;\n                }\n            }\n            return null;\n        };\n\n        EANReader.prototype._findStart = function() {\n            var self = this,\n                leadingWhitespaceStart,\n                offset = self._nextSet(self._row),\n                startInfo;\n\n            while(!startInfo) {\n                startInfo = self._findPattern(self.START_PATTERN, offset);\n                if (!startInfo) {\n                    return null;\n                }\n                leadingWhitespaceStart = startInfo.start - (startInfo.end - startInfo.start);\n                if (leadingWhitespaceStart >= 0) {\n                    if (self._matchRange(leadingWhitespaceStart, startInfo.start, 0)) {\n                        return startInfo;\n                    }\n                }\n                offset = startInfo.end;\n                startInfo = null;\n            }\n        };\n\n        EANReader.prototype._verifyTrailingWhitespace = function(endInfo) {\n            var self = this,\n                trailingWhitespaceEnd;\n\n            trailingWhitespaceEnd = endInfo.end + (endInfo.end - endInfo.start);\n            if (trailingWhitespaceEnd < self._row.length) {\n                if (self._matchRange(endInfo.end, trailingWhitespaceEnd, 0)) {\n                    return endInfo;\n                }\n            }\n            return null;\n        };\n\n        EANReader.prototype._findEnd = function(offset, isWhite) {\n            var self = this,\n                endInfo = self._findPattern(self.STOP_PATTERN, offset, isWhite, false);\n\n            return endInfo !== null ? self._verifyTrailingWhitespace(endInfo) : null;\n        };\n\n        EANReader.prototype._calculateFirstDigit = function(codeFrequency) {\n            var i,\n                self = this;\n\n            for ( i = 0; i < self.CODE_FREQUENCY.length; i++) {\n                if (codeFrequency === self.CODE_FREQUENCY[i]) {\n                    return i;\n                }\n            }\n            return null;\n        };\n\n        EANReader.prototype._decodePayload = function(code, result, decodedCodes) {\n            var i,\n                self = this,\n                codeFrequency = 0x0,\n                firstDigit;\n\n            for ( i = 0; i < 6; i++) {\n                code = self._decodeCode(code.end);\n                if (!code) {\n                    return null;\n                }\n                if (code.code >= self.CODE_G_START) {\n                    code.code = code.code - self.CODE_G_START;\n                    codeFrequency |= 1 << (5 - i);\n                } else {\n                    codeFrequency |= 0 << (5 - i);\n                }\n                result.push(code.code);\n                decodedCodes.push(code);\n            }\n\n            firstDigit = self._calculateFirstDigit(codeFrequency);\n            if (firstDigit === null) {\n                return null;\n            }\n            result.unshift(firstDigit);\n\n            code = self._findPattern(self.MIDDLE_PATTERN, code.end, true, false);\n            if (code === null) {\n                return null;\n            }\n            decodedCodes.push(code);\n\n            for ( i = 0; i < 6; i++) {\n                code = self._decodeCode(code.end, self.CODE_G_START);\n                if (!code) {\n                    return null;\n                }\n                decodedCodes.push(code);\n                result.push(code.code);\n            }\n\n            return code;\n        };\n\n        EANReader.prototype._decode = function() {\n            var startInfo,\n                self = this,\n                code,\n                result = [],\n                decodedCodes = [];\n\n            startInfo = self._findStart();\n            if (!startInfo) {\n                return null;\n            }\n            code = {\n                code : startInfo.code,\n                start : startInfo.start,\n                end : startInfo.end\n            };\n            decodedCodes.push(code);\n            code = self._decodePayload(code, result, decodedCodes);\n            if (!code) {\n                return null;\n            }\n            code = self._findEnd(code.end, false);\n            if (!code){\n                return null;\n            }\n\n            decodedCodes.push(code);\n\n            // Checksum\n            if (!self._checksum(result)) {\n                return null;\n            }\n\n            return {\n                code : result.join(\"\"),\n                start : startInfo.start,\n                end : code.end,\n                codeset : \"\",\n                startInfo : startInfo,\n                decodedCodes : decodedCodes\n            };\n        };\n\n        EANReader.prototype._checksum = function(result) {\n            var sum = 0, i;\n\n            for ( i = result.length - 2; i >= 0; i -= 2) {\n                sum += result[i];\n            }\n            sum *= 3;\n            for ( i = result.length - 1; i >= 0; i -= 2) {\n                sum += result[i];\n            }\n            return sum % 10 === 0;\n        };\n        \n        return (EANReader);\n    }\n);\n/* jshint undef: true, unused: true, browser:true, devel: true */\n/* global define */\n\ndefine(\n    'code_39_reader',[\n        \"./barcode_reader\",\n        \"./array_helper\"\n    ],\n    function(BarcodeReader, ArrayHelper) {\n        \"use strict\";\n\n        function Code39Reader() {\n            BarcodeReader.call(this);\n        }\n\n        var properties = {\n            ALPHABETH_STRING: {value: \"0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ-. *$/+%\"},\n            ALPHABET: {value: [48, 49, 50, 51, 52, 53, 54, 55, 56, 57, 65, 66, 67, 68, 69, 70, 71, 72, 73, 74, 75, 76, 77, 78, 79, 80, 81, 82, 83, 84, 85, 86, 87, 88, 89, 90, 45, 46, 32, 42, 36, 47, 43, 37]},\n            CHARACTER_ENCODINGS: {value: [0x034, 0x121, 0x061, 0x160, 0x031, 0x130, 0x070, 0x025, 0x124, 0x064, 0x109, 0x049, 0x148, 0x019, 0x118, 0x058, 0x00D, 0x10C, 0x04C, 0x01C, 0x103, 0x043, 0x142, 0x013, 0x112, 0x052, 0x007, 0x106, 0x046, 0x016, 0x181, 0x0C1, 0x1C0, 0x091, 0x190, 0x0D0, 0x085, 0x184, 0x0C4, 0x094, 0x0A8, 0x0A2, 0x08A, 0x02A]},\n            ASTERISK: {value: 0x094},\n            FORMAT: {value: \"code_39\", writeable: false}\n        };\n\n        Code39Reader.prototype = Object.create(BarcodeReader.prototype, properties);\n        Code39Reader.prototype.constructor = Code39Reader;\n\n        Code39Reader.prototype._toCounters = function(start, counter) {\n            var self = this,\n                numCounters = counter.length,\n                end = self._row.length,\n                isWhite = !self._row[start],\n                i,\n                counterPos = 0;\n\n            ArrayHelper.init(counter, 0);\n\n            for ( i = start; i < end; i++) {\n                if (self._row[i] ^ isWhite) {\n                    counter[counterPos]++;\n                } else {\n                    counterPos++;\n                    if (counterPos === numCounters) {\n                        break;\n                    } else {\n                        counter[counterPos] = 1;\n                        isWhite = !isWhite;\n                    }\n                }\n            }\n\n            return counter;\n        };\n\n        Code39Reader.prototype._decode = function() {\n            var self = this,\n                counters = [0,0,0,0,0,0,0,0,0],\n                result = [],\n                start = self._findStart(),\n                decodedChar,\n                lastStart,\n                pattern,\n                nextStart;\n\n            if (!start) {\n                return null;\n            }\n            nextStart = self._nextSet(self._row, start.end);\n\n            do {\n                counters = self._toCounters(nextStart, counters);\n                pattern = self._toPattern(counters);\n                if (pattern < 0) {\n                    return null;\n                }\n                decodedChar = self._patternToChar(pattern);\n                if (decodedChar < 0){\n                    return null;\n                }\n                result.push(decodedChar);\n                lastStart = nextStart;\n                nextStart += ArrayHelper.sum(counters);\n                nextStart = self._nextSet(self._row, nextStart);\n            } while(decodedChar !== '*');\n            result.pop();\n\n            if (!result.length) {\n                return null;\n            }\n\n            if(!self._verifyTrailingWhitespace(lastStart, nextStart, counters)) {\n                return null;\n            }\n\n            return {\n                code : result.join(\"\"),\n                start : start.start,\n                end : nextStart,\n                startInfo : start,\n                decodedCodes : result\n            };\n        };\n\n        Code39Reader.prototype._verifyTrailingWhitespace = function(lastStart, nextStart, counters) {\n            var trailingWhitespaceEnd,\n                patternSize = ArrayHelper.sum(counters);\n\n            trailingWhitespaceEnd = nextStart - lastStart - patternSize;\n            if ((trailingWhitespaceEnd * 3) >= patternSize) {\n                return true;\n            }\n            return false;\n        };\n\n        Code39Reader.prototype._patternToChar = function(pattern) {\n            var i,\n                self = this;\n\n            for (i = 0; i < self.CHARACTER_ENCODINGS.length; i++) {\n                if (self.CHARACTER_ENCODINGS[i] === pattern) {\n                    return String.fromCharCode(self.ALPHABET[i]);\n                }\n            }\n        };\n\n        Code39Reader.prototype._findNextWidth = function(counters, current) {\n            var i,\n                minWidth = Number.MAX_VALUE;\n\n            for (i = 0; i < counters.length; i++) {\n                if (counters[i] < minWidth && counters[i] > current) {\n                    minWidth = counters[i];\n                }\n            }\n\n            return minWidth;\n        };\n\n        Code39Reader.prototype._toPattern = function(counters) {\n            var numCounters = counters.length,\n                maxNarrowWidth = 0,\n                numWideBars = numCounters,\n                wideBarWidth = 0,\n                self = this,\n                pattern,\n                i;\n\n            while(numWideBars > 3) {\n                maxNarrowWidth = self._findNextWidth(counters, maxNarrowWidth);\n                numWideBars = 0;\n                pattern = 0;\n                for (i = 0; i < numCounters; i++) {\n                    if (counters[i] > maxNarrowWidth) {\n                        pattern |= 1 << (numCounters - 1 - i);\n                        numWideBars++;\n                        wideBarWidth += counters[i];\n                    }\n                }\n\n                if (numWideBars === 3) {\n                    for (i = 0; i < numCounters && numWideBars > 0; i++) {\n                        if (counters[i] > maxNarrowWidth) {\n                            numWideBars--;\n                            if ((counters[i] * 2) >= wideBarWidth) {\n                                return -1;\n                            }\n                        }\n                    }\n                    return pattern;\n                }\n            }\n            return -1;\n        };\n\n        Code39Reader.prototype._findStart = function() {\n            var self = this,\n                offset = self._nextSet(self._row),\n                patternStart = offset,\n                counter = [0,0,0,0,0,0,0,0,0],\n                counterPos = 0,\n                isWhite = false,\n                i,\n                j,\n                whiteSpaceMustStart;\n\n            for ( i = offset; i < self._row.length; i++) {\n                if (self._row[i] ^ isWhite) {\n                    counter[counterPos]++;\n                } else {\n                    if (counterPos === counter.length - 1) {\n\n                        // find start pattern\n                        if (self._toPattern(counter) === self.ASTERISK) {\n                            whiteSpaceMustStart = Math.floor(Math.max(0, patternStart - ((i - patternStart) / 4)));\n                            if (self._matchRange(whiteSpaceMustStart, patternStart, 0)) {\n                                return {\n                                    start: patternStart,\n                                    end: i\n                                };\n                            }\n                        }\n\n                        patternStart += counter[0] + counter[1];\n                        for ( j = 0; j < 7; j++) {\n                            counter[j] = counter[j + 2];\n                        }\n                        counter[7] = 0;\n                        counter[8] = 0;\n                        counterPos--;\n                    } else {\n                        counterPos++;\n                    }\n                    counter[counterPos] = 1;\n                    isWhite = !isWhite;\n                }\n            }\n            return null;\n        };\n\n        return (Code39Reader);\n    }\n);\n/* jshint undef: true, unused: true, browser:true, devel: true */\n/* global define */\n\ndefine(\n    'code_39_vin_reader',[\n        \"./code_39_reader\"\n    ],\n    function(Code39Reader) {\n        \"use strict\";\n\n        function Code39VINReader() {\n            Code39Reader.call(this);\n        }\n\n        var patterns = {\n            IOQ: /[IOQ]/g,\n            AZ09: /[A-Z0-9]{17}/\n        };\n\n        Code39VINReader.prototype = Object.create(Code39Reader.prototype);\n        Code39VINReader.prototype.constructor = Code39VINReader;\n\n        // Cribbed from:\n        // https://github.com/zxing/zxing/blob/master/core/src/main/java/com/google/zxing/client/result/VINResultParser.java\n        Code39VINReader.prototype._decode = function() {\n            var result = Code39Reader.prototype._decode.apply(this);\n            if (!result) {\n                return null;\n            }\n\n            var code = result.code;\n\n            if (!code) {\n                return;\n            }\n\n            code = code.replace(patterns.IOQ, '');\n\n            if (!code.match(patterns.AZ09)) {\n                console.log('Failed AZ09 pattern code:', code);\n                return null;\n            }\n\n            if (!this._checkChecksum(code)) {\n                return null;\n            }\n\n            result.code = code;\n            return result;\n        };\n\n        Code39VINReader.prototype._checkChecksum = function(code) {\n            // TODO\n            return !!code;\n        };\n\n        return (Code39VINReader);\n    }\n);\n\n/* jshint undef: true, unused: true, browser:true, devel: true */\n/* global define */\n\ndefine(\n    'codabar_reader',[\n        \"./barcode_reader\"\n    ],\n    function(BarcodeReader) {\n        \"use strict\";\n\n        function CodabarReader() {\n            BarcodeReader.call(this);\n            this._counters = [];\n        }\n\n        var properties = {\n            ALPHABETH_STRING: {value: \"0123456789-$:/.+ABCD\"},\n            ALPHABET: {value: [48, 49, 50, 51, 52, 53, 54, 55, 56, 57, 45, 36, 58, 47, 46, 43, 65, 66, 67, 68]},\n            CHARACTER_ENCODINGS: {value: [0x003, 0x006, 0x009, 0x060, 0x012, 0x042, 0x021, 0x024, 0x030, 0x048, 0x00c, 0x018, 0x045, 0x051, 0x054, 0x015, 0x01A, 0x029, 0x00B, 0x00E]},\n            START_END: {value: [0x01A, 0x029, 0x00B, 0x00E]},\n            MIN_ENCODED_CHARS: {value: 4},\n            MAX_ACCEPTABLE: {value: 2.0},\n            PADDING: {value: 1.5},\n            FORMAT: {value: \"codabar\", writeable: false}\n        };\n\n        CodabarReader.prototype = Object.create(BarcodeReader.prototype, properties);\n        CodabarReader.prototype.constructor = CodabarReader;\n\n        CodabarReader.prototype._decode = function() {\n            var self = this,\n                result = [],\n                start,\n                decodedChar,\n                pattern,\n                nextStart,\n                end;\n\n            this._counters = self._fillCounters();\n            start = self._findStart();\n            if (!start) {\n                return null;\n            }\n            nextStart = start.startCounter;\n\n            do {\n                pattern = self._toPattern(nextStart);\n                if (pattern < 0) {\n                    return null;\n                }\n                decodedChar = self._patternToChar(pattern);\n                if (decodedChar < 0){\n                    return null;\n                }\n                result.push(decodedChar);\n                nextStart += 8;\n                if (result.length > 1 && self._isStartEnd(pattern)) {\n                    break;\n                }\n            } while(nextStart < self._counters.length);\n\n            // verify end\n            if ((result.length - 2) < self.MIN_ENCODED_CHARS || !self._isStartEnd(pattern)) {\n                return null;\n            }\n\n            // verify end white space\n            if (!self._verifyWhitespace(start.startCounter, nextStart - 8)){\n                return null;\n            }\n\n            if (!self._validateResult(result, start.startCounter)){\n                return null;\n            }\n\n            nextStart = nextStart > self._counters.length ? self._counters.length : nextStart;\n            end = start.start + self._sumCounters(start.startCounter, nextStart - 8);\n\n            return {\n                code : result.join(\"\"),\n                start : start.start,\n                end : end,\n                startInfo : start,\n                decodedCodes : result\n            };\n        };\n\n        CodabarReader.prototype._verifyWhitespace = function(startCounter, endCounter) {\n            if ((startCounter - 1 <= 0) || this._counters[startCounter-1] >= (this._calculatePatternLength(startCounter) / 2.0)) {\n                if ((endCounter + 8 >= this._counters.length) || this._counters[endCounter+7] >= (this._calculatePatternLength(endCounter) / 2.0)) {\n                    return true;\n                }\n            }\n            return false;\n        };\n\n        CodabarReader.prototype._calculatePatternLength = function(offset) {\n            var i,\n                sum = 0;\n\n            for (i = offset; i < offset + 7; i++) {\n                sum += this._counters[i];\n            }\n\n            return sum;\n        };\n\n        CodabarReader.prototype._thresholdResultPattern = function(result, startCounter){\n            var self = this,\n                categorization = {\n                    space: {\n                        narrow: { size: 0, counts: 0, min: 0, max: Number.MAX_VALUE},\n                        wide: {size: 0, counts: 0, min: 0, max: Number.MAX_VALUE}\n                    },\n                    bar: {\n                        narrow: { size: 0, counts: 0, min: 0, max: Number.MAX_VALUE},\n                        wide: { size: 0, counts: 0, min: 0, max: Number.MAX_VALUE}\n                    }\n                },\n                kind,\n                cat,\n                i,\n                j,\n                pos = startCounter,\n                pattern;\n\n            for (i = 0; i < result.length; i++){\n                pattern = self._charToPattern(result[i]);\n                for (j = 6; j >= 0; j--) {\n                    kind = (j & 1) === 2 ? categorization.bar : categorization.space;\n                    cat = (pattern & 1)  === 1 ? kind.wide : kind.narrow;\n                    cat.size += self._counters[pos + j];\n                    cat.counts++;\n                    pattern >>= 1;\n                }\n                pos += 8;\n            }\n\n            [\"space\", \"bar\"].forEach(function(key) {\n                var kind = categorization[key];\n                kind.wide.min = Math.floor((kind.narrow.size/kind.narrow.counts + kind.wide.size / kind.wide.counts) / 2);\n                kind.narrow.max = Math.ceil(kind.wide.min);\n                kind.wide.max = Math.ceil((kind.wide.size * self.MAX_ACCEPTABLE + self.PADDING) / kind.wide.counts);\n            });\n\n            return categorization;\n        };\n\n        CodabarReader.prototype._charToPattern = function(char) {\n            var self = this,\n                charCode = char.charCodeAt(0),\n                i;\n\n            for (i = 0; i < self.ALPHABET.length; i++) {\n                if (self.ALPHABET[i] === charCode){\n                    return self.CHARACTER_ENCODINGS[i];\n                }\n            }\n            return 0x0;\n        };\n\n        CodabarReader.prototype._validateResult = function(result, startCounter) {\n            var self = this,\n                thresholds = self._thresholdResultPattern(result, startCounter),\n                i,\n                j,\n                kind,\n                cat,\n                size,\n                pos = startCounter,\n                pattern;\n\n            for (i = 0; i < result.length; i++) {\n                pattern = self._charToPattern(result[i]);\n                for (j = 6; j >= 0; j--) {\n                    kind = (j & 1) === 0 ? thresholds.bar : thresholds.space;\n                    cat = (pattern & 1)  === 1 ? kind.wide : kind.narrow;\n                    size = self._counters[pos + j];\n                    if (size < cat.min || size > cat.max) {\n                        return false;\n                    }\n                    pattern >>= 1;\n                }\n                pos += 8;\n            }\n            return true;\n        };\n\n        CodabarReader.prototype._patternToChar = function(pattern) {\n            var i,\n                self = this;\n\n            for (i = 0; i < self.CHARACTER_ENCODINGS.length; i++) {\n                if (self.CHARACTER_ENCODINGS[i] === pattern) {\n                    return String.fromCharCode(self.ALPHABET[i]);\n                }\n            }\n            return -1;\n        };\n\n        CodabarReader.prototype._computeAlternatingThreshold = function(offset, end) {\n            var i,\n                min = Number.MAX_VALUE,\n                max = 0,\n                counter;\n\n            for (i = offset; i < end; i += 2){\n                counter = this._counters[i];\n                if (counter > max) {\n                    max = counter;\n                }\n                if (counter < min) {\n                    min = counter;\n                }\n            }\n\n            return ((min + max) / 2.0) | 0;\n        };\n\n        CodabarReader.prototype._toPattern = function(offset) {\n            var numCounters = 7,\n                end = offset + numCounters,\n                barThreshold,\n                spaceThreshold,\n                bitmask = 1 << (numCounters - 1),\n                pattern = 0,\n                i,\n                threshold;\n\n            if (end > this._counters.length) {\n                return -1;\n            }\n\n            barThreshold = this._computeAlternatingThreshold(offset, end);\n            spaceThreshold = this._computeAlternatingThreshold(offset + 1, end);\n\n            for (i = 0; i < numCounters; i++){\n                threshold = (i & 1) === 0 ? barThreshold : spaceThreshold;\n                if (this._counters[offset + i] > threshold) {\n                    pattern |= bitmask;\n                }\n                bitmask >>= 1;\n            }\n\n            return pattern;\n        };\n\n        CodabarReader.prototype._isStartEnd = function(pattern) {\n            var i;\n\n            for (i = 0; i < this.START_END.length; i++) {\n                if (this.START_END[i] === pattern) {\n                    return true;\n                }\n            }\n            return false;\n        };\n\n        CodabarReader.prototype._sumCounters = function(start, end) {\n            var i,\n                sum = 0;\n\n            for (i = start; i < end; i++) {\n                sum += this._counters[i];\n            }\n            return sum;\n        };\n\n        CodabarReader.prototype._findStart = function() {\n            var self = this,\n                i,\n                pattern,\n                start = self._nextUnset(self._row),\n                end;\n\n            for (i = 1; i < this._counters.length; i++) {\n                pattern = self._toPattern(i);\n                if (pattern !== -1 && self._isStartEnd(pattern)) {\n                    // TODO: Look for whitespace ahead\n                    start += self._sumCounters(0, i);\n                    end = start + self._sumCounters(i, i + 8);\n                    return {\n                        start: start,\n                        end: end,\n                        startCounter: i,\n                        endCounter: i + 8\n                    };\n                }\n            }\n        };\n\n        return (CodabarReader);\n    }\n);\n/* jshint undef: true, unused: true, browser:true, devel: true */\n/* global define */\n\ndefine(\n    'upc_reader',[\n        \"./ean_reader\"\n    ],\n    function(EANReader) {\n        \"use strict\";\n\n        function UPCReader() {\n            EANReader.call(this);\n        }\n\n        var properties = {\n            FORMAT: {value: \"upc_a\", writeable: false}\n        };\n\n        UPCReader.prototype = Object.create(EANReader.prototype, properties);\n        UPCReader.prototype.constructor = UPCReader;\n\n        UPCReader.prototype._decode = function() {\n            var result = EANReader.prototype._decode.call(this);\n\n            if (result && result.code && result.code.length === 13 && result.code.charAt(0) === \"0\") {\n\n                result.code = result.code.substring(1);\n                return result;\n            }\n            return null;\n        };\n\n        return (UPCReader);\n    }\n);\n/* jshint undef: true, unused: true, browser:true, devel: true */\n/* global define */\n\ndefine(\n    'ean_8_reader',[\n        \"./ean_reader\"\n    ],\n    function(EANReader) {\n        \"use strict\";\n\n        function EAN8Reader() {\n            EANReader.call(this);\n        }\n\n        var properties = {\n            FORMAT: {value: \"ean_8\", writeable: false}\n        };\n\n        EAN8Reader.prototype = Object.create(EANReader.prototype, properties);\n        EAN8Reader.prototype.constructor = EAN8Reader;\n\n        EAN8Reader.prototype._decodePayload = function(code, result, decodedCodes) {\n            var i,\n                self = this;\n\n            for ( i = 0; i < 4; i++) {\n                code = self._decodeCode(code.end, self.CODE_G_START);\n                if (!code) {\n                    return null;\n                }\n                result.push(code.code);\n                decodedCodes.push(code);\n            }\n\n            code = self._findPattern(self.MIDDLE_PATTERN, code.end, true, false);\n            if (code === null) {\n                return null;\n            }\n            decodedCodes.push(code);\n\n            for ( i = 0; i < 4; i++) {\n                code = self._decodeCode(code.end, self.CODE_G_START);\n                if (!code) {\n                    return null;\n                }\n                decodedCodes.push(code);\n                result.push(code.code);\n            }\n\n            return code;\n        };\n\n        return (EAN8Reader);\n    }\n);\n/* jshint undef: true, unused: true, browser:true, devel: true */\n/* global define */\n\ndefine(\n    'upc_e_reader',[\n        \"./ean_reader\"\n    ],\n    function(EANReader) {\n        \"use strict\";\n\n        function UPCEReader() {\n            EANReader.call(this);\n        }\n\n        var properties = {\n            CODE_FREQUENCY : {value: [\n                [ 56, 52, 50, 49, 44, 38, 35, 42, 41, 37 ],\n                [7, 11, 13, 14, 19, 25, 28, 21, 22, 26]]},\n            STOP_PATTERN: { value: [1 / 6 * 7, 1 / 6 * 7, 1 / 6 * 7, 1 / 6 * 7, 1 / 6 * 7, 1 / 6 * 7]},\n            FORMAT: {value: \"upc_e\", writeable: false}\n        };\n\n        UPCEReader.prototype = Object.create(EANReader.prototype, properties);\n        UPCEReader.prototype.constructor = UPCEReader;\n\n        UPCEReader.prototype._decodePayload = function(code, result, decodedCodes) {\n            var i,\n                self = this,\n                codeFrequency = 0x0;\n\n            for ( i = 0; i < 6; i++) {\n                code = self._decodeCode(code.end);\n                if (!code) {\n                    return null;\n                }\n                if (code.code >= self.CODE_G_START) {\n                    code.code = code.code - self.CODE_G_START;\n                    codeFrequency |= 1 << (5 - i);\n                }\n                result.push(code.code);\n                decodedCodes.push(code);\n            }\n            if (!self._determineParity(codeFrequency, result)) {\n                return null;\n            }\n\n            return code;\n        };\n\n        UPCEReader.prototype._determineParity = function(codeFrequency, result) {\n            var self =this,\n                i,\n                nrSystem;\n\n            for (nrSystem = 0; nrSystem < self.CODE_FREQUENCY.length; nrSystem++){\n                for ( i = 0; i < self.CODE_FREQUENCY[nrSystem].length; i++) {\n                    if (codeFrequency === self.CODE_FREQUENCY[nrSystem][i]) {\n                        result.unshift(nrSystem);\n                        result.push(i);\n                        return true;\n                    }\n                }\n            }\n            return false;\n        };\n\n        UPCEReader.prototype._convertToUPCA = function(result) {\n            var upca = [result[0]],\n                lastDigit = result[result.length - 2];\n\n            if (lastDigit <= 2) {\n                upca = upca.concat(result.slice(1, 3))\n                    .concat([lastDigit, 0, 0, 0, 0])\n                    .concat(result.slice(3, 6));\n            } else if (lastDigit === 3) {\n                upca = upca.concat(result.slice(1, 4))\n                    .concat([0 ,0, 0, 0, 0])\n                    .concat(result.slice(4,6));\n            } else if (lastDigit === 4) {\n                upca = upca.concat(result.slice(1, 5))\n                    .concat([0, 0, 0, 0, 0, result[5]]);\n            } else {\n                upca = upca.concat(result.slice(1, 6))\n                    .concat([0, 0, 0, 0, lastDigit]);\n            }\n\n            upca.push(result[result.length - 1]);\n            return upca;\n        };\n\n        UPCEReader.prototype._checksum = function(result) {\n            return EANReader.prototype._checksum.call(this, this._convertToUPCA(result));\n        };\n\n        UPCEReader.prototype._findEnd = function(offset, isWhite) {\n            isWhite = true;\n            return EANReader.prototype._findEnd.call(this, offset, isWhite);\n        };\n\n        UPCEReader.prototype._verifyTrailingWhitespace = function(endInfo) {\n            var self = this,\n                trailingWhitespaceEnd;\n\n            trailingWhitespaceEnd = endInfo.end + ((endInfo.end - endInfo.start)/2);\n            if (trailingWhitespaceEnd < self._row.length) {\n                if (self._matchRange(endInfo.end, trailingWhitespaceEnd, 0)) {\n                    return endInfo;\n                }\n            }\n        };\n\n        return (UPCEReader);\n    }\n);\n/* jshint undef: true, unused: true, browser:true, devel: true */\n/* global define */\n\ndefine('html_utils',[], function() {\n    \"use strict\";\n\n    function createNode(htmlStr) {\n        var temp = document.createElement('div');\n        \n        temp.innerHTML = htmlStr;\n        while (temp.firstChild) {\n            return temp.firstChild;\n        }\n    }\n\n    function mergeObjects(obj1, obj2) {\n        for (var p in obj2) {\n            try {\n                if (obj2[p].constructor == Object) {\n                    obj1[p] = mergeObjects(obj1[p], obj2[p]);\n                } else {\n                    obj1[p] = obj2[p];\n                }\n            } catch(e) {\n                obj1[p] = obj2[p];\n            }\n        }\n\n        return obj1;\n    }\n\n    return {\n        createNode : function(htmlStr) {\n            return createNode(htmlStr);\n        },\n        mergeObjects : function(obj1, obj2) {\n            return mergeObjects(obj1, obj2);\n        }\n    };\n}); \n/* jshint undef: true, unused: true, browser:true, devel: true */\n/* global define */\n\ndefine(\n    'i2of5_reader',[\n        \"./barcode_reader\",\n        \"./html_utils\"\n    ],\n    function(BarcodeReader, HTMLUtils) {\n        \"use strict\";\n\n        function I2of5Reader(opts) {\n            opts = HTMLUtils.mergeObjects(getDefaulConfig(), opts);\n            BarcodeReader.call(this, opts);\n            this.barSpaceRatio = [1, 1];\n            if (opts.normalizeBarSpaceWidth) {\n                this.SINGLE_CODE_ERROR = 0.38;\n                this.AVG_CODE_ERROR = 0.09;\n            }\n        }\n\n        function getDefaulConfig() {\n            var config = {};\n\n            Object.keys(I2of5Reader.CONFIG_KEYS).forEach(function(key) {\n                config[key] = I2of5Reader.CONFIG_KEYS[key]['default'];\n            });\n            return config;\n        }\n\n        var N = 1,\n            W = 3,\n            properties = {\n            MODULO : {value: 10},\n            START_PATTERN : {value: [N*2.5, N*2.5, N*2.5, N*2.5]},\n            STOP_PATTERN : {value: [N*2, N*2, W*2]},\n            CODE_PATTERN : {value: [\n                [N, N, W, W, N],\n                [W, N, N, N, W],\n                [N, W, N, N, W],\n                [W, W, N, N, N],\n                [N, N, W, N, W],\n                [W, N, W, N, N],\n                [N, W, W, N, N],\n                [N, N, N, W, W],\n                [W, N, N, W, N],\n                [N, W, N, W, N]\n            ]},\n            SINGLE_CODE_ERROR: {value: 0.78, writable: true},\n            AVG_CODE_ERROR: {value: 0.38, writable: true},\n            MAX_CORRECTION_FACTOR: {value: 5},\n            FORMAT: {value: \"i2of5\"}\n        };\n\n        I2of5Reader.prototype = Object.create(BarcodeReader.prototype, properties);\n        I2of5Reader.prototype.constructor = I2of5Reader;\n\n        I2of5Reader.prototype._matchPattern = function(counter, code) {\n            if (this.config.normalizeBarSpaceWidth) {\n                var i,\n                    counterSum = [0, 0],\n                    codeSum = [0, 0],\n                    correction = [0, 0],\n                    correctionRatio = this.MAX_CORRECTION_FACTOR,\n                    correctionRatioInverse = 1 / correctionRatio;\n\n                for (i = 0; i < counter.length; i++) {\n                    counterSum[i % 2] += counter[i];\n                    codeSum[i % 2] += code[i];\n                }\n                correction[0] = codeSum[0] / counterSum[0];\n                correction[1] = codeSum[1] / counterSum[1];\n\n                correction[0] = Math.max(Math.min(correction[0], correctionRatio), correctionRatioInverse);\n                correction[1] = Math.max(Math.min(correction[1], correctionRatio), correctionRatioInverse);\n                this.barSpaceRatio = correction;\n                for (i = 0; i < counter.length; i++) {\n                    counter[i] *= this.barSpaceRatio[i % 2];\n                }\n            }\n            return BarcodeReader.prototype._matchPattern.call(this, counter, code);\n        };\n\n        I2of5Reader.prototype._findPattern = function(pattern, offset, isWhite, tryHarder) {\n            var counter = [],\n                self = this,\n                i,\n                counterPos = 0,\n                bestMatch = {\n                    error : Number.MAX_VALUE,\n                    code : -1,\n                    start : 0,\n                    end : 0\n                },\n                error,\n                j,\n                sum,\n                normalized,\n                epsilon = self.AVG_CODE_ERROR;\n\n            isWhite = isWhite || false;\n            tryHarder = tryHarder || false;\n\n            if (!offset) {\n                offset = self._nextSet(self._row);\n            }\n\n            for ( i = 0; i < pattern.length; i++) {\n                counter[i] = 0;\n            }\n\n            for ( i = offset; i < self._row.length; i++) {\n                if (self._row[i] ^ isWhite) {\n                    counter[counterPos]++;\n                } else {\n                    if (counterPos === counter.length - 1) {\n                        sum = 0;\n                        for ( j = 0; j < counter.length; j++) {\n                            sum += counter[j];\n                        }\n                        normalized = self._normalize(counter);\n                        if (normalized) {\n                            error = self._matchPattern(normalized, pattern);\n\n                            if (error < epsilon) {\n                                bestMatch.error = error;\n                                bestMatch.start = i - sum;\n                                bestMatch.end = i;\n                                return bestMatch;\n                            }\n                        }\n                        if (tryHarder) {\n                            for (j = 0; j < counter.length - 2; j++) {\n                                counter[j] = counter[j + 2];\n                            }\n                            counter[counter.length - 2] = 0;\n                            counter[counter.length - 1] = 0;\n                            counterPos--;\n                        } else {\n                            return null;\n                        }\n                    } else {\n                        counterPos++;\n                    }\n                    counter[counterPos] = 1;\n                    isWhite = !isWhite;\n                }\n            }\n            return null;\n        };\n\n        I2of5Reader.prototype._findStart = function() {\n            var self = this,\n                leadingWhitespaceStart,\n                offset = self._nextSet(self._row),\n                startInfo,\n                narrowBarWidth = 1;\n\n            while(!startInfo) {\n                startInfo = self._findPattern(self.START_PATTERN, offset, false, true);\n                if (!startInfo) {\n                    return null;\n                }\n                narrowBarWidth = Math.floor((startInfo.end - startInfo.start) / 4);\n                leadingWhitespaceStart = startInfo.start - narrowBarWidth*10;\n                if (leadingWhitespaceStart >= 0) {\n                    if (self._matchRange(leadingWhitespaceStart, startInfo.start, 0)) {\n                        return startInfo;\n                    }\n                }\n                offset = startInfo.end;\n                startInfo = null;\n            }\n        };\n\n        I2of5Reader.prototype._verifyTrailingWhitespace = function(endInfo) {\n            var self = this,\n                trailingWhitespaceEnd;\n\n            trailingWhitespaceEnd = endInfo.end + ((endInfo.end - endInfo.start) / 2);\n            if (trailingWhitespaceEnd < self._row.length) {\n                if (self._matchRange(endInfo.end, trailingWhitespaceEnd, 0)) {\n                    return endInfo;\n                }\n            }\n            return null;\n        };\n\n        I2of5Reader.prototype._findEnd = function() {\n            var self = this,\n                endInfo,\n                tmp;\n\n            self._row.reverse();\n            endInfo = self._findPattern(self.STOP_PATTERN);\n            self._row.reverse();\n\n            if (endInfo === null) {\n                return null;\n            }\n\n            // reverse numbers\n            tmp = endInfo.start;\n            endInfo.start = self._row.length - endInfo.end;\n            endInfo.end = self._row.length - tmp;\n\n            return endInfo !== null ? self._verifyTrailingWhitespace(endInfo) : null;\n        };\n\n        I2of5Reader.prototype._decodePair = function(counterPair) {\n            var i,\n                code,\n                codes = [],\n                self = this;\n\n            for (i = 0; i < counterPair.length; i++) {\n                code = self._decodeCode(counterPair[i]);\n                if (!code) {\n                    return null;\n                }\n                codes.push(code);\n            }\n            return codes;\n        };\n\n        I2of5Reader.prototype._decodeCode = function(counter) {\n            var j,\n                self = this,\n                sum = 0,\n                normalized,\n                error,\n                epsilon = self.AVG_CODE_ERROR,\n                code,\n                bestMatch = {\n                    error : Number.MAX_VALUE,\n                    code : -1,\n                    start : 0,\n                    end : 0\n                };\n\n            for ( j = 0; j < counter.length; j++) {\n                sum += counter[j];\n            }\n            normalized = self._normalize(counter);\n            if (normalized) {\n                for (code = 0; code < self.CODE_PATTERN.length; code++) {\n                    error = self._matchPattern(normalized, self.CODE_PATTERN[code]);\n                    if (error < bestMatch.error) {\n                        bestMatch.code = code;\n                        bestMatch.error = error;\n                    }\n                }\n                if (bestMatch.error < epsilon) {\n                    return bestMatch;\n                }\n            }\n            return null;\n        };\n\n        I2of5Reader.prototype._decodePayload = function(counters, result, decodedCodes) {\n            var i,\n                self = this,\n                pos = 0,\n                counterLength = counters.length,\n                counterPair = [[0, 0, 0, 0, 0], [0, 0, 0, 0, 0]],\n                codes;\n\n            while (pos < counterLength) {\n                for (i = 0; i < 5; i++) {\n                    counterPair[0][i] = counters[pos]*this.barSpaceRatio[0];\n                    counterPair[1][i] = counters[pos + 1]*this.barSpaceRatio[1];\n                    pos += 2;\n                }\n                codes = self._decodePair(counterPair);\n                if (!codes) {\n                    return null;\n                }\n                for (i = 0; i < codes.length; i++) {\n                    result.push(codes[i].code + \"\");\n                    decodedCodes.push(codes[i]);\n                }\n            }\n            return codes;\n        };\n\n        I2of5Reader.prototype._verifyCounterLength = function(counters) {\n            return (counters.length % 10 === 0);\n        };\n\n        I2of5Reader.prototype._decode = function() {\n            var startInfo,\n                endInfo,\n                self = this,\n                code,\n                result = [],\n                decodedCodes = [],\n                counters;\n\n            startInfo = self._findStart();\n            if (!startInfo) {\n                return null;\n            }\n            decodedCodes.push(startInfo);\n\n            endInfo = self._findEnd();\n            if (!endInfo) {\n                return null;\n            }\n\n            counters = self._fillCounters(startInfo.end, endInfo.start, false);\n            if (!self._verifyCounterLength(counters)) {\n                return null;\n            }\n            code = self._decodePayload(counters, result, decodedCodes);\n            if (!code) {\n                return null;\n            }\n            if (result.length % 2 !== 0 ||\n                    result.length < 6) {\n                return null;\n            }\n\n            decodedCodes.push(endInfo);\n            return {\n                code : result.join(\"\"),\n                start : startInfo.start,\n                end : endInfo.end,\n                startInfo : startInfo,\n                decodedCodes : decodedCodes\n            };\n        };\n\n        I2of5Reader.CONFIG_KEYS = {\n            normalizeBarSpaceWidth: {\n                'type': 'boolean',\n                'default': false,\n                'description': 'If true, the reader tries to normalize the' +\n                'width-difference between bars and spaces'\n            }\n        };\n\n        return (I2of5Reader);\n    }\n);\n/* jshint undef: true, unused: true, browser:true, devel: true */\n/* global define */\n\ndefine('barcode_decoder',[\n    \"bresenham\",\n    \"image_debug\",\n    'code_128_reader',\n    'ean_reader',\n    'code_39_reader',\n    'code_39_vin_reader',\n    'codabar_reader',\n    'upc_reader',\n    'ean_8_reader',\n    'upc_e_reader',\n    'i2of5_reader'\n], function(\n    Bresenham,\n    ImageDebug,\n    Code128Reader,\n    EANReader,\n    Code39Reader,\n    Code39VINReader,\n    CodabarReader,\n    UPCReader,\n    EAN8Reader,\n    UPCEReader,\n    I2of5Reader) {\n    \"use strict\";\n\n    var readers = {\n        code_128_reader: Code128Reader,\n        ean_reader: EANReader,\n        ean_8_reader: EAN8Reader,\n        code_39_reader: Code39Reader,\n        code_39_vin_reader: Code39VINReader,\n        codabar_reader: CodabarReader,\n        upc_reader: UPCReader,\n        upc_e_reader: UPCEReader,\n        i2of5_reader: I2of5Reader\n    };\n    var BarcodeDecoder = {\n        create : function(config, inputImageWrapper) {\n            var _canvas = {\n                ctx : {\n                        frequency : null,\n                        pattern : null,\n                        overlay : null\n                    },\n                    dom : {\n                        frequency : null,\n                        pattern : null,\n                        overlay : null\n                    }\n                },\n                _barcodeReaders = [];\n\n            initCanvas();\n            initReaders();\n            initConfig();\n\n            function initCanvas() {\n                if (typeof document !== 'undefined') {\n                    var $debug = document.querySelector(\"#debug.detection\");\n                    _canvas.dom.frequency = document.querySelector(\"canvas.frequency\");\n                    if (!_canvas.dom.frequency) {\n                        _canvas.dom.frequency = document.createElement(\"canvas\");\n                        _canvas.dom.frequency.className = \"frequency\";\n                        if($debug) {\n                            $debug.appendChild(_canvas.dom.frequency);\n                        }\n                    }\n                    _canvas.ctx.frequency = _canvas.dom.frequency.getContext(\"2d\");\n\n                    _canvas.dom.pattern = document.querySelector(\"canvas.patternBuffer\");\n                    if (!_canvas.dom.pattern) {\n                        _canvas.dom.pattern = document.createElement(\"canvas\");\n                        _canvas.dom.pattern.className = \"patternBuffer\";\n                        if($debug) {\n                            $debug.appendChild(_canvas.dom.pattern);\n                        }\n                    }\n                    _canvas.ctx.pattern = _canvas.dom.pattern.getContext(\"2d\");\n\n                    _canvas.dom.overlay = document.querySelector(\"canvas.drawingBuffer\");\n                    if (_canvas.dom.overlay) {\n                        _canvas.ctx.overlay = _canvas.dom.overlay.getContext(\"2d\");\n                    }\n                }\n            }\n\n            function initReaders() {\n                config.readers.forEach(function(readerConfig) {\n                    var reader,\n                        config = {};\n\n                    if (typeof readerConfig === 'object') {\n                        reader = readerConfig.format;\n                        config = readerConfig.config;\n                    } else if (typeof readerConfig === 'string') {\n                        reader = readerConfig;\n                    }\n                    _barcodeReaders.push(new readers[reader](config));\n                });\n                console.log(\"Registered Readers: \" + _barcodeReaders\n                    .map(function(reader) {return JSON.stringify({format: reader.FORMAT, config: reader.config});})\n                    .join(', '));\n            }\n\n            function initConfig() {\n                if (typeof document !== 'undefined') {\n                    var i,\n                        vis = [{\n                            node : _canvas.dom.frequency,\n                            prop : config.showFrequency\n                        }, {\n                            node : _canvas.dom.pattern,\n                            prop : config.showPattern\n                        }];\n\n                    for (i = 0; i < vis.length; i++) {\n                        if (vis[i].prop === true) {\n                            vis[i].node.style.display = \"block\";\n                        } else {\n                            vis[i].node.style.display = \"none\";\n                        }\n                    }\n                }\n            }\n\n            /**\n             * extend the line on both ends\n             * @param {Array} line\n             * @param {Number} angle\n             */\n            function getExtendedLine(line, angle, ext) {\n                function extendLine(amount) {\n                    var extension = {\n                        y : amount * Math.sin(angle),\n                        x : amount * Math.cos(angle)\n                    };\n\n                    line[0].y -= extension.y;\n                    line[0].x -= extension.x;\n                    line[1].y += extension.y;\n                    line[1].x += extension.x;\n                }\n\n                // check if inside image\n                extendLine(ext);\n                while (ext > 1 && (!inputImageWrapper.inImageWithBorder(line[0], 0) || !inputImageWrapper.inImageWithBorder(line[1], 0))) {\n                    ext -= Math.ceil(ext/2);\n                    extendLine(-ext);\n                }\n                return line;\n            }\n\n            function getLine(box) {\n                return [{\n                    x : (box[1][0] - box[0][0]) / 2 + box[0][0],\n                    y : (box[1][1] - box[0][1]) / 2 + box[0][1]\n                }, {\n                    x : (box[3][0] - box[2][0]) / 2 + box[2][0],\n                    y : (box[3][1] - box[2][1]) / 2 + box[2][1]\n                }];\n            }\n\n            function tryDecode(line) {\n                var result = null,\n                    i,\n                    barcodeLine = Bresenham.getBarcodeLine(inputImageWrapper, line[0], line[1]);\n\n                if (config.showFrequency) {\n                    ImageDebug.drawPath(line, {x: 'x', y: 'y'}, _canvas.ctx.overlay, {color: 'red', lineWidth: 3});\n                    Bresenham.debug.printFrequency(barcodeLine.line, _canvas.dom.frequency);\n                }\n                Bresenham.toBinaryLine(barcodeLine);\n                if (config.showPattern) {\n                    Bresenham.debug.printPattern(barcodeLine.line, _canvas.dom.pattern);\n                }\n\n                for ( i = 0; i < _barcodeReaders.length && result === null; i++) {\n                    result = _barcodeReaders[i].decodePattern(barcodeLine.line);\n                }\n                if(result === null){\n                    return null;\n                }\n                return {\n                    codeResult: result,\n                    barcodeLine: barcodeLine\n                };\n\n            }\n\n            /**\n             * This method slices the given area apart and tries to detect a barcode-pattern\n             * for each slice. It returns the decoded barcode, or null if nothing was found\n             * @param {Array} box\n             * @param {Array} line\n             * @param {Number} lineAngle\n             */\n            function tryDecodeBruteForce(box, line, lineAngle) {\n                var sideLength = Math.sqrt(Math.pow(box[1][0] - box[0][0], 2) + Math.pow((box[1][1] - box[0][1]), 2)),\n                    i,\n                    slices = 16,\n                    result = null,\n                    dir,\n                    extension,\n                    xdir = Math.sin(lineAngle),\n                    ydir = Math.cos(lineAngle);\n\n                for ( i = 1; i < slices && result === null; i++) {\n                    // move line perpendicular to angle\n                    dir = sideLength / slices * i * (i % 2 === 0 ? -1 : 1);\n                    extension = {\n                        y : dir * xdir,\n                        x : dir * ydir\n                    };\n                    line[0].y += extension.x;\n                    line[0].x -= extension.y;\n                    line[1].y += extension.x;\n                    line[1].x -= extension.y;\n\n                    result = tryDecode(line);\n                }\n                return result;\n            }\n\n            function getLineLength(line) {\n                return Math.sqrt(\n                    Math.pow(Math.abs(line[1].y - line[0].y), 2) +\n                    Math.pow(Math.abs(line[1].x - line[0].x), 2));\n            }\n\n            /**\n             * With the help of the configured readers (Code128 or EAN) this function tries to detect a\n             * valid barcode pattern within the given area.\n             * @param {Object} box The area to search in\n             * @returns {Object} the result {codeResult, line, angle, pattern, threshold}\n             */\n            function decodeFromBoundingBox(box) {\n                var line,\n                    lineAngle,\n                    ctx = _canvas.ctx.overlay,\n                    result,\n                    lineLength;\n\n                if (config.drawBoundingBox && ctx) {\n                    ImageDebug.drawPath(box, {x: 0, y: 1}, ctx, {color: \"blue\", lineWidth: 2});\n                }\n\n                line = getLine(box);\n                lineLength = getLineLength(line);\n                lineAngle = Math.atan2(line[1].y - line[0].y, line[1].x - line[0].x);\n                line = getExtendedLine(line, lineAngle, Math.floor(lineLength*0.1));\n                if(line === null){\n                    return null;\n                }\n\n                result = tryDecode(line);\n                if(result === null) {\n                    result = tryDecodeBruteForce(box, line, lineAngle);\n                }\n\n                if(result === null) {\n                    return null;\n                }\n\n                if (result && config.drawScanline && ctx) {\n                    ImageDebug.drawPath(line, {x: 'x', y: 'y'}, ctx, {color: 'red', lineWidth: 3});\n                }\n\n                return {\n                    codeResult : result.codeResult,\n                    line : line,\n                    angle : lineAngle,\n                    pattern : result.barcodeLine.line,\n                    threshold : result.barcodeLine.threshold\n                };\n            }\n\n            return {\n                decodeFromBoundingBox : function(box) {\n                    return decodeFromBoundingBox(box);\n                },\n                decodeFromBoundingBoxes : function(boxes) {\n                    var i, result;\n                    for ( i = 0; i < boxes.length; i++) {\n                        result = decodeFromBoundingBox(boxes[i]);\n                        if (result && result.codeResult) {\n                            result.box = boxes[i];\n                            return result;\n                        }\n                    }\n                },\n                setReaders: function(readers) {\n                    config.readers = readers;\n                    _barcodeReaders.length = 0;\n                    initReaders();\n                }\n            };\n        }\n    };\n\n    return (BarcodeDecoder);\n});\n\n/* jshint undef: true, unused: true, browser:true, devel: true */\n/* global define */\n\ndefine('frame_grabber',[\"cv_utils\"], function(CVUtils) {\n    \"use strict\";\n\n    var FrameGrabber = {};\n\n    FrameGrabber.create = function(inputStream, canvas) {\n        var _that = {},\n            _streamConfig = inputStream.getConfig(),\n            _video_size = CVUtils.imageRef(inputStream.getRealWidth(), inputStream.getRealHeight()),\n            _canvasSize = inputStream.getCanvasSize(),\n            _size = CVUtils.imageRef(inputStream.getWidth(), inputStream.getHeight()),\n            topRight = inputStream.getTopRight(),\n            _sx = topRight.x,\n            _sy = topRight.y,\n            _canvas,\n            _ctx = null,\n            _data = null;\n\n        _canvas = canvas ? canvas : document.createElement(\"canvas\");\n        _canvas.width = _canvasSize.x;\n        _canvas.height = _canvasSize.y;\n        _ctx = _canvas.getContext(\"2d\");\n        _data = new Uint8Array(_size.x * _size.y);\n        console.log(\"FrameGrabber\", JSON.stringify({\n            size: _size,\n            topRight: topRight,\n            videoSize: _video_size,\n            canvasSize: _canvasSize\n        }));\n\n        /**\n         * Uses the given array as frame-buffer \n         */\n        _that.attachData = function(data) {\n            _data = data;\n        };\n\n        /**\n         * Returns the used frame-buffer\n         */\n        _that.getData = function() {\n            return _data;\n        };\n\n        /**\n         * Fetches a frame from the input-stream and puts into the frame-buffer.\n         * The image-data is converted to gray-scale and then half-sampled if configured.\n         */\n        _that.grab = function() {\n            var doHalfSample = _streamConfig.halfSample,\n                frame = inputStream.getFrame(),\n                ctxData;\n            if (frame) {\n                _ctx.drawImage(frame, 0, 0, _canvasSize.x, _canvasSize.y);\n                ctxData = _ctx.getImageData(_sx, _sy, _size.x, _size.y).data;\n                if(doHalfSample){\n                    CVUtils.grayAndHalfSampleFromCanvasData(ctxData, _size, _data);\n                } else {\n                    CVUtils.computeGray(ctxData, _data, _streamConfig);\n                }\n                return true;\n            } else {\n                return false;\n            }\n        };\n\n        _that.getSize = function() {\n            return _size;\n        };\n\n        return _that;\n    };\n\n    return (FrameGrabber);\n});\n\n/**\n * The basic configuration\n */\n\ndefine('config',[],function(){\n  var config = {\n      inputStream: { name: \"Live\",\n          type: \"LiveStream\",\n          constraints: {\n              width: 640,\n              height: 480,\n              minAspectRatio: 0,\n              maxAspectRatio: 100,\n              facing: \"environment\" // or user\n          },\n          area: {\n              top: \"0%\",\n              right: \"0%\",\n              left: \"0%\",\n              bottom: \"0%\"\n          },\n          singleChannel: false // true: only the red color-channel is read\n      },\n      tracking: false,\n      debug: false,\n      controls: false,\n      locate: true,\n      numOfWorkers: 4,\n      visual: {\n        show: true\n      },\n      decoder:{\n        drawBoundingBox: false,\n        showFrequency: false,\n        drawScanline: false,\n        showPattern: false,\n        readers: [\n          'code_128_reader'\n        ]\n      },\n      locator: {\n        halfSample: true,\n        patchSize: \"medium\", // x-small, small, medium, large, x-large\n        showCanvas: false,\n        showPatches: false,\n        showFoundPatches: false,\n        showSkeleton: false,\n        showLabels: false,\n        showPatchLabels: false,\n        showRemainingPatchLabels: false,\n        boxFromPatches: {\n          showTransformed: false,\n          showTransformedBox: false,\n          showBB: false\n        }\n      }\n   };\n\n   return config;\n});\n\n/* jshint undef: true, unused: true, browser:true, devel: true */\n/* global define */\n\ndefine('events',[],function() {\n    \"use strict\";\n\n    var _events = function() {\n        var events = {};\n\n        function getEvent(eventName) {\n            if (!events[eventName]) {\n                events[eventName] = {\n                    subscribers : []\n                };\n            }\n            return events[eventName];\n        }\n        \n        function clearEvents(){\n            events = {};\n        }\n\n        function publishSubscription(subscription, data) {\n            if (subscription.async) {\n                setTimeout(function() {\n                    subscription.callback(data);\n                }, 4);\n            } else {\n                subscription.callback(data);\n            }\n        }\n        \n        function subscribe(event, callback, async) {\n            var subscription;\n\n            if ( typeof callback === \"function\") {\n                subscription = {\n                    callback : callback,\n                    async : async\n                };\n            } else {\n                subscription = callback;\n                if (!subscription.callback) {\n                    throw \"Callback was not specified on options\";\n                }\n            }\n\n            getEvent(event).subscribers.push(subscription);\n        }\n\n        return {\n            subscribe : function(event, callback, async) {\n                return subscribe(event, callback, async);\n            },\n            publish : function(eventName, data) {\n                var event = getEvent(eventName),\n                    subscribers = event.subscribers;\n                    \n                event.subscribers = subscribers.filter(function(subscriber) {\n                    publishSubscription(subscriber, data);\n                    return !subscriber.once;\n                });\n            },\n            once: function(event, callback, async) {\n                subscribe(event, {\n                    callback: callback,\n                    async: async,\n                    once: true\n                });\n            },\n            unsubscribe: function(eventName, callback) {\n                var event;\n                \n                if (eventName) {\n                    event = getEvent(eventName);\n                    if (event && callback) {\n                        event.subscribers = event.subscribers.filter(function(subscriber){\n                            return subscriber.callback !== callback;\n                        });\n                    } else {\n                        event.subscribers = [];\n                    }\n                } else {\n                    clearEvents();\n                }\n            }\n        };\n    }();\n\n    return _events;\n}); \n/* jshint undef: true, unused: true, browser:true, devel: true */\n/* global define, MediaStreamTrack */\n\ndefine('camera_access',[\"html_utils\"], function(HtmlUtils) {\n    \"use strict\";\n    var streamRef,\n        loadedDataHandler;\n\n    /**\n     * Wraps browser-specific getUserMedia\n     * @param {Object} constraints\n     * @param {Object} success Callback\n     * @param {Object} failure Callback\n     */\n    function getUserMedia(constraints, success, failure) {\n        if (typeof navigator.getUserMedia !== 'undefined') {\n            navigator.getUserMedia(constraints, function (stream) {\n                streamRef = stream;\n                var videoSrc = (window.URL && window.URL.createObjectURL(stream)) || stream;\n                success.apply(null, [videoSrc]);\n            }, failure);\n        } else {\n            failure(new TypeError(\"getUserMedia not available\"));\n        }\n    }\n\n    function loadedData(video, callback) {\n        var attempts = 10;\n\n        function checkVideo() {\n            if (attempts > 0) {\n                if (video.videoWidth > 0 && video.videoHeight > 0) {\n                    console.log(video.videoWidth + \"px x \" + video.videoHeight + \"px\");\n                    callback();\n                } else {\n                    window.setTimeout(checkVideo, 500);\n                }\n            } else {\n                callback('Unable to play video stream. Is webcam working?');\n            }\n            attempts--;\n        }\n        checkVideo();\n    }\n\n    /**\n     * Tries to attach the camera-stream to a given video-element\n     * and calls the callback function when the content is ready\n     * @param {Object} constraints\n     * @param {Object} video\n     * @param {Object} callback\n     */\n    function initCamera(constraints, video, callback) {\n        getUserMedia(constraints, function(src) {\n            video.src = src;\n            if (loadedDataHandler) {\n                video.removeEventListener(\"loadeddata\", loadedDataHandler, false);\n            }\n            loadedDataHandler = loadedData.bind(null, video, callback);\n            video.addEventListener('loadeddata', loadedDataHandler, false);\n            video.play();\n        }, function(e) {\n            callback(e);\n        });\n    }\n\n    /**\n     * Normalizes the incoming constraints to satisfy the current browser\n     * @param config\n     * @param cb Callback which is called whenever constraints are created\n     * @returns {*}\n     */\n    function normalizeConstraints(config, cb) {\n        var constraints = {\n                audio: false,\n                video: true\n            },\n            videoConstraints = HtmlUtils.mergeObjects({\n                width: 640,\n                height: 480,\n                minAspectRatio: 0,\n                maxAspectRatio: 100,\n                facing: \"environment\"\n            }, config);\n\n        if ( typeof MediaStreamTrack !== 'undefined' && typeof MediaStreamTrack.getSources !== 'undefined') {\n            MediaStreamTrack.getSources(function(sourceInfos) {\n                var videoSourceId;\n                for (var i = 0; i != sourceInfos.length; ++i) {\n                    var sourceInfo = sourceInfos[i];\n                    if (sourceInfo.kind == \"video\" && sourceInfo.facing == videoConstraints.facing) {\n                        videoSourceId = sourceInfo.id;\n                    }\n                }\n                constraints.video = {\n                    mandatory: {\n                        minWidth: videoConstraints.width,\n                        minHeight: videoConstraints.height,\n                        minAspectRatio: videoConstraints.minAspectRatio,\n                        maxAspectRatio: videoConstraints.maxAspectRatio\n                    },\n                    optional: [{\n                        sourceId: videoSourceId\n                    }]\n                };\n                return cb(constraints);\n            });\n        } else {\n            constraints.video = {\n                mediaSource: \"camera\",\n                width: { min: videoConstraints.width, max: videoConstraints.width },\n                height: { min: videoConstraints.height, max: videoConstraints.height },\n                require: [\"width\", \"height\"]\n            };\n            return cb(constraints);\n        }\n    }\n\n    /**\n     * Requests the back-facing camera of the user. The callback is called\n     * whenever the stream is ready to be consumed, or if an error occures.\n     * @param {Object} video\n     * @param {Object} callback\n     */\n    function request(video, videoConstraints, callback) {\n        normalizeConstraints(videoConstraints, function(constraints) {\n            initCamera(constraints, video, callback);\n        });\n    }\n\n    return {\n        request : function(video, constraints, callback) {\n            request(video, constraints, callback);\n        },\n        release : function() {\n            var tracks = streamRef && streamRef.getVideoTracks();\n            if (tracks.length) {\n                tracks[0].stop();\n            }\n            streamRef = null;\n        }\n    };\n});\n\n/* jshint undef: true, unused: true, browser:true, devel: true */\n/* global define */\n\ndefine('result_collector',[\"image_debug\"], function(ImageDebug) {\n    \"use strict\";\n\n    function contains(codeResult, list) {\n        if (list) {\n            return list.some(function (item) {\n                return Object.keys(item).every(function (key) {\n                    return item[key] === codeResult[key];\n                });\n            });\n        }\n        return false;\n    }\n\n    function passesFilter(codeResult, filter) {\n        if (typeof filter === 'function') {\n            return filter(codeResult);\n        }\n        return true;\n    }\n\n    return {\n        create: function(config) {\n            var canvas = document.createElement(\"canvas\"),\n                ctx = canvas.getContext(\"2d\"),\n                results = [],\n                capacity = config.capacity || 20,\n                capture = config.capture === true;\n\n            function matchesConstraints(codeResult) {\n                return capacity && codeResult && !contains(codeResult, config.blacklist) && passesFilter(codeResult, config.filter);\n            }\n\n            return {\n                addResult: function(data, imageSize, codeResult) {\n                    var result = {};\n\n                    if (matchesConstraints(codeResult)) {\n                        capacity--;\n                        result.codeResult = codeResult;\n                        if (capture) {\n                            canvas.width = imageSize.x;\n                            canvas.height = imageSize.y;\n                            ImageDebug.drawImage(data, imageSize, ctx);\n                            result.frame = canvas.toDataURL();\n                        }\n                        results.push(result);\n                    }\n                },\n                getResults: function() {\n                    return results;\n                }\n            };\n        }\n    };\n});\n\n/* jshint undef: true, unused: true, browser:true, devel: true, evil: true */\n/* global define, vec2 */\n\n\ndefine('quagga',[\n        \"input_stream\",\n        \"image_wrapper\",\n        \"barcode_locator\",\n        \"barcode_decoder\",\n        \"frame_grabber\",\n        \"html_utils\",\n        \"config\",\n        \"events\",\n        \"camera_access\",\n        \"image_debug\",\n        \"result_collector\"],\nfunction(InputStream,\n         ImageWrapper,\n         BarcodeLocator,\n         BarcodeDecoder,\n         FrameGrabber,\n         HtmlUtils,\n         _config,\n         Events,\n         CameraAccess,\n         ImageDebug,\n         ResultCollector) {\n    \"use strict\";\n    \n    var _inputStream,\n        _framegrabber,\n        _stopped,\n        _canvasContainer = {\n            ctx : {\n                image : null,\n                overlay : null\n            },\n            dom : {\n                image : null,\n                overlay : null\n            }\n        },\n        _inputImageWrapper,\n        _boxSize,\n        _decoder,\n        _workerPool = [],\n        _onUIThread = true,\n        _resultCollector;\n\n    function initializeData(imageWrapper) {\n        initBuffers(imageWrapper);\n        _decoder = BarcodeDecoder.create(_config.decoder, _inputImageWrapper);\n    }\n\n    function initConfig() {\n        if (typeof document !== \"undefined\") {\n            var vis = [{\n                node: document.querySelector(\"div[data-controls]\"),\n                prop: _config.controls\n            }, {\n                node: _canvasContainer.dom.overlay,\n                prop: _config.visual.show\n            }];\n\n            for (var i = 0; i < vis.length; i++) {\n                if (vis[i].node) {\n                    if (vis[i].prop === true) {\n                        vis[i].node.style.display = \"block\";\n                    } else {\n                        vis[i].node.style.display = \"none\";\n                    }\n                }\n            }\n        }\n    }\n\n    function initInputStream(cb) {\n        var video;\n        if (_config.inputStream.type == \"VideoStream\") {\n            video = document.createElement(\"video\");\n            _inputStream = InputStream.createVideoStream(video);\n        } else if (_config.inputStream.type == \"ImageStream\") {\n            _inputStream = InputStream.createImageStream();\n        } else if (_config.inputStream.type == \"LiveStream\") {\n            var $viewport = document.querySelector(\"#interactive.viewport\");\n            if ($viewport) {\n                video = $viewport.querySelector(\"video\");\n                if (!video) {\n                    video = document.createElement(\"video\");\n                    $viewport.appendChild(video);\n                }\n            }\n            _inputStream = InputStream.createLiveStream(video);\n            CameraAccess.request(video, _config.inputStream.constraints, function(err) {\n                if (!err) {\n                    _inputStream.trigger(\"canrecord\");\n                } else {\n                    return cb(err);\n                }\n            });\n        }\n\n        _inputStream.setAttribute(\"preload\", \"auto\");\n        _inputStream.setAttribute(\"autoplay\", true);\n        _inputStream.setInputStream(_config.inputStream);\n        _inputStream.addEventListener(\"canrecord\", canRecord.bind(undefined, cb));\n    }\n\n    function canRecord(cb) {\n        BarcodeLocator.checkImageConstraints(_inputStream, _config.locator);\n        initCanvas();\n        _framegrabber = FrameGrabber.create(_inputStream, _canvasContainer.dom.image);\n        initConfig();\n\n        if (_config.numOfWorkers > 0) {\n            initWorkers(function() {\n                console.log(\"Workers created\");\n                ready(cb);\n            });\n        } else {\n            initializeData();\n            ready(cb);\n        }\n    }\n\n    function ready(cb){\n        _inputStream.play();\n        cb();\n    }\n\n    function initCanvas() {\n        if (typeof document !== \"undefined\") {\n            var $viewport = document.querySelector(\"#interactive.viewport\");\n            _canvasContainer.dom.image = document.querySelector(\"canvas.imgBuffer\");\n            if (!_canvasContainer.dom.image) {\n                _canvasContainer.dom.image = document.createElement(\"canvas\");\n                _canvasContainer.dom.image.className = \"imgBuffer\";\n                if ($viewport && _config.inputStream.type == \"ImageStream\") {\n                    $viewport.appendChild(_canvasContainer.dom.image);\n                }\n            }\n            _canvasContainer.ctx.image = _canvasContainer.dom.image.getContext(\"2d\");\n            _canvasContainer.dom.image.width = _inputStream.getCanvasSize().x;\n            _canvasContainer.dom.image.height = _inputStream.getCanvasSize().y;\n\n            _canvasContainer.dom.overlay = document.querySelector(\"canvas.drawingBuffer\");\n            if (!_canvasContainer.dom.overlay) {\n                _canvasContainer.dom.overlay = document.createElement(\"canvas\");\n                _canvasContainer.dom.overlay.className = \"drawingBuffer\";\n                if ($viewport) {\n                    $viewport.appendChild(_canvasContainer.dom.overlay);\n                }\n                var clearFix = document.createElement(\"br\");\n                clearFix.setAttribute(\"clear\", \"all\");\n                if ($viewport) {\n                    $viewport.appendChild(clearFix);\n                }\n            }\n            _canvasContainer.ctx.overlay = _canvasContainer.dom.overlay.getContext(\"2d\");\n            _canvasContainer.dom.overlay.width = _inputStream.getCanvasSize().x;\n            _canvasContainer.dom.overlay.height = _inputStream.getCanvasSize().y;\n        }\n    }\n\n    function initBuffers(imageWrapper) {\n        if (imageWrapper) {\n            _inputImageWrapper = imageWrapper;\n        } else {\n            _inputImageWrapper = new ImageWrapper({\n                x : _inputStream.getWidth(),\n                y : _inputStream.getHeight()\n            });\n        }\n\n        console.log(_inputImageWrapper.size);\n        _boxSize = [\n                vec2.create([0, 0]),\n                vec2.create([0, _inputImageWrapper.size.y]),\n                vec2.create([_inputImageWrapper.size.x, _inputImageWrapper.size.y]),\n                vec2.create([_inputImageWrapper.size.x, 0])\n            ];\n        BarcodeLocator.init(_inputImageWrapper, _config.locator);\n    }\n\n    function getBoundingBoxes() {\n        if (_config.locate) {\n            return BarcodeLocator.locate();\n        } else {\n            return [[\n                vec2.create(_boxSize[0]),\n                vec2.create(_boxSize[1]),\n                vec2.create(_boxSize[2]),\n                vec2.create(_boxSize[3])]];\n        }\n    }\n\n    function transformResult(result) {\n        var topRight = _inputStream.getTopRight(),\n            xOffset = topRight.x,\n            yOffset = topRight.y,\n            i;\n\n        if (!result || (xOffset === 0 && yOffset === 0)) {\n            return;\n        }\n\n\n        if (result.line && result.line.length === 2) {\n            moveLine(result.line);\n        }\n        if (result.boxes && result.boxes.length > 0) {\n            for (i = 0; i < result.boxes.length; i++) {\n                moveBox(result.boxes[i]);\n            }\n        }\n\n        function moveBox(box) {\n            var corner = box.length;\n\n            while(corner--) {\n                box[corner][0] += xOffset;\n                box[corner][1] += yOffset;\n            }\n        }\n\n        function moveLine(line) {\n            line[0].x += xOffset;\n            line[0].y += yOffset;\n            line[1].x += xOffset;\n            line[1].y += yOffset;\n        }\n    }\n\n    function publishResult(result, imageData) {\n        if (_onUIThread) {\n            transformResult(result);\n            if (imageData && result && result.codeResult) {\n                if (_resultCollector) {\n                    _resultCollector.addResult(imageData, _inputStream.getCanvasSize(), result.codeResult);\n                }\n            }\n        }\n\n        Events.publish(\"processed\", result);\n        if (result && result.codeResult) {\n            Events.publish(\"detected\", result);\n        }\n    }\n\n    function locateAndDecode() {\n        var result,\n            boxes;\n\n        boxes = getBoundingBoxes();\n        if (boxes) {\n            result = _decoder.decodeFromBoundingBoxes(boxes);\n            result = result || {};\n            result.boxes = boxes;\n            publishResult(result, _inputImageWrapper.data);\n        } else {\n            publishResult();\n        }\n    }\n\n    function update() {\n        var availableWorker;\n\n        if (_onUIThread) {\n            if (_workerPool.length > 0) {\n                availableWorker = _workerPool.filter(function(workerThread) {\n                    return !workerThread.busy;\n                })[0];\n                if (availableWorker) {\n                    _framegrabber.attachData(availableWorker.imageData);\n                } else {\n                    return; // all workers are busy\n                }\n            } else {\n                _framegrabber.attachData(_inputImageWrapper.data);\n            }\n            if (_framegrabber.grab()) {\n                if (availableWorker) {\n                    availableWorker.busy = true;\n                    availableWorker.worker.postMessage({\n                        cmd: 'process',\n                        imageData: availableWorker.imageData\n                    }, [availableWorker.imageData.buffer]);\n                } else {\n                    locateAndDecode();\n                }\n            }\n        } else {\n            locateAndDecode();\n        }\n    }\n\n    function start() {\n        _stopped = false;\n        ( function frame() {\n            if (!_stopped) {\n                update();\n                if (_onUIThread && _config.inputStream.type == \"LiveStream\") {\n                    window.requestAnimFrame(frame);\n                }\n            }\n        }());\n    }\n\n    function initWorkers(cb) {\n        var i;\n        _workerPool = [];\n\n        for (i = 0; i < _config.numOfWorkers; i++) {\n            initWorker(workerInitialized);\n        }\n\n        function workerInitialized(workerThread) {\n            _workerPool.push(workerThread);\n            if (_workerPool.length >= _config.numOfWorkers){\n                cb();\n            }\n        }\n    }\n\n    function initWorker(cb) {\n        var blobURL,\n            workerThread = {\n                worker: undefined,\n                imageData: new Uint8Array(_inputStream.getWidth() * _inputStream.getHeight()),\n                busy: true\n            };\n\n        blobURL = generateWorkerBlob();\n        workerThread.worker = new Worker(blobURL);\n\n        workerThread.worker.onmessage = function(e) {\n            if (e.data.event === 'initialized') {\n                URL.revokeObjectURL(blobURL);\n                workerThread.busy = false;\n                workerThread.imageData = new Uint8Array(e.data.imageData);\n                console.log(\"Worker initialized\");\n                return cb(workerThread);\n            } else if (e.data.event === 'processed') {\n                workerThread.imageData = new Uint8Array(e.data.imageData);\n                workerThread.busy = false;\n                publishResult(e.data.result, workerThread.imageData);\n            } else if (e.data.event === 'error') {\n                console.log(\"Worker error: \" + e.data.message);\n            }\n        };\n\n        workerThread.worker.postMessage({\n            cmd: 'init',\n            size: {x: _inputStream.getWidth(), y: _inputStream.getHeight()},\n            imageData: workerThread.imageData,\n            config: _config\n        }, [workerThread.imageData.buffer]);\n    }\n\n\n    function workerInterface(factory) {\n        if (factory) {\n            /* jshint ignore:start */\n            var Quagga = factory();\n            if (!Quagga) {\n                self.postMessage({'event': 'error', message: 'Quagga could not be created'});\n                return;\n            }\n            /* jshint ignore:end */\n        }\n        /* jshint ignore:start */\n        var imageWrapper;\n\n        self.onmessage = function(e) {\n            if (e.data.cmd === 'init') {\n                var config = e.data.config;\n                config.numOfWorkers = 0;\n                imageWrapper = new Quagga.ImageWrapper({\n                    x : e.data.size.x,\n                    y : e.data.size.y\n                }, new Uint8Array(e.data.imageData));\n                Quagga.init(config, ready, imageWrapper);\n                Quagga.onProcessed(onProcessed);\n            } else if (e.data.cmd === 'process') {\n                imageWrapper.data = new Uint8Array(e.data.imageData);\n                Quagga.start();\n            } else if (e.data.cmd === 'setReaders') {\n                Quagga.setReaders(e.data.readers);\n            }\n        };\n\n        function onProcessed(result) {\n            self.postMessage({'event': 'processed', imageData: imageWrapper.data, result: result}, [imageWrapper.data.buffer]);\n        }\n\n        function ready() {\n            self.postMessage({'event': 'initialized', imageData: imageWrapper.data}, [imageWrapper.data.buffer]);\n        }\n        /* jshint ignore:end */\n    }\n\n    function generateWorkerBlob() {\n        var blob,\n            factorySource;\n\n        /* jshint ignore:start */\n        if (typeof __factorySource__ !== 'undefined') {\n            factorySource = __factorySource__;\n        }\n        /* jshint ignore:end */\n\n        blob = new Blob(['(' + workerInterface.toString() + ')(' + factorySource + ');'],\n            {type : 'text/javascript'});\n\n        return window.URL.createObjectURL(blob);\n    }\n\n    function setReaders(readers) {\n        if (_decoder) {\n            _decoder.setReaders(readers);\n        } else if (_onUIThread && _workerPool.length > 0) {\n            _workerPool.forEach(function(workerThread) {\n                workerThread.worker.postMessage({cmd: 'setReaders', readers: readers});\n            });\n        }\n    }\n\n    return {\n        init : function(config, cb, imageWrapper) {\n            _config = HtmlUtils.mergeObjects(_config, config);\n            if (imageWrapper) {\n                _onUIThread = false;\n                initializeData(imageWrapper);\n                return cb();\n            } else {\n                initInputStream(cb);\n            }\n        },\n        start : function() {\n            start();\n        },\n        stop : function() {\n            _stopped = true;\n            _workerPool.forEach(function(workerThread) {\n                workerThread.worker.terminate();\n                console.log(\"Worker terminated!\");\n            });\n            _workerPool.length = 0;\n            if (_config.inputStream.type === \"LiveStream\") {\n                CameraAccess.release();\n                _inputStream.clearEventHandlers();\n            }\n        },\n        pause: function() {\n            _stopped = true;\n        },\n        onDetected : function(callback) {\n            Events.subscribe(\"detected\", callback);\n        },\n        offDetected: function(callback) {\n            Events.unsubscribe(\"detected\", callback);\n        },\n        onProcessed: function(callback) {\n            Events.subscribe(\"processed\", callback);\n        },\n        offProcessed: function(callback) {\n            Events.unsubscribe(\"processed\", callback);\n        },\n        setReaders: function(readers) {\n            setReaders(readers);\n        },\n        registerResultCollector: function(resultCollector) {\n            if (resultCollector && typeof resultCollector.addResult === 'function') {\n                _resultCollector = resultCollector;\n            }\n        },\n        canvas : _canvasContainer,\n        decodeSingle : function(config, resultCallback) {\n            config = HtmlUtils.mergeObjects({\n                inputStream: {\n                    type : \"ImageStream\",\n                    sequence : false,\n                    size: 800,\n                    src: config.src\n                },\n                numOfWorkers: 1,\n                locator: {\n                    halfSample: false\n                }\n            }, config);\n            this.init(config, function() {\n                Events.once(\"processed\", function(result) {\n                    _stopped = true;\n                    resultCallback.call(null, result);\n                }, true);\n                start();\n            });\n        },\n        ImageWrapper: ImageWrapper,\n        ImageDebug: ImageDebug,\n        ResultCollector: ResultCollector\n    };\n});\n\n    return require('quagga');\n}));","// src/components/common/BarcodeScanner.jsx\nimport React, { useState, useRef, useEffect } from 'react';\nimport { Button, Modal, Spin, Alert, Result } from 'antd';\nimport { ScanOutlined, BookOutlined } from '@ant-design/icons';\nimport styled from 'styled-components';\nimport Quagga from 'quagga';\n\nconst ScannerContainer = styled.div`\n  position: relative;\n  width: 100%;\n  height: 300px;\n  overflow: hidden;\n  background: #000;\n`;\n\nconst ScannerViewport = styled.div`\n  width: 100%;\n  height: 100%;\n\n  video,\n  canvas {\n    width: 100%;\n    height: 100%;\n    object-fit: cover;\n  }\n\n  canvas.drawingBuffer {\n    position: absolute;\n    top: 0;\n    left: 0;\n  }\n`;\n\nconst ScannerOverlay = styled.div`\n  position: absolute;\n  top: 0;\n  left: 0;\n  width: 100%;\n  height: 100%;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  z-index: 5;\n  pointer-events: none;\n`;\n\nconst ScanFrame = styled.div`\n  border: 2px solid rgba(255, 255, 255, 0.5);\n  border-radius: 20px;\n  box-shadow: 0 0 0 4000px rgba(0, 0, 0, 0.6);\n  width: 280px;\n  height: 120px;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n`;\n\nconst ScanLine = styled.div`\n  position: absolute;\n  width: 260px;\n  height: 2px;\n  background: rgba(0, 255, 71, 0.7);\n  animation: scanAnimation 2s linear infinite;\n\n  @keyframes scanAnimation {\n    0% {\n      transform: translateY(-50px);\n    }\n    50% {\n      transform: translateY(50px);\n    }\n    100% {\n      transform: translateY(-50px);\n    }\n  }\n`;\n\nconst BookInfoDisplay = ({ bookInfo }) => (\n  <div style={{ textAlign: 'right', maxWidth: '500px', margin: '0 auto' }}>\n    <p>\n      <strong>כותר:</strong> {bookInfo.title}\n    </p>\n    {bookInfo.authors && (\n      <p>\n        <strong>מחבר/ים:</strong> {bookInfo.authors}\n      </p>\n    )}\n    {bookInfo.publisher && (\n      <p>\n        <strong>הוצאה לאור:</strong> {bookInfo.publisher}\n      </p>\n    )}\n    {bookInfo.publishDate && (\n      <p>\n        <strong>תאריך הוצאה:</strong> {bookInfo.publishDate}\n      </p>\n    )}\n    {bookInfo.pageCount && (\n      <p>\n        <strong>מספר עמודים:</strong> {bookInfo.pageCount}\n      </p>\n    )}\n    <p>\n      <strong>ISBN:</strong> {bookInfo.isbn}\n    </p>\n  </div>\n);\n\nconst BarcodeScanner = ({ onScan, buttonText = 'סרוק ברקוד' }) => {\n  const [visible, setVisible] = useState(false);\n  const [scanning, setScanning] = useState(false);\n  const [scanError, setScanError] = useState(null);\n  const [detectedCode, setDetectedCode] = useState(null);\n  const [bookInfo, setBookInfo] = useState(null);\n  const [loading, setLoading] = useState(false);\n  const scannerRef = useRef(null);\n\n  // Clean up scanner on unmount\n  useEffect(() => {\n    return () => {\n      if (scanning) {\n        Quagga.stop();\n      }\n    };\n  }, [scanning]);\n\n  const initScanner = () => {\n    if (!scannerRef.current) {\n      return;\n    }\n\n    Quagga.init(\n      {\n        inputStream: {\n          name: 'Live',\n          type: 'LiveStream',\n          target: scannerRef.current,\n          constraints: {\n            facingMode: 'environment', // Use back camera on mobile\n            width: { min: 450 },\n            height: { min: 300 },\n            aspectRatio: { min: 1, max: 2 },\n          },\n        },\n        locator: {\n          patchSize: 'medium',\n          halfSample: true,\n        },\n        numOfWorkers: navigator.hardwareConcurrency || 4,\n        decoder: {\n          readers: [\n            'ean_reader',\n            'ean_8_reader',\n            'code_39_reader',\n            'code_128_reader',\n            'upc_reader',\n          ],\n        },\n        locate: true,\n      },\n      (err) => {\n        if (err) {\n          setScanError(\n            'אירעה שגיאה בהפעלת הסורק. אנא ודא שניתנה הרשאת גישה למצלמה.'\n          );\n          console.error('Error initializing scanner:', err);\n          return;\n        }\n\n        // Start scanner\n        Quagga.start();\n        setScanning(true);\n        setScanError(null);\n\n        Quagga.onDetected(handleScan);\n      }\n    );\n  };\n\n  const handleScan = async (result) => {\n    if (!result || !result.codeResult) return;\n\n    const code = result.codeResult.code;\n\n    // Stop scanner\n    Quagga.stop();\n    setScanning(false);\n    setDetectedCode(code);\n\n    // Try to fetch book info from ISBN\n    try {\n      setLoading(true);\n      const bookData = await fetchBookInfo(code);\n      setBookInfo(bookData);\n      setLoading(false);\n    } catch (error) {\n      setLoading(false);\n      console.error('Error fetching book info:', error);\n      // We'll still return the code even if we couldn't get info\n    }\n  };\n\n  // Fetch book info from Open Library API\n  const fetchBookInfo = async (isbn) => {\n    try {\n      const response = await fetch(\n        `https://openlibrary.org/api/books?bibkeys=ISBN:${isbn}&format=json&jscmd=data`\n      );\n      const data = await response.json();\n\n      // Check if we got data back\n      const bookData = data[`ISBN:${isbn}`];\n\n      if (!bookData) {\n        throw new Error('No book information found for this ISBN');\n      }\n\n      // Extract useful information\n      return {\n        title: bookData.title,\n        authors: bookData.authors?.map((author) => author.name).join(', '),\n        publisher: bookData.publishers?.[0]?.name,\n        publishDate: bookData.publish_date,\n        coverImage: bookData.cover?.medium,\n        pageCount: bookData.number_of_pages,\n        isbn: isbn,\n      };\n    } catch (error) {\n      console.error('Error fetching book info:', error);\n      return null;\n    }\n  };\n\n  const showScanner = () => {\n    setVisible(true);\n    setDetectedCode(null);\n    setBookInfo(null);\n    setScanError(null);\n\n    // Short delay to ensure the modal is fully visible before initializing\n    setTimeout(() => {\n      initScanner();\n    }, 500);\n  };\n\n  const closeScanner = () => {\n    if (scanning) {\n      Quagga.stop();\n      setScanning(false);\n    }\n    setVisible(false);\n  };\n\n  const handleConfirm = () => {\n    if (bookInfo) {\n      onScan(bookInfo);\n    } else if (detectedCode) {\n      onScan({ isbn: detectedCode });\n    }\n    closeScanner();\n  };\n\n  const handleRetry = () => {\n    setDetectedCode(null);\n    setBookInfo(null);\n    setScanError(null);\n    initScanner();\n  };\n\n  // Render scanner content based on state\n  const renderScannerContent = () => {\n    if (loading) {\n      return (\n        <div style={{ textAlign: 'center', padding: '30px' }}>\n          <Spin size=\"large\" />\n          <p style={{ marginTop: '20px' }}>\n            מחפש מידע עבור ISBN: {detectedCode}...\n          </p>\n        </div>\n      );\n    }\n\n    if (detectedCode) {\n      // Use extra props array for buttons\n      const extraButtons = [\n        <Button key=\"confirm\" type=\"primary\" onClick={handleConfirm}>\n          {bookInfo ? 'השתמש במידע' : 'השתמש במספר ISBN'}\n        </Button>,\n        <Button key=\"retry\" onClick={handleRetry}>\n          סריקה חדשה\n        </Button>,\n      ];\n\n      return (\n        <div>\n          <Result\n            status={bookInfo ? 'success' : 'info'}\n            title={bookInfo ? 'נסרק בהצלחה!' : 'ברקוד נסרק'}\n            subTitle={\n              bookInfo\n                ? `נמצא מידע עבור: ${bookInfo.title}`\n                : `ISBN: ${detectedCode} (לא נמצא מידע מקוון)`\n            }\n            extra={extraButtons}\n          />\n\n          {bookInfo && <BookInfoDisplay bookInfo={bookInfo} />}\n        </div>\n      );\n    }\n\n    if (scanError) {\n      return (\n        <Alert\n          message=\"שגיאת סריקה\"\n          description={scanError}\n          type=\"error\"\n          showIcon\n          action={<Button onClick={handleRetry}>נסה שנית</Button>}\n        />\n      );\n    }\n\n    return (\n      <ScannerContainer>\n        <ScannerViewport ref={scannerRef} />\n        <ScannerOverlay>\n          <ScanFrame>\n            <ScanLine />\n          </ScanFrame>\n        </ScannerOverlay>\n        <div\n          style={{\n            position: 'absolute',\n            bottom: '10px',\n            left: 0,\n            right: 0,\n            textAlign: 'center',\n            color: 'white',\n            textShadow: '0 0 2px black',\n          }}\n        >\n          יש למקם את הברקוד בתוך המסגרת\n        </div>\n      </ScannerContainer>\n    );\n  };\n\n  return (\n    <>\n      <Button type=\"default\" icon={<ScanOutlined />} onClick={showScanner}>\n        {buttonText}\n      </Button>\n\n      <Modal\n        title={\n          <div>\n            <BookOutlined /> סריקת ברקוד ספר\n          </div>\n        }\n        open={visible}\n        onCancel={closeScanner}\n        footer={null}\n        width={detectedCode ? 600 : 400}\n        destroyOnClose={true}\n        centered\n      >\n        {renderScannerContent()}\n      </Modal>\n    </>\n  );\n};\n\nexport default BarcodeScanner;\n","// src/pages/Books.jsx - with Barcode Scanner Integration\nimport React, { useState, useEffect } from 'react';\nimport {\n  Table,\n  Button,\n  Input,\n  Card,\n  Space,\n  Modal,\n  Form,\n  Select,\n  DatePicker,\n  InputNumber,\n  Typography,\n  Tag,\n  Tooltip,\n  Popconfirm,\n  Divider,\n  message,\n} from 'antd';\nimport {\n  SearchOutlined,\n  PlusOutlined,\n  EditOutlined,\n  DeleteOutlined,\n  BookOutlined,\n} from '@ant-design/icons';\nimport { Link, useLocation, useNavigate } from 'react-router-dom';\nimport styled from 'styled-components';\nimport { useAppContext } from '../context/AppContext';\nimport BarcodeScanner from '../components/common/BarcodeScanner';\nimport dayjs from 'dayjs';\n\nconst { Title, Text } = Typography;\nconst { Option } = Select;\nconst { TextArea } = Input;\n\n// Style for RTL tables\nconst StyledTable = styled(Table)`\n  .ant-table-thead > tr > th {\n    text-align: right;\n  }\n\n  .ant-table-cell {\n    text-align: right;\n  }\n`;\n\nconst StyledCard = styled(Card)`\n  margin-bottom: 24px;\n`;\n\nconst FilterContainer = styled.div`\n  display: flex;\n  flex-wrap: wrap;\n  gap: 16px;\n  margin-bottom: 24px;\n`;\n\nconst ActionsColumn = styled.div`\n  display: flex;\n  justify-content: flex-end;\n  gap: 8px;\n`;\n\nconst ISBNFieldContainer = styled.div`\n  display: flex;\n  gap: 8px;\n`;\n\nconst Books = () => {\n  const {\n    books,\n    addBook,\n    updateBook,\n    deleteBook,\n    authors,\n    categories,\n    publishers,\n    createBookModel,\n  } = useAppContext();\n\n  const location = useLocation();\n  const navigate = useNavigate();\n\n  // State\n  const [form] = Form.useForm();\n  const [searchText, setSearchText] = useState('');\n  const [filters, setFilters] = useState({\n    categories: [],\n    authors: [],\n    publishers: [],\n  });\n  const [isModalVisible, setIsModalVisible] = useState(false);\n  const [editingBook, setEditingBook] = useState(null);\n  const [filteredBooks, setFilteredBooks] = useState([]);\n\n  // Check for edit parameter in URL\n  useEffect(() => {\n    const queryParams = new URLSearchParams(location.search);\n    const editId = queryParams.get('edit');\n\n    if (editId) {\n      const bookToEdit = books.find((book) => book.id === editId);\n      if (bookToEdit) {\n        showModal(bookToEdit);\n        // Remove the query parameter\n        navigate('/books', { replace: true });\n      }\n    }\n  }, [location, books, navigate]);\n\n  // Apply filters and search\n  useEffect(() => {\n    let result = [...books];\n\n    // Apply search\n    if (searchText) {\n      const lowerSearchText = searchText.toLowerCase();\n      result = result.filter(\n        (book) =>\n          book.title.toLowerCase().includes(lowerSearchText) ||\n          getAuthorName(book.author).toLowerCase().includes(lowerSearchText) ||\n          book.isbn?.toLowerCase().includes(lowerSearchText) ||\n          getPublisherName(book.publisher)\n            .toLowerCase()\n            .includes(lowerSearchText)\n      );\n    }\n\n    // Apply category filter\n    if (filters.categories.length > 0) {\n      result = result.filter((book) =>\n        book.categories?.some((catId) => filters.categories.includes(catId))\n      );\n    }\n\n    // Apply author filter\n    if (filters.authors.length > 0) {\n      result = result.filter((book) => filters.authors.includes(book.author));\n    }\n\n    // Apply publisher filter\n    if (filters.publishers.length > 0) {\n      result = result.filter((book) =>\n        filters.publishers.includes(book.publisher)\n      );\n    }\n\n    setFilteredBooks(result);\n  }, [books, searchText, filters]);\n\n  // Helper functions\n  const getAuthorName = (authorId) => {\n    const author = authors.find((a) => a.id === authorId);\n    return author ? author.name : 'לא ידוע';\n  };\n\n  const getPublisherName = (publisherId) => {\n    const publisher = publishers.find((p) => p.id === publisherId);\n    return publisher ? publisher.name : 'לא ידוע';\n  };\n\n  const getCategoryNames = (categoryIds) => {\n    if (!categoryIds || !categoryIds.length) return [];\n\n    return categoryIds\n      .map((id) => {\n        const category = categories.find((c) => c.id === id);\n        return category\n          ? {\n              name: category.name,\n              color: category.color,\n            }\n          : null;\n      })\n      .filter(Boolean);\n  };\n\n  // Modal handlers\n  const showModal = (book = null) => {\n    setEditingBook(book);\n\n    if (book) {\n      form.setFieldsValue({\n        ...book,\n        publicationYear: book.publicationYear\n          ? dayjs(book.publicationYear.toString())\n          : null,\n        acquisitionDate: book.acquisitionDate\n          ? dayjs(book.acquisitionDate)\n          : null,\n      });\n    } else {\n      form.resetFields();\n    }\n\n    setIsModalVisible(true);\n  };\n\n  const handleCancel = () => {\n    setIsModalVisible(false);\n    form.resetFields();\n  };\n\n  const handleSubmit = async (values) => {\n    // Format dates\n    const formattedValues = {\n      ...values,\n      publicationYear: values.publicationYear\n        ? values.publicationYear.year()\n        : null,\n      acquisitionDate: values.acquisitionDate\n        ? values.acquisitionDate.toISOString()\n        : null,\n    };\n\n    if (editingBook) {\n      await updateBook(editingBook.id, formattedValues);\n      message.success('הספר עודכן בהצלחה');\n    } else {\n      await addBook(formattedValues);\n      message.success('הספר נוסף בהצלחה');\n    }\n\n    setIsModalVisible(false);\n    form.resetFields();\n  };\n\n  const handleDelete = async (bookId) => {\n    await deleteBook(bookId);\n    message.success('הספר נמחק בהצלחה');\n  };\n\n  // Handle barcode scan results\n  const handleBarcodeScan = (scanData) => {\n    console.log('Barcode scan result:', scanData);\n\n    // Update the ISBN field\n    form.setFieldValue('isbn', scanData.isbn);\n\n    // If we have more data from online, fill in other fields\n    if (scanData.title) {\n      form.setFieldValue('title', scanData.title);\n    }\n\n    if (scanData.pageCount) {\n      form.setFieldValue('pageCount', scanData.pageCount);\n    }\n\n    if (scanData.publishDate) {\n      // Try to extract year from publish date\n      const yearMatch = scanData.publishDate.match(/\\d{4}/);\n      if (yearMatch) {\n        form.setFieldValue('publicationYear', dayjs(yearMatch[0]));\n      }\n    }\n\n    // If we have author information, try to find or create the author\n    if (scanData.authors) {\n      // This is a simplified approach - in a real app, you might want to\n      // show a dialog asking the user to select an existing author or create a new one\n      const existingAuthor = authors.find(\n        (author) => author.name.toLowerCase() === scanData.authors.toLowerCase()\n      );\n\n      if (existingAuthor) {\n        form.setFieldValue('author', existingAuthor.id);\n      } else {\n        // Here you could show a dialog to create a new author\n        message.info(\n          `מחבר \"${scanData.authors}\" לא נמצא במערכת. ניתן להוסיף אותו דרך מסך הסופרים.`\n        );\n      }\n    }\n\n    // Same for publisher\n    if (scanData.publisher) {\n      const existingPublisher = publishers.find(\n        (publisher) =>\n          publisher.name.toLowerCase() === scanData.publisher.toLowerCase()\n      );\n\n      if (existingPublisher) {\n        form.setFieldValue('publisher', existingPublisher.id);\n      } else {\n        message.info(\n          `הוצאה לאור \"${scanData.publisher}\" לא נמצאה במערכת. ניתן להוסיף אותה דרך מסך ההוצאות לאור.`\n        );\n      }\n    }\n\n    // Display success message\n    message.success('מידע מברקוד נוסף לטופס');\n  };\n\n  // Table columns\n  const columns = [\n    {\n      title: 'שם הספר',\n      dataIndex: 'title',\n      key: 'title',\n      render: (text, record) => (\n        <Link to={`/books/${record.id}`}>\n          <Text strong>{text}</Text>\n        </Link>\n      ),\n    },\n    {\n      title: 'מחבר',\n      dataIndex: 'author',\n      key: 'author',\n      render: (authorId) => getAuthorName(authorId),\n    },\n    {\n      title: 'הוצאה לאור',\n      dataIndex: 'publisher',\n      key: 'publisher',\n      render: (publisherId) => getPublisherName(publisherId),\n    },\n    {\n      title: 'קטגוריות',\n      dataIndex: 'categories',\n      key: 'categories',\n      render: (categoryIds) => {\n        const cats = getCategoryNames(categoryIds);\n        return (\n          <Space size={[0, 4]} wrap>\n            {cats.length > 0 ? (\n              cats.map((cat, index) => (\n                <Tag color={cat.color} key={index}>\n                  {cat.name}\n                </Tag>\n              ))\n            ) : (\n              <Text type=\"secondary\">-</Text>\n            )}\n          </Space>\n        );\n      },\n    },\n    {\n      title: 'שנת הוצאה',\n      dataIndex: 'publicationYear',\n      key: 'publicationYear',\n      render: (year) => year || '-',\n    },\n    {\n      title: 'פעולות',\n      key: 'actions',\n      width: 120,\n      render: (_, record) => (\n        <ActionsColumn>\n          <Tooltip title=\"עריכה\">\n            <Button\n              icon={<EditOutlined />}\n              type=\"text\"\n              onClick={() => showModal(record)}\n            />\n          </Tooltip>\n          <Tooltip title=\"מחיקה\">\n            <Popconfirm\n              title=\"בטוח שאתה רוצה למחוק את הספר?\"\n              onConfirm={() => handleDelete(record.id)}\n              okText=\"כן\"\n              cancelText=\"לא\"\n              placement=\"topRight\"\n            >\n              <Button icon={<DeleteOutlined />} type=\"text\" danger />\n            </Popconfirm>\n          </Tooltip>\n        </ActionsColumn>\n      ),\n    },\n  ];\n\n  return (\n    <div>\n      <StyledCard>\n        <div\n          style={{\n            display: 'flex',\n            justifyContent: 'space-between',\n            alignItems: 'center',\n            marginBottom: 16,\n          }}\n        >\n          <Title level={2}>ספרים</Title>\n          <Button\n            type=\"primary\"\n            icon={<PlusOutlined />}\n            onClick={() => showModal()}\n          >\n            הוספת ספר\n          </Button>\n        </div>\n\n        <FilterContainer>\n          <Input\n            placeholder=\"חיפוש לפי שם, מחבר או מק״ט\"\n            prefix={<SearchOutlined />}\n            value={searchText}\n            onChange={(e) => setSearchText(e.target.value)}\n            style={{ width: 300 }}\n          />\n          <Select\n            mode=\"multiple\"\n            allowClear\n            style={{ minWidth: 200 }}\n            placeholder=\"סינון לפי קטגוריה\"\n            value={filters.categories}\n            onChange={(values) =>\n              setFilters({ ...filters, categories: values })\n            }\n          >\n            {categories.map((category) => (\n              <Option key={category.id} value={category.id}>\n                {category.name}\n              </Option>\n            ))}\n          </Select>\n          <Select\n            mode=\"multiple\"\n            allowClear\n            style={{ minWidth: 200 }}\n            placeholder=\"סינון לפי מחבר\"\n            value={filters.authors}\n            onChange={(values) => setFilters({ ...filters, authors: values })}\n          >\n            {authors.map((author) => (\n              <Option key={author.id} value={author.id}>\n                {author.name}\n              </Option>\n            ))}\n          </Select>\n          <Select\n            mode=\"multiple\"\n            allowClear\n            style={{ minWidth: 200 }}\n            placeholder=\"סינון לפי הוצאה לאור\"\n            value={filters.publishers}\n            onChange={(values) =>\n              setFilters({ ...filters, publishers: values })\n            }\n          >\n            {publishers.map((publisher) => (\n              <Option key={publisher.id} value={publisher.id}>\n                {publisher.name}\n              </Option>\n            ))}\n          </Select>\n        </FilterContainer>\n\n        <StyledTable\n          dataSource={filteredBooks}\n          columns={columns}\n          rowKey=\"id\"\n          pagination={{\n            pageSize: 10,\n            showSizeChanger: true,\n            showTotal: (total) => `סה\"כ ${total} ספרים`,\n          }}\n          locale={{\n            emptyText: 'לא נמצאו ספרים',\n          }}\n        />\n      </StyledCard>\n\n      {/* Book Form Modal */}\n      <Modal\n        title={editingBook ? 'עריכת ספר' : 'הוספת ספר חדש'}\n        open={isModalVisible}\n        onCancel={handleCancel}\n        footer={null}\n        destroyOnClose\n        width={700}\n      >\n        <Form\n          form={form}\n          layout=\"vertical\"\n          onFinish={handleSubmit}\n          initialValues={createBookModel()}\n        >\n          <Form.Item\n            name=\"title\"\n            label=\"שם הספר\"\n            rules={[{ required: true, message: 'נא להזין את שם הספר' }]}\n          >\n            <Input placeholder=\"הזן את שם הספר\" />\n          </Form.Item>\n\n          <Form.Item\n            name=\"author\"\n            label=\"מחבר\"\n            rules={[{ required: true, message: 'נא לבחור מחבר' }]}\n          >\n            <Select\n              placeholder=\"בחר מחבר\"\n              showSearch\n              optionFilterProp=\"children\"\n              allowClear\n              dropdownRender={(menu) => (\n                <>\n                  {menu}\n                  <Divider style={{ margin: '8px 0' }} />\n                  <Button\n                    type=\"link\"\n                    block\n                    icon={<PlusOutlined />}\n                    onClick={() => navigate('/authors')}\n                  >\n                    הוסף מחבר חדש\n                  </Button>\n                </>\n              )}\n            >\n              {authors.map((author) => (\n                <Option key={author.id} value={author.id}>\n                  {author.name}\n                </Option>\n              ))}\n            </Select>\n          </Form.Item>\n\n          <Form.Item name=\"publisher\" label=\"הוצאה לאור\">\n            <Select\n              placeholder=\"בחר הוצאה לאור\"\n              showSearch\n              optionFilterProp=\"children\"\n              allowClear\n              dropdownRender={(menu) => (\n                <>\n                  {menu}\n                  <Divider style={{ margin: '8px 0' }} />\n                  <Button\n                    type=\"link\"\n                    block\n                    icon={<PlusOutlined />}\n                    onClick={() => navigate('/publishers')}\n                  >\n                    הוסף הוצאה לאור חדשה\n                  </Button>\n                </>\n              )}\n            >\n              {publishers.map((publisher) => (\n                <Option key={publisher.id} value={publisher.id}>\n                  {publisher.name}\n                </Option>\n              ))}\n            </Select>\n          </Form.Item>\n\n          <Form.Item name=\"categories\" label=\"קטגוריות\">\n            <Select\n              mode=\"multiple\"\n              placeholder=\"בחר קטגוריות\"\n              showSearch\n              optionFilterProp=\"children\"\n              allowClear\n              dropdownRender={(menu) => (\n                <>\n                  {menu}\n                  <Divider style={{ margin: '8px 0' }} />\n                  <Button\n                    type=\"link\"\n                    block\n                    icon={<PlusOutlined />}\n                    onClick={() => navigate('/categories')}\n                  >\n                    הוסף קטגוריה חדשה\n                  </Button>\n                </>\n              )}\n            >\n              {categories.map((category) => (\n                <Option key={category.id} value={category.id}>\n                  {category.name}\n                </Option>\n              ))}\n            </Select>\n          </Form.Item>\n\n          <Form.Item name=\"isbn\" label=\"מסתב (ISBN)\">\n            <ISBNFieldContainer>\n              <Input placeholder=\"הזן מסתב\" style={{ flex: 1 }} />\n              <BarcodeScanner onScan={handleBarcodeScan} buttonText=\"סרוק\" />\n            </ISBNFieldContainer>\n          </Form.Item>\n\n          <div style={{ display: 'flex', gap: 16 }}>\n            <Form.Item\n              name=\"publicationYear\"\n              label=\"שנת הוצאה\"\n              style={{ flex: 1 }}\n            >\n              <DatePicker picker=\"year\" style={{ width: '100%' }} />\n            </Form.Item>\n\n            <Form.Item name=\"language\" label=\"שפה\" style={{ flex: 1 }}>\n              <Select placeholder=\"בחר שפה\" defaultValue=\"Hebrew\">\n                <Option value=\"Hebrew\">עברית</Option>\n                <Option value=\"English\">אנגלית</Option>\n                <Option value=\"Arabic\">ערבית</Option>\n                <Option value=\"Russian\">רוסית</Option>\n                <Option value=\"French\">צרפתית</Option>\n                <Option value=\"German\">גרמנית</Option>\n                <Option value=\"Spanish\">ספרדית</Option>\n                <Option value=\"Other\">אחר</Option>\n              </Select>\n            </Form.Item>\n          </div>\n\n          <div style={{ display: 'flex', gap: 16 }}>\n            <Form.Item name=\"pageCount\" label=\"מספר עמודים\" style={{ flex: 1 }}>\n              <InputNumber\n                placeholder=\"הזן מספר עמודים\"\n                style={{ width: '100%' }}\n              />\n            </Form.Item>\n\n            <Form.Item name=\"rating\" label=\"דירוג\" style={{ flex: 1 }}>\n              <InputNumber\n                placeholder=\"דירוג 1-5\"\n                min={1}\n                max={5}\n                style={{ width: '100%' }}\n              />\n            </Form.Item>\n          </div>\n\n          <Form.Item name=\"description\" label=\"תיאור הספר\">\n            <TextArea placeholder=\"הזן תיאור\" rows={4} />\n          </Form.Item>\n\n          <Form.Item name=\"location\" label=\"מיקום הספר\">\n            <Input placeholder=\"מיקום הספר בספרייה (מדף, ארון, חדר וכו')\" />\n          </Form.Item>\n\n          <Form.Item name=\"acquisitionDate\" label=\"תאריך רכישה\">\n            <DatePicker style={{ width: '100%' }} />\n          </Form.Item>\n\n          <Form.Item name=\"acquisitionMethod\" label=\"שיטת רכישה\">\n            <Select placeholder=\"בחר שיטת רכישה\">\n              <Option value=\"purchase\">קנייה</Option>\n              <Option value=\"gift\">מתנה</Option>\n              <Option value=\"donation\">תרומה</Option>\n              <Option value=\"other\">אחר</Option>\n            </Select>\n          </Form.Item>\n\n          <Form.Item name=\"notes\" label=\"הערות\">\n            <TextArea placeholder=\"הערות נוספות\" rows={3} />\n          </Form.Item>\n\n          {/* Footer */}\n          <div style={{ display: 'flex', justifyContent: 'flex-end', gap: 16 }}>\n            <Button onClick={handleCancel}>ביטול</Button>\n            <Button type=\"primary\" htmlType=\"submit\">\n              {editingBook ? 'עדכון' : 'הוספה'}\n            </Button>\n          </div>\n        </Form>\n      </Modal>\n    </div>\n  );\n};\n\nexport default Books;\n"],"names":["ScanOutlined","WarningFilled","props","ref","AntdIcon","_extends","WarningFilledSvg","RefIcon","React.forwardRef","NoFound","React.createElement","ServerError","genBaseStyle","token","componentCls","lineHeightHeading3","iconCls","padding","paddingXL","paddingXS","paddingLG","marginXS","lineHeight","unit","genStatusIconStyle","genResultStyle","getStyle","prepareComponentToken","useStyle","genStyleHooks","resultInfoIconColor","resultErrorIconColor","resultSuccessIconColor","resultWarningIconColor","resultToken","mergeToken","Unauthorized","IconMap","CheckCircleFilled","CloseCircleFilled","ExclamationCircleFilled","ExceptionMap","noFound","serverError","unauthorized","ExceptionStatus","Icon","_ref","prefixCls","icon","status","className","classNames","SVGComponent","iconNode","Extra","_ref2","extra","Result","_ref3","customizePrefixCls","customizeClassName","rootClassName","subTitle","title","style","children","getPrefixCls","direction","result","React.useContext","ConfigContext","wrapCSSVar","hashId","cssVarCls","mergedStyle","target","i","source","key","ScanOutlinedSvg","root","factory","factorySource","module","this","__factorySource__","requirejs","require","define","undef","main","req","makeMap","handlers","defined","waiting","config","defining","hasOwn","aps","jsSuffixRegExp","hasProp","obj","prop","normalize","name","baseName","nameParts","nameSegment","mapValue","foundMap","lastIndex","foundI","foundStarMap","starI","j","part","baseParts","map","starMap","makeRequire","relName","forceSync","makeNormalize","makeLoad","depName","value","callDep","args","splitPrefix","prefix","index","plugin","parts","makeConfig","e","deps","callback","cjsModule","ret","callbackType","usingExports","alt","cfg","ImageLoader","directory","offset","size","sequence","htmlImagesSrcArray","htmlImagesArray","img","num","loadedImg","notloadedImgs","x","y","imgName","addOnloadHandler","InputStream","video","that","_config","_eventNames","_eventHandlers","_calculatedWidth","_calculatedHeight","_topRight","_canvasSize","initSize","width","height","time","event","f","bool","eventName","handler","topRight","frameIdx","paused","loaded","imgArray","baseUrl","ended","calculatedWidth","calculatedHeight","loadImages","imgs","publishEvent","stream","frame","element","a","b","ah","al","bh","bl","global","SubImage","from","I","canvas","scale","ctx","data","current","pixel","image","Cluster","point","threshold","points","center","vec2","pointMap","init","add","updateCenter","sum","similarity","id","property","vec3","vec","dest","val","z","len","x2","y2","z2","lerp","mat3","mat","a01","a02","a12","mat4","a03","a13","a23","a00","a10","a11","a20","a21","a22","a30","a31","a32","a33","b00","b01","b02","b03","b04","b05","b06","b07","b08","b09","b10","b11","invDet","b21","mat2","b12","b13","b20","b22","b23","b30","b31","b32","b33","w","angle","axis","s","c","t","left","right","bottom","top","near","far","rl","tb","fn","fovy","aspect","eye","up","eyex","eyey","eyez","upx","upy","upz","centerx","centery","centerz","z0","z1","x0","x1","y0","y1","quat","quat2","qax","qay","qaz","qaw","qbx","qby","qbz","qbw","qx","qy","qz","qw","ix","iy","iz","iw","xx","xy","xz","yy","yz","zz","wx","wy","wz","slerp","cosHalfTheta","halfTheta","sinHalfTheta","ratioA","ratioB","scalar","ha00","ha01","ha02","ha10","ha11","ha12","ha20","ha21","ha22","invDetA","hb00","hb01","hb02","hb10","hb11","hb12","hb20","hb21","hb22","d","arr","l","row","rows","scoreFunc","queue","max","length","Cluster2","glMatrixAddon","ArrayHelper","CVUtils","imageWrapper","integralWrapper","imageData","integralImageData","posA","posB","posC","posD","v","u","targetWrapper","targetData","bitsPerPixel","bitShift","bucketCnt","hist","line","px","end","mx","determineThreshold","vet","p1","p2","p12","k","m1","m2","m12","kernel","A","B","C","D","avg","cluster","clusters","addToCluster","found","iteration","maxIterations","centerPos","currentPos","trace","idx","forward","to","toIdx","predictedPos","thresholdX","thresholdY","match","pos","predicted","inImageWrapper","outImageWrapper","inImageData","outImageData","yStart1","yStart2","xStart1","xStart2","aImageWrapper","bImageWrapper","resultImageWrapper","aImageData","bImageData","cImageData","list","minIdx","min","score","hit","htmlImage","offsetX","array","ctxData","canvasData","outArray","topRowIdx","bottomRowIdx","endIdx","outWidth","outImgIdx","inWidth","singleChannel","src","inImgWrapper","outImgWrapper","inImg","outImg","hsv","rgb","h","m","r","g","n","largeDivisors","divisors","arr1","arr2","patchSize","imgSize","divisorsX","divisorsY","wideSide","common","nrOfPatchesList","nrOfPatchesMap","nrOfPatchesIdx","nrOfPatches","desiredPatchSize","optimalPatchSize","findPatchSizeForDivisors","dimension","context","inputWidth","inputHeight","area","parsedArea","parsed","calculated","ImageWrapper","ArrayType","initialize","imgRef","border","M","inOrig","outOrig","ih","across","down","defaultValue","p0","min_x","min_y","max_x","max_y","p","sampleFunc","carrigeReturn","x_bound","y_bound","count","lx","ly","base","sizeY","sizeX","srcData","dstData","kx","ky","kSize","accu","labelcount","ysq","labelsum","label","mu11","mu02","mu20","x_","y_","tmp","PI","PI_4","whiteRgb","blackRgb","Tracer","labelWrapper","labelData","searchDirections","color","edgelabel","vertex2D","dir","contourTracing","sy","sx","Fv","Cv","P","ldir","Rasterizer","tracer","depthlabel","bc","lc","labelindex","cx","cy","colorMap","vertex","cc","sc","connectedCount","firstContour","pq","iq","q","Skeletonizer","stdlib","foreign","buffer","images","imul","erode","inImagePtr","outImagePtr","subtract","aImagePtr","bImagePtr","bitwiseOr","countNonZero","imagePtr","dilate","memcpy","srcImagePtr","dstImagePtr","zeroBorder","skeletonize","subImagePtr","erodedImagePtr","tempImagePtr","skelImagePtr","done","path","def","imageDataPos","canvasDataPos","skeletonizer","ImageDebug","_currentImageWrapper","_skelImageWrapper","_subImageWrapper","_labelImageWrapper","_patchGrid","_patchLabelGrid","_imageToPatchGrid","_binaryImageWrapper","_patchSize","_canvasContainer","_numPatches","_inputImageWrapper","_skeletonizer","self","initBuffers","skeletonImageData","initCanvas","boxFromPatches","patches","overAvg","patch","transMat","minx","miny","maxx","maxy","box","binarizeImage","findPatches","moments","patchesFound","rasterizer","rasterResult","describePatch","findBiggestConnectedAreas","maxLabel","labelHist","topLabels","el","findBoxes","boxes","similarMoments","topCluster","patchPos","eligibleMoments","matchingMoments","minComponentWeight","rasterizeAngularSimilarity","currIdx","notYetProcessed","currentIdx","currentPatch","inputImageWrapper","inputStream","halfSample","Bresenham","Slope","steep","deltax","deltay","error","ystep","read","slope","slope2","extrema","currentDir","rThreshold","BarcodeReader","start","counter","code","singleError","modulo","maxSingleError","ratio","numOnes","normalized","norm","cmpCounter","epsilon","isWhite","counterPos","bestMatch","pattern","counters","Code128Reader","properties","startInfo","multiplier","checksum","codeset","rawResult","decodedCodes","shiftNext","unshift","endInfo","trailingWhitespaceEnd","EANReader","opts","coderange","tryHarder","leadingWhitespaceStart","codeFrequency","firstDigit","Code39Reader","numCounters","decodedChar","lastStart","nextStart","patternSize","minWidth","maxNarrowWidth","numWideBars","wideBarWidth","patternStart","whiteSpaceMustStart","Code39VINReader","patterns","CodabarReader","startCounter","endCounter","categorization","kind","cat","char","charCode","thresholds","barThreshold","spaceThreshold","bitmask","UPCReader","EAN8Reader","UPCEReader","nrSystem","upca","lastDigit","createNode","htmlStr","temp","mergeObjects","obj1","obj2","HTMLUtils","I2of5Reader","getDefaulConfig","N","W","counterSum","codeSum","correction","correctionRatio","correctionRatioInverse","narrowBarWidth","counterPair","codes","counterLength","readers","BarcodeDecoder","_canvas","_barcodeReaders","initReaders","initConfig","$debug","readerConfig","reader","vis","getExtendedLine","ext","extendLine","amount","extension","getLine","tryDecode","barcodeLine","tryDecodeBruteForce","lineAngle","sideLength","slices","xdir","ydir","getLineLength","decodeFromBoundingBox","lineLength","FrameGrabber","_that","_streamConfig","_video_size","_size","_sx","_sy","_ctx","_data","doHalfSample","_events","events","getEvent","clearEvents","publishSubscription","subscription","subscribe","async","subscribers","subscriber","HtmlUtils","streamRef","loadedDataHandler","getUserMedia","constraints","success","failure","videoSrc","loadedData","attempts","checkVideo","initCamera","normalizeConstraints","cb","videoConstraints","sourceInfos","videoSourceId","sourceInfo","request","tracks","contains","codeResult","item","passesFilter","filter","results","capacity","capture","matchesConstraints","imageSize","BarcodeLocator","Events","CameraAccess","ResultCollector","_inputStream","_framegrabber","_stopped","_boxSize","_decoder","_workerPool","_onUIThread","_resultCollector","initializeData","initInputStream","$viewport","err","canRecord","initWorkers","ready","clearFix","getBoundingBoxes","transformResult","xOffset","yOffset","moveLine","moveBox","corner","publishResult","locateAndDecode","update","availableWorker","workerThread","initWorker","workerInitialized","blobURL","generateWorkerBlob","workerInterface","Quagga","onProcessed","blob","setReaders","resultCollector","resultCallback","ScannerContainer","styled","ScannerViewport","ScannerOverlay","ScanFrame","ScanLine","BookInfoDisplay","bookInfo","jsxs","jsx","BarcodeScanner","onScan","buttonText","visible","setVisible","useState","scanning","setScanning","scanError","setScanError","detectedCode","setDetectedCode","setBookInfo","loading","setLoading","scannerRef","useRef","useEffect","initScanner","handleScan","bookData","fetchBookInfo","isbn","_a","author","_c","_b","_d","showScanner","closeScanner","handleConfirm","handleRetry","renderScannerContent","Spin","extraButtons","Button","Alert","Fragment","Modal","BookOutlined","Title","Text","Typography","Option","Select","TextArea","Input","StyledTable","Table","StyledCard","Card","FilterContainer","ActionsColumn","ISBNFieldContainer","Books","books","addBook","updateBook","deleteBook","authors","categories","publishers","createBookModel","useAppContext","location","useLocation","navigate","useNavigate","form","Form","searchText","setSearchText","filters","setFilters","isModalVisible","setIsModalVisible","editingBook","setEditingBook","filteredBooks","setFilteredBooks","editId","bookToEdit","book","showModal","lowerSearchText","getAuthorName","getPublisherName","catId","authorId","publisherId","publisher","getCategoryNames","categoryIds","category","dayjs","handleCancel","handleSubmit","values","formattedValues","message","handleDelete","bookId","handleBarcodeScan","scanData","yearMatch","existingAuthor","existingPublisher","columns","text","record","Link","cats","Space","Tag","year","_","Tooltip","EditOutlined","Popconfirm","DeleteOutlined","PlusOutlined","SearchOutlined","total","menu","Divider","DatePicker","InputNumber"],"mappings":"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,EAAG,EAAG,EAAG,CAAC,EACjB,CAAC,EAAG,EAAG,EAAG,EAAG,EAAG,CAAC,EACjB,CAAC,EAAG,EAAG,EAAG,EAAG,EAAG,CAAC,EACjB,CAAC,EAAG,EAAG,EAAG,EAAG,EAAG,CAAC,EACjB,CAAC,EAAG,EAAG,EAAG,EAAG,EAAG,CAAC,EACjB,CAAC,EAAG,EAAG,EAAG,EAAG,EAAG,CAAC,EACjB,CAAC,EAAG,EAAG,EAAG,EAAG,EAAG,CAAC,EACjB,CAAC,EAAG,EAAG,EAAG,EAAG,EAAG,CAAC,EACjB,CAAC,EAAG,EAAG,EAAG,EAAG,EAAG,CAAC,EACjB,CAAC,EAAG,EAAG,EAAG,EAAG,EAAG,CAAC,EACjB,CAAC,EAAG,EAAG,EAAG,EAAG,EAAG,CAAC,EACjB,CAAC,EAAG,EAAG,EAAG,EAAG,EAAG,CAAC,EACjB,CAAC,EAAG,EAAG,EAAG,EAAG,EAAG,CAAC,EACjB,CAAC,EAAG,EAAG,EAAG,EAAG,EAAG,CAAC,EACjB,CAAC,EAAG,EAAG,EAAG,EAAG,EAAG,CAAC,EACjB,CAAC,EAAG,EAAG,EAAG,EAAG,EAAG,CAAC,EACjB,CAAC,EAAG,EAAG,EAAG,EAAG,EAAG,CAAC,EACjB,CAAC,EAAG,EAAG,EAAG,EAAG,EAAG,CAAC,EACjB,CAAC,EAAG,EAAG,EAAG,EAAG,EAAG,CAAC,EACjB,CAAC,EAAG,EAAG,EAAG,EAAG,EAAG,CAAC,EACjB,CAAC,EAAG,EAAG,EAAG,EAAG,EAAG,CAAC,EACjB,CAAC,EAAG,EAAG,EAAG,EAAG,EAAG,CAAC,EACjB,CAAC,EAAG,EAAG,EAAG,EAAG,EAAG,CAAC,EACjB,CAAC,EAAG,EAAG,EAAG,EAAG,EAAG,CAAC,EACjB,CAAC,EAAG,EAAG,EAAG,EAAG,EAAG,CAAC,EACjB,CAAC,EAAG,EAAG,EAAG,EAAG,EAAG,CAAC,EACjB,CAAC,EAAG,EAAG,EAAG,EAAG,EAAG,CAAC,EACjB,CAAC,EAAG,EAAG,EAAG,EAAG,EAAG,CAAC,EACjB,CAAC,EAAG,EAAG,EAAG,EAAG,EAAG,CAAC,EACjB,CAAC,EAAG,EAAG,EAAG,EAAG,EAAG,CAAC,EACjB,CAAC,EAAG,EAAG,EAAG,EAAG,EAAG,CAAC,EACjB,CAAC,EAAG,EAAG,EAAG,EAAG,EAAG,CAAC,EACjB,CAAC,EAAG,EAAG,EAAG,EAAG,EAAG,CAAC,EACjB,CAAC,EAAG,EAAG,EAAG,EAAG,EAAG,CAAC,EACjB,CAAC,EAAG,EAAG,EAAG,EAAG,EAAG,CAAC,EACjB,CAAC,EAAG,EAAG,EAAG,EAAG,EAAG,CAAC,EACjB,CAAC,EAAG,EAAG,EAAG,EAAG,EAAG,CAAC,EACjB,CAAC,EAAG,EAAG,EAAG,EAAG,EAAG,CAAC,EACjB,CAAC,EAAG,EAAG,EAAG,EAAG,EAAG,CAAC,EACjB,CAAC,EAAG,EAAG,EAAG,EAAG,EAAG,CAAC,EACjB,CAAC,EAAG,EAAG,EAAG,EAAG,EAAG,CAAC,EACjB,CAAC,EAAG,EAAG,EAAG,EAAG,EAAG,CAAC,EACjB,CAAC,EAAG,EAAG,EAAG,EAAG,EAAG,CAAC,EACjB,CAAC,EAAG,EAAG,EAAG,EAAG,EAAG,CAAC,EACjB,CAAC,EAAG,EAAG,EAAG,EAAG,EAAG,CAAC,EACjB,CAAC,EAAG,EAAG,EAAG,EAAG,EAAG,CAAC,EACjB,CAAC,EAAG,EAAG,EAAG,EAAG,EAAG,CAAC,EACjB,CAAC,EAAG,EAAG,EAAG,EAAG,EAAG,CAAC,EACjB,CAAC,EAAG,EAAG,EAAG,EAAG,EAAG,CAAC,EACjB,CAAC,EAAG,EAAG,EAAG,EAAG,EAAG,CAAC,EACjB,CAAC,EAAG,EAAG,EAAG,EAAG,EAAG,CAAC,EACjB,CAAC,EAAG,EAAG,EAAG,EAAG,EAAG,CAAC,EACjB,CAAC,EAAG,EAAG,EAAG,EAAG,EAAG,CAAC,EACjB,CAAC,EAAG,EAAG,EAAG,EAAG,EAAG,CAAC,EACjB,CAAC,EAAG,EAAG,EAAG,EAAG,EAAG,CAAC,EACjB,CAAC,EAAG,EAAG,EAAG,EAAG,EAAG,CAAC,EACjB,CAAC,EAAG,EAAG,EAAG,EAAG,EAAG,CAAC,EACjB,CAAC,EAAG,EAAG,EAAG,EAAG,EAAG,CAAC,EACjB,CAAC,EAAG,EAAG,EAAG,EAAG,EAAG,CAAC,E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","x_google_ignoreList":[0,1,2,3,4,5,6,7,8,9]}