import{r as o,Q as Y,G as E,l as ue,V as Ae,a6 as oe,a7 as at,a8 as jn,a9 as Tn,U as ct,aa as An,ab as _t,ac as fr,_ as st,ad as _n,ae as gr,af as Lt,ag as vr,a3 as rn,P as Ot,ah as an,ai as Pt,h as Ft,m as Mt,y as Ln,z as mr,i as G,aj as hr,J as pr,ak as Cr,K as Fn,N as on,al as rt,am as ln,an as Tt,ao as br,ap as qt,O as Ie,aq as Sr,a1 as Te,ar as yr,as as yt,w as Ut,at as Et,au as mn,W as sn,av as Vn,aw as it,ax as At,ay as xr,az as Bn,x as $r,aA as wr,k as zn,aB as Wn,aC as Kn,a4 as Yt,aD as qn,aE as Er,aF as Or,D as Pr,aG as hn,aH as Mr,aI as Rr,aJ as Dr,aK as pn,aL as Ir,u as Nr,F as St,j as ee,T as Hr,B as wt,t as Jt,f as Rt,v as kr,e as jr}from"./index-BcB6TR_P.js";import{R as Tr,a as Ar}from"./SearchOutlined-4AFhEHmm.js";import{M as Xt,R as _r}from"./DeleteOutlined-45iXn-ij.js";import{S as Lr,g as Xn,u as Fr,a as Vr,B as Br,b as zr,c as Wr,d as Kr,D as qr,m as Xr}from"./index-BM1-CXB8.js";import{a as Gr,R as Ur,P as Yr}from"./EditOutlined-BXMsr0xT.js";import{D as Jr}from"./index-B61hRUmL.js";import{T as Qr}from"./index-tykQouk4.js";import{c as Qt,a as Zr,U as ea,T as ta,i as na,g as ra,b as aa,S as oa,F as la}from"./Table-B3hNfghm.js";import{T as Cn}from"./index-DelqRfdy.js";import"./useClosable-Bjz1Rjzt.js";import"./DeleteOutlined-TdVZvq32.js";import"./dropdown-WlPtj15S.js";import"./Pagination-C5EEw3uv.js";function ia(e){var t="touches"in e?e.touches[0]:e,n=document.documentElement.scrollLeft||document.body.scrollLeft||window.pageXOffset,r=document.documentElement.scrollTop||document.body.scrollTop||window.pageYOffset;return{pageX:t.pageX-n,pageY:t.pageY-r}}function Gn(e){var t=e.targetRef,n=e.containerRef,r=e.direction,a=e.onDragChange,l=e.onDragChangeComplete,i=e.calculate,s=e.color,c=e.disabledDrag,u=o.useState({x:0,y:0}),d=Y(u,2),v=d[0],S=d[1],h=o.useRef(null),p=o.useRef(null);o.useEffect(function(){S(i())},[s]),o.useEffect(function(){return function(){document.removeEventListener("mousemove",h.current),document.removeEventListener("mouseup",p.current),document.removeEventListener("touchmove",h.current),document.removeEventListener("touchend",p.current),h.current=null,p.current=null}},[]);var m=function($){var x=ia($),O=x.pageX,y=x.pageY,P=n.current.getBoundingClientRect(),w=P.x,D=P.y,M=P.width,N=P.height,V=t.current.getBoundingClientRect(),R=V.width,H=V.height,T=R/2,k=H/2,W=Math.max(0,Math.min(O-w,M))-T,j=Math.max(0,Math.min(y-D,N))-k,de={x:W,y:r==="x"?v.y:j};if(R===0&&H===0||R!==H)return!1;a==null||a(de)},f=function($){$.preventDefault(),m($)},C=function($){$.preventDefault(),document.removeEventListener("mousemove",h.current),document.removeEventListener("mouseup",p.current),document.removeEventListener("touchmove",h.current),document.removeEventListener("touchend",p.current),h.current=null,p.current=null,l==null||l()},g=function($){document.removeEventListener("mousemove",h.current),document.removeEventListener("mouseup",p.current),!c&&(m($),document.addEventListener("mousemove",f),document.addEventListener("mouseup",C),document.addEventListener("touchmove",f),document.addEventListener("touchend",C),h.current=f,p.current=C)};return[v,g]}var Un=function(t){var n=t.size,r=n===void 0?"default":n,a=t.color,l=t.prefixCls;return E.createElement("div",{className:ue("".concat(l,"-handler"),Ae({},"".concat(l,"-handler-sm"),r==="small")),style:{backgroundColor:a}})},Yn=function(t){var n=t.children,r=t.style,a=t.prefixCls;return E.createElement("div",{className:"".concat(a,"-palette"),style:oe({position:"relative"},r)},n)},Jn=o.forwardRef(function(e,t){var n=e.children,r=e.x,a=e.y;return E.createElement("div",{ref:t,style:{position:"absolute",left:"".concat(r,"%"),top:"".concat(a,"%"),zIndex:1,transform:"translate(-50%, -50%)"}},n)}),sa=function(t){var n=t.color,r=t.onChange,a=t.prefixCls,l=t.onChangeComplete,i=t.disabled,s=o.useRef(),c=o.useRef(),u=o.useRef(n),d=at(function(m){var f=jn({offset:m,targetRef:c,containerRef:s,color:n});u.current=f,r(f)}),v=Gn({color:n,containerRef:s,targetRef:c,calculate:function(){return Tn(n)},onDragChange:d,onDragChangeComplete:function(){return l==null?void 0:l(u.current)},disabledDrag:i}),S=Y(v,2),h=S[0],p=S[1];return E.createElement("div",{ref:s,className:"".concat(a,"-select"),onMouseDown:p,onTouchStart:p},E.createElement(Yn,{prefixCls:a},E.createElement(Jn,{x:h.x,y:h.y,ref:c},E.createElement(Un,{color:n.toRgbString(),prefixCls:a})),E.createElement("div",{className:"".concat(a,"-saturation"),style:{backgroundColor:"hsl(".concat(n.toHsb().h,",100%, 50%)"),backgroundImage:"linear-gradient(0deg, #000, transparent),linear-gradient(90deg, #fff, hsla(0, 0%, 100%, 0))"}})))},ca=function(t,n){var r=ct(t,{value:n}),a=Y(r,2),l=a[0],i=a[1],s=o.useMemo(function(){return An(l)},[l]);return[s,i]},ua=function(t){var n=t.colors,r=t.children,a=t.direction,l=a===void 0?"to right":a,i=t.type,s=t.prefixCls,c=o.useMemo(function(){return n.map(function(u,d){var v=An(u);return i==="alpha"&&d===n.length-1&&(v=new _t(v.setA(1))),v.toRgbString()}).join(",")},[n,i]);return E.createElement("div",{className:"".concat(s,"-gradient"),style:{position:"absolute",inset:0,background:"linear-gradient(".concat(l,", ").concat(c,")")}},r)},da=function(t){var n=t.prefixCls,r=t.colors,a=t.disabled,l=t.onChange,i=t.onChangeComplete,s=t.color,c=t.type,u=o.useRef(),d=o.useRef(),v=o.useRef(s),S=function(x){return c==="hue"?x.getHue():x.a*100},h=at(function($){var x=jn({offset:$,targetRef:d,containerRef:u,color:s,type:c});v.current=x,l(S(x))}),p=Gn({color:s,targetRef:d,containerRef:u,calculate:function(){return Tn(s,c)},onDragChange:h,onDragChangeComplete:function(){i(S(v.current))},direction:"x",disabledDrag:a}),m=Y(p,2),f=m[0],C=m[1],g=E.useMemo(function(){if(c==="hue"){var $=s.toHsb();$.s=1,$.b=1,$.a=1;var x=new _t($);return x}return s},[s,c]),b=E.useMemo(function(){return r.map(function($){return"".concat($.color," ").concat($.percent,"%")})},[r]);return E.createElement("div",{ref:u,className:ue("".concat(n,"-slider"),"".concat(n,"-slider-").concat(c)),onMouseDown:C,onTouchStart:C},E.createElement(Yn,{prefixCls:n},E.createElement(Jn,{x:f.x,y:f.y,ref:d},E.createElement(Un,{size:"small",color:g.toHexString(),prefixCls:n})),E.createElement(ua,{colors:b,type:c,prefixCls:n})))};function fa(e){return o.useMemo(function(){var t=e||{},n=t.slider;return[n||da]},[e])}var ga=[{color:"rgb(255, 0, 0)",percent:0},{color:"rgb(255, 255, 0)",percent:17},{color:"rgb(0, 255, 0)",percent:33},{color:"rgb(0, 255, 255)",percent:50},{color:"rgb(0, 0, 255)",percent:67},{color:"rgb(255, 0, 255)",percent:83},{color:"rgb(255, 0, 0)",percent:100}],va=o.forwardRef(function(e,t){var n=e.value,r=e.defaultValue,a=e.prefixCls,l=a===void 0?fr:a,i=e.onChange,s=e.onChangeComplete,c=e.className,u=e.style,d=e.panelRender,v=e.disabledAlpha,S=v===void 0?!1:v,h=e.disabled,p=h===void 0?!1:h,m=e.components,f=fa(m),C=Y(f,1),g=C[0],b=ca(r||gr,n),$=Y(b,2),x=$[0],O=$[1],y=o.useMemo(function(){return x.setA(1).toRgbString()},[x]),P=function(j,de){n||O(j),i==null||i(j,de)},w=function(j){return new _t(x.setHue(j))},D=function(j){return new _t(x.setA(j/100))},M=function(j){P(w(j),{type:"hue",value:j})},N=function(j){P(D(j),{type:"alpha",value:j})},V=function(j){s&&s(w(j))},R=function(j){s&&s(D(j))},H=ue("".concat(l,"-panel"),c,Ae({},"".concat(l,"-panel-disabled"),p)),T={prefixCls:l,disabled:p,color:x},k=E.createElement(E.Fragment,null,E.createElement(sa,st({onChange:P},T,{onChangeComplete:s})),E.createElement("div",{className:"".concat(l,"-slider-container")},E.createElement("div",{className:ue("".concat(l,"-slider-group"),Ae({},"".concat(l,"-slider-group-disabled-alpha"),S))},E.createElement(g,st({},T,{type:"hue",colors:ga,min:0,max:359,value:x.getHue(),onChange:M,onChangeComplete:V})),!S&&E.createElement(g,st({},T,{type:"alpha",colors:[{percent:0,color:"rgba(255, 0, 4, 0)"},{percent:100,color:y}],min:0,max:100,value:x.a*100,onChange:N,onChangeComplete:R}))),E.createElement(_n,{color:x.toRgbString(),prefixCls:l})));return E.createElement("div",{className:H,style:u,ref:t},typeof d=="function"?d(k):k)}),bn=function(t,n){if(!t)return null;var r={left:t.offsetLeft,right:t.parentElement.clientWidth-t.clientWidth-t.offsetLeft,width:t.clientWidth,top:t.offsetTop,bottom:t.parentElement.clientHeight-t.clientHeight-t.offsetTop,height:t.clientHeight};return n?{left:0,right:0,width:0,top:r.top,bottom:r.bottom,height:r.height}:{left:r.left,right:r.right,width:r.width,top:0,bottom:0,height:0}},lt=function(t){return t!==void 0?"".concat(t,"px"):void 0};function ma(e){var t=e.prefixCls,n=e.containerRef,r=e.value,a=e.getValueIndex,l=e.motionName,i=e.onMotionStart,s=e.onMotionEnd,c=e.direction,u=e.vertical,d=u===void 0?!1:u,v=o.useRef(null),S=o.useState(r),h=Y(S,2),p=h[0],m=h[1],f=function(H){var T,k=a(H),W=(T=n.current)===null||T===void 0?void 0:T.querySelectorAll(".".concat(t,"-item"))[k];return(W==null?void 0:W.offsetParent)&&W},C=o.useState(null),g=Y(C,2),b=g[0],$=g[1],x=o.useState(null),O=Y(x,2),y=O[0],P=O[1];Lt(function(){if(p!==r){var R=f(p),H=f(r),T=bn(R,d),k=bn(H,d);m(r),$(T),P(k),R&&H?i():s()}},[r]);var w=o.useMemo(function(){if(d){var R;return lt((R=b==null?void 0:b.top)!==null&&R!==void 0?R:0)}return lt(c==="rtl"?-(b==null?void 0:b.right):b==null?void 0:b.left)},[d,c,b]),D=o.useMemo(function(){if(d){var R;return lt((R=y==null?void 0:y.top)!==null&&R!==void 0?R:0)}return lt(c==="rtl"?-(y==null?void 0:y.right):y==null?void 0:y.left)},[d,c,y]),M=function(){return d?{transform:"translateY(var(--thumb-start-top))",height:"var(--thumb-start-height)"}:{transform:"translateX(var(--thumb-start-left))",width:"var(--thumb-start-width)"}},N=function(){return d?{transform:"translateY(var(--thumb-active-top))",height:"var(--thumb-active-height)"}:{transform:"translateX(var(--thumb-active-left))",width:"var(--thumb-active-width)"}},V=function(){$(null),P(null),s()};return!b||!y?null:o.createElement(vr,{visible:!0,motionName:l,motionAppear:!0,onAppearStart:M,onAppearActive:N,onVisibleChanged:V},function(R,H){var T=R.className,k=R.style,W=oe(oe({},k),{},{"--thumb-start-left":w,"--thumb-start-width":lt(b==null?void 0:b.width),"--thumb-active-left":D,"--thumb-active-width":lt(y==null?void 0:y.width),"--thumb-start-top":w,"--thumb-start-height":lt(b==null?void 0:b.height),"--thumb-active-top":D,"--thumb-active-height":lt(y==null?void 0:y.height)}),j={ref:rn(v,H),style:W,className:ue("".concat(t,"-thumb"),T)};return o.createElement("div",j)})}var ha=["prefixCls","direction","vertical","options","disabled","defaultValue","value","name","onChange","className","motionName"];function pa(e){if(typeof e.title<"u")return e.title;if(Pt(e.label)!=="object"){var t;return(t=e.label)===null||t===void 0?void 0:t.toString()}}function Ca(e){return e.map(function(t){if(Pt(t)==="object"&&t!==null){var n=pa(t);return oe(oe({},t),{},{title:n})}return{label:t==null?void 0:t.toString(),title:t==null?void 0:t.toString(),value:t}})}var ba=function(t){var n=t.prefixCls,r=t.className,a=t.disabled,l=t.checked,i=t.label,s=t.title,c=t.value,u=t.name,d=t.onChange,v=t.onFocus,S=t.onBlur,h=t.onKeyDown,p=t.onKeyUp,m=t.onMouseDown,f=function(g){a||d(g,c)};return o.createElement("label",{className:ue(r,Ae({},"".concat(n,"-item-disabled"),a)),onMouseDown:m},o.createElement("input",{name:u,className:"".concat(n,"-item-input"),type:"radio",disabled:a,checked:l,onChange:f,onFocus:v,onBlur:S,onKeyDown:h,onKeyUp:p}),o.createElement("div",{className:"".concat(n,"-item-label"),title:s,"aria-selected":l},i))},Sa=o.forwardRef(function(e,t){var n,r,a=e.prefixCls,l=a===void 0?"rc-segmented":a,i=e.direction,s=e.vertical,c=e.options,u=c===void 0?[]:c,d=e.disabled,v=e.defaultValue,S=e.value,h=e.name,p=e.onChange,m=e.className,f=m===void 0?"":m,C=e.motionName,g=C===void 0?"thumb-motion":C,b=Ot(e,ha),$=o.useRef(null),x=o.useMemo(function(){return rn($,t)},[$,t]),O=o.useMemo(function(){return Ca(u)},[u]),y=ct((n=O[0])===null||n===void 0?void 0:n.value,{value:S,defaultValue:v}),P=Y(y,2),w=P[0],D=P[1],M=o.useState(!1),N=Y(M,2),V=N[0],R=N[1],H=function(K,ge){D(ge),p==null||p(ge)},T=an(b,["children"]),k=o.useState(!1),W=Y(k,2),j=W[0],de=W[1],me=o.useState(!1),fe=Y(me,2),$e=fe[0],he=fe[1],Q=function(){he(!0)},A=function(){he(!1)},L=function(){de(!1)},te=function(K){K.key==="Tab"&&de(!0)},pe=function(K){var ge=O.findIndex(function(Ne){return Ne.value===w}),we=O.length,Re=(ge+K+we)%we,le=O[Re];le&&(D(le.value),p==null||p(le.value))},B=function(K){switch(K.key){case"ArrowLeft":case"ArrowUp":pe(-1);break;case"ArrowRight":case"ArrowDown":pe(1);break}};return o.createElement("div",st({role:"radiogroup","aria-label":"segmented control",tabIndex:d?void 0:0},T,{className:ue(l,(r={},Ae(r,"".concat(l,"-rtl"),i==="rtl"),Ae(r,"".concat(l,"-disabled"),d),Ae(r,"".concat(l,"-vertical"),s),r),f),ref:x}),o.createElement("div",{className:"".concat(l,"-group")},o.createElement(ma,{vertical:s,prefixCls:l,value:w,containerRef:$,motionName:"".concat(l,"-").concat(g),direction:i,getValueIndex:function(K){return O.findIndex(function(ge){return ge.value===K})},onMotionStart:function(){R(!0)},onMotionEnd:function(){R(!1)}}),O.map(function(z){var K;return o.createElement(ba,st({},z,{name:h,key:z.value,prefixCls:l,className:ue(z.className,"".concat(l,"-item"),(K={},Ae(K,"".concat(l,"-item-selected"),z.value===w&&!V),Ae(K,"".concat(l,"-item-focused"),$e&&j&&z.value===w),K)),checked:z.value===w,onChange:H,onFocus:Q,onBlur:A,onKeyDown:B,onKeyUp:te,onMouseDown:L,disabled:!!d||!!z.disabled}))})))}),ya=Sa;function Sn(e,t){return{[`${e}, ${e}:hover, ${e}:focus`]:{color:t.colorTextDisabled,cursor:"not-allowed"}}}function yn(e){return{backgroundColor:e.itemSelectedBg,boxShadow:e.boxShadowTertiary}}const xa=Object.assign({overflow:"hidden"},pr),$a=e=>{const{componentCls:t}=e,n=e.calc(e.controlHeight).sub(e.calc(e.trackPadding).mul(2)).equal(),r=e.calc(e.controlHeightLG).sub(e.calc(e.trackPadding).mul(2)).equal(),a=e.calc(e.controlHeightSM).sub(e.calc(e.trackPadding).mul(2)).equal();return{[t]:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},Ln(e)),{display:"inline-block",padding:e.trackPadding,color:e.itemColor,background:e.trackBg,borderRadius:e.borderRadius,transition:`all ${e.motionDurationMid} ${e.motionEaseInOut}`}),mr(e)),{[`${t}-group`]:{position:"relative",display:"flex",alignItems:"stretch",justifyItems:"flex-start",flexDirection:"row",width:"100%"},[`&${t}-rtl`]:{direction:"rtl"},[`&${t}-vertical`]:{[`${t}-group`]:{flexDirection:"column"},[`${t}-thumb`]:{width:"100%",height:0,padding:`0 ${G(e.paddingXXS)}`}},[`&${t}-block`]:{display:"flex"},[`&${t}-block ${t}-item`]:{flex:1,minWidth:0},[`${t}-item`]:{position:"relative",textAlign:"center",cursor:"pointer",transition:`color ${e.motionDurationMid} ${e.motionEaseInOut}`,borderRadius:e.borderRadiusSM,transform:"translateZ(0)","&-selected":Object.assign(Object.assign({},yn(e)),{color:e.itemSelectedColor}),"&-focused":Object.assign({},hr(e)),"&::after":{content:'""',position:"absolute",zIndex:-1,width:"100%",height:"100%",top:0,insetInlineStart:0,borderRadius:"inherit",opacity:0,transition:`opacity ${e.motionDurationMid}`,pointerEvents:"none"},[`&:hover:not(${t}-item-selected):not(${t}-item-disabled)`]:{color:e.itemHoverColor,"&::after":{opacity:1,backgroundColor:e.itemHoverBg}},[`&:active:not(${t}-item-selected):not(${t}-item-disabled)`]:{color:e.itemHoverColor,"&::after":{opacity:1,backgroundColor:e.itemActiveBg}},"&-label":Object.assign({minHeight:n,lineHeight:G(n),padding:`0 ${G(e.segmentedPaddingHorizontal)}`},xa),"&-icon + *":{marginInlineStart:e.calc(e.marginSM).div(2).equal()},"&-input":{position:"absolute",insetBlockStart:0,insetInlineStart:0,width:0,height:0,opacity:0,pointerEvents:"none"}},[`${t}-thumb`]:Object.assign(Object.assign({},yn(e)),{position:"absolute",insetBlockStart:0,insetInlineStart:0,width:0,height:"100%",padding:`${G(e.paddingXXS)} 0`,borderRadius:e.borderRadiusSM,transition:`transform ${e.motionDurationSlow} ${e.motionEaseInOut}, height ${e.motionDurationSlow} ${e.motionEaseInOut}`,[`& ~ ${t}-item:not(${t}-item-selected):not(${t}-item-disabled)::after`]:{backgroundColor:"transparent"}}),[`&${t}-lg`]:{borderRadius:e.borderRadiusLG,[`${t}-item-label`]:{minHeight:r,lineHeight:G(r),padding:`0 ${G(e.segmentedPaddingHorizontal)}`,fontSize:e.fontSizeLG},[`${t}-item, ${t}-thumb`]:{borderRadius:e.borderRadius}},[`&${t}-sm`]:{borderRadius:e.borderRadiusSM,[`${t}-item-label`]:{minHeight:a,lineHeight:G(a),padding:`0 ${G(e.segmentedPaddingHorizontalSM)}`},[`${t}-item, ${t}-thumb`]:{borderRadius:e.borderRadiusXS}}}),Sn(`&-disabled ${t}-item`,e)),Sn(`${t}-item-disabled`,e)),{[`${t}-thumb-motion-appear-active`]:{transition:`transform ${e.motionDurationSlow} ${e.motionEaseInOut}, width ${e.motionDurationSlow} ${e.motionEaseInOut}`,willChange:"transform, width"},[`&${t}-shape-round`]:{borderRadius:9999,[`${t}-item, ${t}-thumb`]:{borderRadius:9999}}})}},wa=e=>{const{colorTextLabel:t,colorText:n,colorFillSecondary:r,colorBgElevated:a,colorFill:l,lineWidthBold:i,colorBgLayout:s}=e;return{trackPadding:i,trackBg:s,itemColor:t,itemHoverColor:n,itemHoverBg:r,itemSelectedBg:a,itemActiveBg:l,itemSelectedColor:n}},Ea=Ft("Segmented",e=>{const{lineWidth:t,calc:n}=e,r=Mt(e,{segmentedPaddingHorizontal:n(e.controlPaddingHorizontal).sub(t).equal(),segmentedPaddingHorizontalSM:n(e.controlPaddingHorizontalSM).sub(t).equal()});return[$a(r)]},wa);var xn=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,r=Object.getOwnPropertySymbols(e);a<r.length;a++)t.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(n[r[a]]=e[r[a]]);return n};function Oa(e){return typeof e=="object"&&!!(e!=null&&e.icon)}const Pa=o.forwardRef((e,t)=>{const n=Cr(),{prefixCls:r,className:a,rootClassName:l,block:i,options:s=[],size:c="middle",style:u,vertical:d,shape:v="default",name:S=n}=e,h=xn(e,["prefixCls","className","rootClassName","block","options","size","style","vertical","shape","name"]),{getPrefixCls:p,direction:m,className:f,style:C}=Fn("segmented"),g=p("segmented",r),[b,$,x]=Ea(g),O=on(c),y=o.useMemo(()=>s.map(D=>{if(Oa(D)){const{icon:M,label:N}=D,V=xn(D,["icon","label"]);return Object.assign(Object.assign({},V),{label:o.createElement(o.Fragment,null,o.createElement("span",{className:`${g}-item-icon`},M),N&&o.createElement("span",null,N))})}return D}),[s,g]),P=ue(a,l,f,{[`${g}-block`]:i,[`${g}-sm`]:O==="small",[`${g}-lg`]:O==="large",[`${g}-vertical`]:d,[`${g}-shape-${v}`]:v==="round"},$,x),w=Object.assign(Object.assign({},C),u);return b(o.createElement(ya,Object.assign({},h,{name:S,className:P,style:w,options:y,ref:t,prefixCls:g,direction:m,vertical:d})))}),Ma=Pa,Qn=E.createContext({}),Zn=E.createContext({}),er=e=>{let{prefixCls:t,value:n,onChange:r}=e;const a=()=>{if(r&&n&&!n.cleared){const l=n.toHsb();l.a=0;const i=rt(l);i.cleared=!0,r(i)}};return E.createElement("div",{className:`${t}-clear`,onClick:a})},tr="hex",nr="rgb",rr="hsb",mt=e=>{let{prefixCls:t,min:n=0,max:r=100,value:a,onChange:l,className:i,formatter:s}=e;const c=`${t}-steppers`,[u,d]=o.useState(a);return o.useEffect(()=>{Number.isNaN(a)||d(a)},[a]),E.createElement(Qr,{className:ue(c,i),min:n,max:r,value:u,formatter:s,size:"small",onChange:v=>{a||d(v||0),l==null||l(v)}})},Ra=e=>{let{prefixCls:t,value:n,onChange:r}=e;const a=`${t}-alpha-input`,[l,i]=o.useState(rt(n||"#000"));o.useEffect(()=>{n&&i(n)},[n]);const s=c=>{const u=l.toHsb();u.a=(c||0)/100;const d=rt(u);n||i(d),r==null||r(d)};return E.createElement(mt,{value:ln(l),prefixCls:t,formatter:c=>`${c}%`,className:a,onChange:s})},Da=/(^#[\da-f]{6}$)|(^#[\da-f]{8}$)/i,Ia=e=>Da.test(`#${e}`),Na=e=>{let{prefixCls:t,value:n,onChange:r}=e;const a=`${t}-hex-input`,[l,i]=o.useState(()=>n?Tt(n.toHexString()):void 0);o.useEffect(()=>{n&&i(Tt(n.toHexString()))},[n]);const s=c=>{const u=c.target.value;i(Tt(u)),Ia(Tt(u,!0))&&(r==null||r(rt(u)))};return E.createElement(br,{className:a,value:l,prefix:"#",onChange:s,size:"small"})},Ha=e=>{let{prefixCls:t,value:n,onChange:r}=e;const a=`${t}-hsb-input`,[l,i]=o.useState(rt(n||"#000"));o.useEffect(()=>{n&&i(n)},[n]);const s=(c,u)=>{const d=l.toHsb();d[u]=u==="h"?c:(c||0)/100;const v=rt(d);n||i(v),r==null||r(v)};return E.createElement("div",{className:a},E.createElement(mt,{max:360,min:0,value:Number(l.toHsb().h),prefixCls:t,className:a,formatter:c=>qt(c||0).toString(),onChange:c=>s(Number(c),"h")}),E.createElement(mt,{max:100,min:0,value:Number(l.toHsb().s)*100,prefixCls:t,className:a,formatter:c=>`${qt(c||0)}%`,onChange:c=>s(Number(c),"s")}),E.createElement(mt,{max:100,min:0,value:Number(l.toHsb().b)*100,prefixCls:t,className:a,formatter:c=>`${qt(c||0)}%`,onChange:c=>s(Number(c),"b")}))},ka=e=>{let{prefixCls:t,value:n,onChange:r}=e;const a=`${t}-rgb-input`,[l,i]=o.useState(rt(n||"#000"));o.useEffect(()=>{n&&i(n)},[n]);const s=(c,u)=>{const d=l.toRgb();d[u]=c||0;const v=rt(d);n||i(v),r==null||r(v)};return E.createElement("div",{className:a},E.createElement(mt,{max:255,min:0,value:Number(l.toRgb().r),prefixCls:t,className:a,onChange:c=>s(Number(c),"r")}),E.createElement(mt,{max:255,min:0,value:Number(l.toRgb().g),prefixCls:t,className:a,onChange:c=>s(Number(c),"g")}),E.createElement(mt,{max:255,min:0,value:Number(l.toRgb().b),prefixCls:t,className:a,onChange:c=>s(Number(c),"b")}))},ja=[tr,rr,nr].map(e=>({value:e,label:e.toUpperCase()})),Ta=e=>{const{prefixCls:t,format:n,value:r,disabledAlpha:a,onFormatChange:l,onChange:i,disabledFormat:s}=e,[c,u]=ct(tr,{value:n,onChange:l}),d=`${t}-input`,v=h=>{u(h)},S=o.useMemo(()=>{const h={value:r,prefixCls:t,onChange:i};switch(c){case rr:return E.createElement(Ha,Object.assign({},h));case nr:return E.createElement(ka,Object.assign({},h));default:return E.createElement(Na,Object.assign({},h))}},[c,t,r,i]);return E.createElement("div",{className:`${d}-container`},!s&&E.createElement(Lr,{value:c,variant:"borderless",getPopupContainer:h=>h,popupMatchSelectWidth:68,placement:"bottomRight",onChange:v,className:`${t}-format-select`,size:"small",options:ja}),E.createElement("div",{className:d},S),!a&&E.createElement(Ra,{prefixCls:t,value:r,onChange:i}))};function Zt(e,t,n){return(e-t)/(n-t)}function cn(e,t,n,r){var a=Zt(t,n,r),l={};switch(e){case"rtl":l.right="".concat(a*100,"%"),l.transform="translateX(50%)";break;case"btt":l.bottom="".concat(a*100,"%"),l.transform="translateY(50%)";break;case"ttb":l.top="".concat(a*100,"%"),l.transform="translateY(-50%)";break;default:l.left="".concat(a*100,"%"),l.transform="translateX(-50%)";break}return l}function vt(e,t){return Array.isArray(e)?e[t]:e}var ht=o.createContext({min:0,max:0,direction:"ltr",step:1,includedStart:0,includedEnd:0,tabIndex:0,keyboard:!0,styles:{},classNames:{}}),ar=o.createContext({}),Aa=["prefixCls","value","valueIndex","onStartMove","onDelete","style","render","dragging","draggingDelete","onOffsetChange","onChangeComplete","onFocus","onMouseEnter"],$n=o.forwardRef(function(e,t){var n=e.prefixCls,r=e.value,a=e.valueIndex,l=e.onStartMove,i=e.onDelete,s=e.style,c=e.render,u=e.dragging,d=e.draggingDelete,v=e.onOffsetChange,S=e.onChangeComplete,h=e.onFocus,p=e.onMouseEnter,m=Ot(e,Aa),f=o.useContext(ht),C=f.min,g=f.max,b=f.direction,$=f.disabled,x=f.keyboard,O=f.range,y=f.tabIndex,P=f.ariaLabelForHandle,w=f.ariaLabelledByForHandle,D=f.ariaRequired,M=f.ariaValueTextFormatterForHandle,N=f.styles,V=f.classNames,R="".concat(n,"-handle"),H=function(Q){$||l(Q,a)},T=function(Q){h==null||h(Q,a)},k=function(Q){p(Q,a)},W=function(Q){if(!$&&x){var A=null;switch(Q.which||Q.keyCode){case Ie.LEFT:A=b==="ltr"||b==="btt"?-1:1;break;case Ie.RIGHT:A=b==="ltr"||b==="btt"?1:-1;break;case Ie.UP:A=b!=="ttb"?1:-1;break;case Ie.DOWN:A=b!=="ttb"?-1:1;break;case Ie.HOME:A="min";break;case Ie.END:A="max";break;case Ie.PAGE_UP:A=2;break;case Ie.PAGE_DOWN:A=-2;break;case Ie.BACKSPACE:case Ie.DELETE:i(a);break}A!==null&&(Q.preventDefault(),v(A,a))}},j=function(Q){switch(Q.which||Q.keyCode){case Ie.LEFT:case Ie.RIGHT:case Ie.UP:case Ie.DOWN:case Ie.HOME:case Ie.END:case Ie.PAGE_UP:case Ie.PAGE_DOWN:S==null||S();break}},de=cn(b,r,C,g),me={};if(a!==null){var fe;me={tabIndex:$?null:vt(y,a),role:"slider","aria-valuemin":C,"aria-valuemax":g,"aria-valuenow":r,"aria-disabled":$,"aria-label":vt(P,a),"aria-labelledby":vt(w,a),"aria-required":vt(D,a),"aria-valuetext":(fe=vt(M,a))===null||fe===void 0?void 0:fe(r),"aria-orientation":b==="ltr"||b==="rtl"?"horizontal":"vertical",onMouseDown:H,onTouchStart:H,onFocus:T,onMouseEnter:k,onKeyDown:W,onKeyUp:j}}var $e=o.createElement("div",st({ref:t,className:ue(R,Ae(Ae(Ae({},"".concat(R,"-").concat(a+1),a!==null&&O),"".concat(R,"-dragging"),u),"".concat(R,"-dragging-delete"),d),V.handle),style:oe(oe(oe({},de),s),N.handle)},me,m));return c&&($e=c($e,{index:a,prefixCls:n,value:r,dragging:u,draggingDelete:d})),$e}),_a=["prefixCls","style","onStartMove","onOffsetChange","values","handleRender","activeHandleRender","draggingIndex","draggingDelete","onFocus"],La=o.forwardRef(function(e,t){var n=e.prefixCls,r=e.style,a=e.onStartMove,l=e.onOffsetChange,i=e.values,s=e.handleRender,c=e.activeHandleRender,u=e.draggingIndex,d=e.draggingDelete,v=e.onFocus,S=Ot(e,_a),h=o.useRef({}),p=o.useState(!1),m=Y(p,2),f=m[0],C=m[1],g=o.useState(-1),b=Y(g,2),$=b[0],x=b[1],O=function(M){x(M),C(!0)},y=function(M,N){O(N),v==null||v(M)},P=function(M,N){O(N)};o.useImperativeHandle(t,function(){return{focus:function(M){var N;(N=h.current[M])===null||N===void 0||N.focus()},hideHelp:function(){Sr.flushSync(function(){C(!1)})}}});var w=oe({prefixCls:n,onStartMove:a,onOffsetChange:l,render:s,onFocus:y,onMouseEnter:P},S);return o.createElement(o.Fragment,null,i.map(function(D,M){var N=u===M;return o.createElement($n,st({ref:function(R){R?h.current[M]=R:delete h.current[M]},dragging:N,draggingDelete:N&&d,style:vt(r,M),key:M,value:D,valueIndex:M},w))}),c&&f&&o.createElement($n,st({key:"a11y"},w,{value:i[$],valueIndex:null,dragging:u!==-1,draggingDelete:d,render:c,style:{pointerEvents:"none"},tabIndex:null,"aria-hidden":!0})))}),Fa=function(t){var n=t.prefixCls,r=t.style,a=t.children,l=t.value,i=t.onClick,s=o.useContext(ht),c=s.min,u=s.max,d=s.direction,v=s.includedStart,S=s.includedEnd,h=s.included,p="".concat(n,"-text"),m=cn(d,l,c,u);return o.createElement("span",{className:ue(p,Ae({},"".concat(p,"-active"),h&&v<=l&&l<=S)),style:oe(oe({},m),r),onMouseDown:function(C){C.stopPropagation()},onClick:function(){i(l)}},a)},Va=function(t){var n=t.prefixCls,r=t.marks,a=t.onClick,l="".concat(n,"-mark");return r.length?o.createElement("div",{className:l},r.map(function(i){var s=i.value,c=i.style,u=i.label;return o.createElement(Fa,{key:s,prefixCls:l,style:c,value:s,onClick:a},u)})):null},Ba=function(t){var n=t.prefixCls,r=t.value,a=t.style,l=t.activeStyle,i=o.useContext(ht),s=i.min,c=i.max,u=i.direction,d=i.included,v=i.includedStart,S=i.includedEnd,h="".concat(n,"-dot"),p=d&&v<=r&&r<=S,m=oe(oe({},cn(u,r,s,c)),typeof a=="function"?a(r):a);return p&&(m=oe(oe({},m),typeof l=="function"?l(r):l)),o.createElement("span",{className:ue(h,Ae({},"".concat(h,"-active"),p)),style:m})},za=function(t){var n=t.prefixCls,r=t.marks,a=t.dots,l=t.style,i=t.activeStyle,s=o.useContext(ht),c=s.min,u=s.max,d=s.step,v=o.useMemo(function(){var S=new Set;if(r.forEach(function(p){S.add(p.value)}),a&&d!==null)for(var h=c;h<=u;)S.add(h),h+=d;return Array.from(S)},[c,u,d,a,r]);return o.createElement("div",{className:"".concat(n,"-step")},v.map(function(S){return o.createElement(Ba,{prefixCls:n,key:S,value:S,style:l,activeStyle:i})}))},wn=function(t){var n=t.prefixCls,r=t.style,a=t.start,l=t.end,i=t.index,s=t.onStartMove,c=t.replaceCls,u=o.useContext(ht),d=u.direction,v=u.min,S=u.max,h=u.disabled,p=u.range,m=u.classNames,f="".concat(n,"-track"),C=Zt(a,v,S),g=Zt(l,v,S),b=function(y){!h&&s&&s(y,-1)},$={};switch(d){case"rtl":$.right="".concat(C*100,"%"),$.width="".concat(g*100-C*100,"%");break;case"btt":$.bottom="".concat(C*100,"%"),$.height="".concat(g*100-C*100,"%");break;case"ttb":$.top="".concat(C*100,"%"),$.height="".concat(g*100-C*100,"%");break;default:$.left="".concat(C*100,"%"),$.width="".concat(g*100-C*100,"%")}var x=c||ue(f,Ae(Ae({},"".concat(f,"-").concat(i+1),i!==null&&p),"".concat(n,"-track-draggable"),s),m.track);return o.createElement("div",{className:x,style:oe(oe({},$),r),onMouseDown:b,onTouchStart:b})},Wa=function(t){var n=t.prefixCls,r=t.style,a=t.values,l=t.startPoint,i=t.onStartMove,s=o.useContext(ht),c=s.included,u=s.range,d=s.min,v=s.styles,S=s.classNames,h=o.useMemo(function(){if(!u){if(a.length===0)return[];var m=l??d,f=a[0];return[{start:Math.min(m,f),end:Math.max(m,f)}]}for(var C=[],g=0;g<a.length-1;g+=1)C.push({start:a[g],end:a[g+1]});return C},[a,u,l,d]);if(!c)return null;var p=h!=null&&h.length&&(S.tracks||v.tracks)?o.createElement(wn,{index:null,prefixCls:n,start:h[0].start,end:h[h.length-1].end,replaceCls:ue(S.tracks,"".concat(n,"-tracks")),style:v.tracks}):null;return o.createElement(o.Fragment,null,p,h.map(function(m,f){var C=m.start,g=m.end;return o.createElement(wn,{index:f,prefixCls:n,style:oe(oe({},vt(r,f)),v.track),start:C,end:g,key:f,onStartMove:i})}))},Ka=130;function En(e){var t="targetTouches"in e?e.targetTouches[0]:e;return{pageX:t.pageX,pageY:t.pageY}}function qa(e,t,n,r,a,l,i,s,c,u,d){var v=o.useState(null),S=Y(v,2),h=S[0],p=S[1],m=o.useState(-1),f=Y(m,2),C=f[0],g=f[1],b=o.useState(!1),$=Y(b,2),x=$[0],O=$[1],y=o.useState(n),P=Y(y,2),w=P[0],D=P[1],M=o.useState(n),N=Y(M,2),V=N[0],R=N[1],H=o.useRef(null),T=o.useRef(null),k=o.useRef(null),W=o.useContext(ar),j=W.onDragStart,de=W.onDragChange;Lt(function(){C===-1&&D(n)},[n,C]),o.useEffect(function(){return function(){document.removeEventListener("mousemove",H.current),document.removeEventListener("mouseup",T.current),k.current&&(k.current.removeEventListener("touchmove",H.current),k.current.removeEventListener("touchend",T.current))}},[]);var me=function(A,L,te){L!==void 0&&p(L),D(A);var pe=A;te&&(pe=A.filter(function(B,z){return z!==C})),i(pe),de&&de({rawValues:A,deleteIndex:te?C:-1,draggingIndex:C,draggingValue:L})},fe=at(function(Q,A,L){if(Q===-1){var te=V[0],pe=V[V.length-1],B=r-te,z=a-pe,K=A*(a-r);K=Math.max(K,B),K=Math.min(K,z);var ge=l(te+K);K=ge-te;var we=V.map(function(He){return He+K});me(we)}else{var Re=(a-r)*A,le=Te(w);le[Q]=V[Q];var Ne=c(le,Re,Q,"dist");me(Ne.values,Ne.value,L)}}),$e=function(A,L,te){A.stopPropagation();var pe=te||n,B=pe[L];g(L),p(B),R(pe),D(pe),O(!1);var z=En(A),K=z.pageX,ge=z.pageY,we=!1;j&&j({rawValues:pe,draggingIndex:L,draggingValue:B});var Re=function(He){He.preventDefault();var De=En(He),_e=De.pageX,Le=De.pageY,Fe=_e-K,ve=Le-ge,ne=e.current.getBoundingClientRect(),Ee=ne.width,Oe=ne.height,Ve,Ce;switch(t){case"btt":Ve=-ve/Oe,Ce=Fe;break;case"ttb":Ve=ve/Oe,Ce=Fe;break;case"rtl":Ve=-Fe/Ee,Ce=ve;break;default:Ve=Fe/Ee,Ce=ve}we=u?Math.abs(Ce)>Ka&&d<w.length:!1,O(we),fe(L,Ve,we)},le=function Ne(He){He.preventDefault(),document.removeEventListener("mouseup",Ne),document.removeEventListener("mousemove",Re),k.current&&(k.current.removeEventListener("touchmove",H.current),k.current.removeEventListener("touchend",T.current)),H.current=null,T.current=null,k.current=null,s(we),g(-1),O(!1)};document.addEventListener("mouseup",le),document.addEventListener("mousemove",Re),A.currentTarget.addEventListener("touchend",le),A.currentTarget.addEventListener("touchmove",Re),H.current=Re,T.current=le,k.current=A.currentTarget},he=o.useMemo(function(){var Q=Te(n).sort(function(B,z){return B-z}),A=Te(w).sort(function(B,z){return B-z}),L={};A.forEach(function(B){L[B]=(L[B]||0)+1}),Q.forEach(function(B){L[B]=(L[B]||0)-1});var te=u?1:0,pe=Object.values(L).reduce(function(B,z){return B+Math.abs(z)},0);return pe<=te?w:n},[n,w,u]);return[C,h,x,he,$e]}function Xa(e,t,n,r,a,l){var i=o.useCallback(function(h){return Math.max(e,Math.min(t,h))},[e,t]),s=o.useCallback(function(h){if(n!==null){var p=e+Math.round((i(h)-e)/n)*n,m=function(b){return(String(b).split(".")[1]||"").length},f=Math.max(m(n),m(t),m(e)),C=Number(p.toFixed(f));return e<=C&&C<=t?C:null}return null},[n,e,t,i]),c=o.useCallback(function(h){var p=i(h),m=r.map(function(g){return g.value});n!==null&&m.push(s(h)),m.push(e,t);var f=m[0],C=t-e;return m.forEach(function(g){var b=Math.abs(p-g);b<=C&&(f=g,C=b)}),f},[e,t,r,n,i,s]),u=function h(p,m,f){var C=arguments.length>3&&arguments[3]!==void 0?arguments[3]:"unit";if(typeof m=="number"){var g,b=p[f],$=b+m,x=[];r.forEach(function(D){x.push(D.value)}),x.push(e,t),x.push(s(b));var O=m>0?1:-1;C==="unit"?x.push(s(b+O*n)):x.push(s($)),x=x.filter(function(D){return D!==null}).filter(function(D){return m<0?D<=b:D>=b}),C==="unit"&&(x=x.filter(function(D){return D!==b}));var y=C==="unit"?b:$;g=x[0];var P=Math.abs(g-y);if(x.forEach(function(D){var M=Math.abs(D-y);M<P&&(g=D,P=M)}),g===void 0)return m<0?e:t;if(C==="dist")return g;if(Math.abs(m)>1){var w=Te(p);return w[f]=g,h(w,m-O,f,C)}return g}else{if(m==="min")return e;if(m==="max")return t}},d=function(p,m,f){var C=arguments.length>3&&arguments[3]!==void 0?arguments[3]:"unit",g=p[f],b=u(p,m,f,C);return{value:b,changed:b!==g}},v=function(p){return l===null&&p===0||typeof l=="number"&&p<l},S=function(p,m,f){var C=arguments.length>3&&arguments[3]!==void 0?arguments[3]:"unit",g=p.map(c),b=g[f],$=u(g,m,f,C);if(g[f]=$,a===!1){var x=l||0;f>0&&g[f-1]!==b&&(g[f]=Math.max(g[f],g[f-1]+x)),f<g.length-1&&g[f+1]!==b&&(g[f]=Math.min(g[f],g[f+1]-x))}else if(typeof l=="number"||l===null){for(var O=f+1;O<g.length;O+=1)for(var y=!0;v(g[O]-g[O-1])&&y;){var P=d(g,1,O);g[O]=P.value,y=P.changed}for(var w=f;w>0;w-=1)for(var D=!0;v(g[w]-g[w-1])&&D;){var M=d(g,-1,w-1);g[w-1]=M.value,D=M.changed}for(var N=g.length-1;N>0;N-=1)for(var V=!0;v(g[N]-g[N-1])&&V;){var R=d(g,-1,N-1);g[N-1]=R.value,V=R.changed}for(var H=0;H<g.length-1;H+=1)for(var T=!0;v(g[H+1]-g[H])&&T;){var k=d(g,1,H+1);g[H+1]=k.value,T=k.changed}}return{value:g[f],values:g}};return[c,S]}function Ga(e){return o.useMemo(function(){if(e===!0||!e)return[!!e,!1,!1,0];var t=e.editable,n=e.draggableTrack,r=e.minCount,a=e.maxCount;return[!0,t,!t&&n,r||0,a]},[e])}var Ua=o.forwardRef(function(e,t){var n=e.prefixCls,r=n===void 0?"rc-slider":n,a=e.className,l=e.style,i=e.classNames,s=e.styles,c=e.id,u=e.disabled,d=u===void 0?!1:u,v=e.keyboard,S=v===void 0?!0:v,h=e.autoFocus,p=e.onFocus,m=e.onBlur,f=e.min,C=f===void 0?0:f,g=e.max,b=g===void 0?100:g,$=e.step,x=$===void 0?1:$,O=e.value,y=e.defaultValue,P=e.range,w=e.count,D=e.onChange,M=e.onBeforeChange,N=e.onAfterChange,V=e.onChangeComplete,R=e.allowCross,H=R===void 0?!0:R,T=e.pushable,k=T===void 0?!1:T,W=e.reverse,j=e.vertical,de=e.included,me=de===void 0?!0:de,fe=e.startPoint,$e=e.trackStyle,he=e.handleStyle,Q=e.railStyle,A=e.dotStyle,L=e.activeDotStyle,te=e.marks,pe=e.dots,B=e.handleRender,z=e.activeHandleRender,K=e.track,ge=e.tabIndex,we=ge===void 0?0:ge,Re=e.ariaLabelForHandle,le=e.ariaLabelledByForHandle,Ne=e.ariaRequired,He=e.ariaValueTextFormatterForHandle,De=o.useRef(null),_e=o.useRef(null),Le=o.useMemo(function(){return j?W?"ttb":"btt":W?"rtl":"ltr"},[W,j]),Fe=Ga(P),ve=Y(Fe,5),ne=ve[0],Ee=ve[1],Oe=ve[2],Ve=ve[3],Ce=ve[4],U=o.useMemo(function(){return isFinite(C)?C:0},[C]),Ke=o.useMemo(function(){return isFinite(b)?b:100},[b]),Be=o.useMemo(function(){return x!==null&&x<=0?1:x},[x]),Pe=o.useMemo(function(){return typeof k=="boolean"?k?Be:!1:k>=0?k:!1},[k,Be]),Me=o.useMemo(function(){return Object.keys(te||{}).map(function(F){var I=te[F],_={value:Number(F)};return I&&Pt(I)==="object"&&!o.isValidElement(I)&&("label"in I||"style"in I)?(_.style=I.style,_.label=I.label):_.label=I,_}).filter(function(F){var I=F.label;return I||typeof I=="number"}).sort(function(F,I){return F.value-I.value})},[te]),tt=Xa(U,Ke,Be,Me,H,Pe),ke=Y(tt,2),ce=ke[0],Z=ke[1],be=ct(y,{value:O}),re=Y(be,2),q=re[0],je=re[1],X=o.useMemo(function(){var F=q==null?[]:Array.isArray(q)?q:[q],I=Y(F,1),_=I[0],J=_===void 0?U:_,xe=q===null?[]:[J];if(ne){if(xe=Te(F),w||q===void 0){var Ze=w>=0?w+1:2;for(xe=xe.slice(0,Ze);xe.length<Ze;){var Ye;xe.push((Ye=xe[xe.length-1])!==null&&Ye!==void 0?Ye:U)}}xe.sort(function(qe,Ue){return qe-Ue})}return xe.forEach(function(qe,Ue){xe[Ue]=ce(qe)}),xe},[q,ne,U,w,ce]),Se=function(I){return ne?I:I[0]},ze=at(function(F){var I=Te(F).sort(function(_,J){return _-J});D&&!yr(I,X,!0)&&D(Se(I)),je(I)}),We=at(function(F){F&&De.current.hideHelp();var I=Se(X);N==null||N(I),yt(!N,"[rc-slider] `onAfterChange` is deprecated. Please use `onChangeComplete` instead."),V==null||V(I)}),ut=function(I){if(!(d||!Ee||X.length<=Ve)){var _=Te(X);_.splice(I,1),M==null||M(Se(_)),ze(_);var J=Math.max(0,I-1);De.current.hideHelp(),De.current.focus(J)}},Je=qa(_e,Le,X,U,Ke,ce,ze,We,Z,Ee,Ve),Qe=Y(Je,5),xt=Qe[0],Bt=Qe[1],It=Qe[2],ot=Qe[3],dt=Qe[4],Nt=function(I,_){if(!d){var J=Te(X),xe=0,Ze=0,Ye=Ke-U;X.forEach(function(Ge,jt){var vn=Math.abs(I-Ge);vn<=Ye&&(Ye=vn,xe=jt),Ge<I&&(Ze=jt)});var qe=xe;Ee&&Ye!==0&&(!Ce||X.length<Ce)?(J.splice(Ze+1,0,I),qe=Ze+1):J[xe]=I,ne&&!X.length&&w===void 0&&J.push(I);var Ue=Se(J);if(M==null||M(Ue),ze(J),_){var nt,Xe;(nt=document.activeElement)===null||nt===void 0||(Xe=nt.blur)===null||Xe===void 0||Xe.call(nt),De.current.focus(qe),dt(_,qe,J)}else N==null||N(Ue),yt(!N,"[rc-slider] `onAfterChange` is deprecated. Please use `onChangeComplete` instead."),V==null||V(Ue)}},zt=function(I){I.preventDefault();var _=_e.current.getBoundingClientRect(),J=_.width,xe=_.height,Ze=_.left,Ye=_.top,qe=_.bottom,Ue=_.right,nt=I.clientX,Xe=I.clientY,Ge;switch(Le){case"btt":Ge=(qe-Xe)/xe;break;case"ttb":Ge=(Xe-Ye)/xe;break;case"rtl":Ge=(Ue-nt)/J;break;default:Ge=(nt-Ze)/J}var jt=U+Ge*(Ke-U);Nt(ce(jt),I)},Wt=o.useState(null),Ct=Y(Wt,2),bt=Ct[0],ft=Ct[1],$t=function(I,_){if(!d){var J=Z(X,I,_);M==null||M(Se(X)),ze(J.values),ft(J.value)}};o.useEffect(function(){if(bt!==null){var F=X.indexOf(bt);F>=0&&De.current.focus(F)}ft(null)},[bt]);var Kt=o.useMemo(function(){return Oe&&Be===null?!1:Oe},[Oe,Be]),Ht=at(function(F,I){dt(F,I),M==null||M(Se(X))}),kt=xt!==-1;o.useEffect(function(){if(!kt){var F=X.lastIndexOf(Bt);De.current.focus(F)}},[kt]);var gt=o.useMemo(function(){return Te(ot).sort(function(F,I){return F-I})},[ot]),ie=o.useMemo(function(){return ne?[gt[0],gt[gt.length-1]]:[U,gt[0]]},[gt,ne,U]),ae=Y(ie,2),se=ae[0],ye=ae[1];o.useImperativeHandle(t,function(){return{focus:function(){De.current.focus(0)},blur:function(){var I,_=document,J=_.activeElement;(I=_e.current)!==null&&I!==void 0&&I.contains(J)&&(J==null||J.blur())}}}),o.useEffect(function(){h&&De.current.focus(0)},[]);var et=o.useMemo(function(){return{min:U,max:Ke,direction:Le,disabled:d,keyboard:S,step:Be,included:me,includedStart:se,includedEnd:ye,range:ne,tabIndex:we,ariaLabelForHandle:Re,ariaLabelledByForHandle:le,ariaRequired:Ne,ariaValueTextFormatterForHandle:He,styles:s||{},classNames:i||{}}},[U,Ke,Le,d,S,Be,me,se,ye,ne,we,Re,le,Ne,He,s,i]);return o.createElement(ht.Provider,{value:et},o.createElement("div",{ref:_e,className:ue(r,a,Ae(Ae(Ae(Ae({},"".concat(r,"-disabled"),d),"".concat(r,"-vertical"),j),"".concat(r,"-horizontal"),!j),"".concat(r,"-with-marks"),Me.length)),style:l,onMouseDown:zt,id:c},o.createElement("div",{className:ue("".concat(r,"-rail"),i==null?void 0:i.rail),style:oe(oe({},Q),s==null?void 0:s.rail)}),K!==!1&&o.createElement(Wa,{prefixCls:r,style:$e,values:X,startPoint:fe,onStartMove:Kt?Ht:void 0}),o.createElement(za,{prefixCls:r,marks:Me,dots:pe,style:A,activeStyle:L}),o.createElement(La,{ref:De,prefixCls:r,style:he,values:ot,draggingIndex:xt,draggingDelete:It,onStartMove:Ht,onOffsetChange:$t,onFocus:p,onBlur:m,handleRender:B,activeHandleRender:z,onChangeComplete:We,onDelete:Ee?ut:void 0}),o.createElement(Va,{prefixCls:r,marks:Me,onClick:Nt})))});const or=o.createContext({}),On=o.forwardRef((e,t)=>{const{open:n,draggingDelete:r}=e,a=o.useRef(null),l=n&&!r,i=o.useRef(null);function s(){Et.cancel(i.current),i.current=null}function c(){i.current=Et(()=>{var u;(u=a.current)===null||u===void 0||u.forceAlign(),i.current=null})}return o.useEffect(()=>(l?c():s(),s),[l,e.title]),o.createElement(Ut,Object.assign({ref:rn(a,t)},e,{open:l}))}),Ya=e=>{const{componentCls:t,antCls:n,controlSize:r,dotSize:a,marginFull:l,marginPart:i,colorFillContentHover:s,handleColorDisabled:c,calc:u,handleSize:d,handleSizeHover:v,handleActiveColor:S,handleActiveOutlineColor:h,handleLineWidth:p,handleLineWidthHover:m,motionDurationMid:f}=e;return{[t]:Object.assign(Object.assign({},Ln(e)),{position:"relative",height:r,margin:`${G(i)} ${G(l)}`,padding:0,cursor:"pointer",touchAction:"none","&-vertical":{margin:`${G(l)} ${G(i)}`},[`${t}-rail`]:{position:"absolute",backgroundColor:e.railBg,borderRadius:e.borderRadiusXS,transition:`background-color ${f}`},[`${t}-track,${t}-tracks`]:{position:"absolute",transition:`background-color ${f}`},[`${t}-track`]:{backgroundColor:e.trackBg,borderRadius:e.borderRadiusXS},[`${t}-track-draggable`]:{boxSizing:"content-box",backgroundClip:"content-box",border:"solid rgba(0,0,0,0)"},"&:hover":{[`${t}-rail`]:{backgroundColor:e.railHoverBg},[`${t}-track`]:{backgroundColor:e.trackHoverBg},[`${t}-dot`]:{borderColor:s},[`${t}-handle::after`]:{boxShadow:`0 0 0 ${G(p)} ${e.colorPrimaryBorderHover}`},[`${t}-dot-active`]:{borderColor:e.dotActiveBorderColor}},[`${t}-handle`]:{position:"absolute",width:d,height:d,outline:"none",userSelect:"none","&-dragging-delete":{opacity:0},"&::before":{content:'""',position:"absolute",insetInlineStart:u(p).mul(-1).equal(),insetBlockStart:u(p).mul(-1).equal(),width:u(d).add(u(p).mul(2)).equal(),height:u(d).add(u(p).mul(2)).equal(),backgroundColor:"transparent"},"&::after":{content:'""',position:"absolute",insetBlockStart:0,insetInlineStart:0,width:d,height:d,backgroundColor:e.colorBgElevated,boxShadow:`0 0 0 ${G(p)} ${e.handleColor}`,outline:"0px solid transparent",borderRadius:"50%",cursor:"pointer",transition:`
            inset-inline-start ${f},
            inset-block-start ${f},
            width ${f},
            height ${f},
            box-shadow ${f},
            outline ${f}
          `},"&:hover, &:active, &:focus":{"&::before":{insetInlineStart:u(v).sub(d).div(2).add(m).mul(-1).equal(),insetBlockStart:u(v).sub(d).div(2).add(m).mul(-1).equal(),width:u(v).add(u(m).mul(2)).equal(),height:u(v).add(u(m).mul(2)).equal()},"&::after":{boxShadow:`0 0 0 ${G(m)} ${S}`,outline:`6px solid ${h}`,width:v,height:v,insetInlineStart:e.calc(d).sub(v).div(2).equal(),insetBlockStart:e.calc(d).sub(v).div(2).equal()}}},[`&-lock ${t}-handle`]:{"&::before, &::after":{transition:"none"}},[`${t}-mark`]:{position:"absolute",fontSize:e.fontSize},[`${t}-mark-text`]:{position:"absolute",display:"inline-block",color:e.colorTextDescription,textAlign:"center",wordBreak:"keep-all",cursor:"pointer",userSelect:"none","&-active":{color:e.colorText}},[`${t}-step`]:{position:"absolute",background:"transparent",pointerEvents:"none"},[`${t}-dot`]:{position:"absolute",width:a,height:a,backgroundColor:e.colorBgElevated,border:`${G(p)} solid ${e.dotBorderColor}`,borderRadius:"50%",cursor:"pointer",transition:`border-color ${e.motionDurationSlow}`,pointerEvents:"auto","&-active":{borderColor:e.dotActiveBorderColor}},[`&${t}-disabled`]:{cursor:"not-allowed",[`${t}-rail`]:{backgroundColor:`${e.railBg} !important`},[`${t}-track`]:{backgroundColor:`${e.trackBgDisabled} !important`},[`
          ${t}-dot
        `]:{backgroundColor:e.colorBgElevated,borderColor:e.trackBgDisabled,boxShadow:"none",cursor:"not-allowed"},[`${t}-handle::after`]:{backgroundColor:e.colorBgElevated,cursor:"not-allowed",width:d,height:d,boxShadow:`0 0 0 ${G(p)} ${c}`,insetInlineStart:0,insetBlockStart:0},[`
          ${t}-mark-text,
          ${t}-dot
        `]:{cursor:"not-allowed !important"}},[`&-tooltip ${n}-tooltip-inner`]:{minWidth:"unset"}})}},lr=(e,t)=>{const{componentCls:n,railSize:r,handleSize:a,dotSize:l,marginFull:i,calc:s}=e,c=t?"paddingBlock":"paddingInline",u=t?"width":"height",d=t?"height":"width",v=t?"insetBlockStart":"insetInlineStart",S=t?"top":"insetInlineStart",h=s(r).mul(3).sub(a).div(2).equal(),p=s(a).sub(r).div(2).equal(),m=t?{borderWidth:`${G(p)} 0`,transform:`translateY(${G(s(p).mul(-1).equal())})`}:{borderWidth:`0 ${G(p)}`,transform:`translateX(${G(e.calc(p).mul(-1).equal())})`};return{[c]:r,[d]:s(r).mul(3).equal(),[`${n}-rail`]:{[u]:"100%",[d]:r},[`${n}-track,${n}-tracks`]:{[d]:r},[`${n}-track-draggable`]:Object.assign({},m),[`${n}-handle`]:{[v]:h},[`${n}-mark`]:{insetInlineStart:0,top:0,[S]:s(r).mul(3).add(t?0:i).equal(),[u]:"100%"},[`${n}-step`]:{insetInlineStart:0,top:0,[S]:r,[u]:"100%",[d]:r},[`${n}-dot`]:{position:"absolute",[v]:s(r).sub(l).div(2).equal()}}},Ja=e=>{const{componentCls:t,marginPartWithMark:n}=e;return{[`${t}-horizontal`]:Object.assign(Object.assign({},lr(e,!0)),{[`&${t}-with-marks`]:{marginBottom:n}})}},Qa=e=>{const{componentCls:t}=e;return{[`${t}-vertical`]:Object.assign(Object.assign({},lr(e,!1)),{height:"100%"})}},Za=e=>{const n=e.controlHeightLG/4,r=e.controlHeightSM/2,a=e.lineWidth+1,l=e.lineWidth+1*1.5,i=e.colorPrimary,s=new mn(i).setA(.2).toRgbString();return{controlSize:n,railSize:4,handleSize:n,handleSizeHover:r,dotSize:8,handleLineWidth:a,handleLineWidthHover:l,railBg:e.colorFillTertiary,railHoverBg:e.colorFillSecondary,trackBg:e.colorPrimaryBorder,trackHoverBg:e.colorPrimaryBorderHover,handleColor:e.colorPrimaryBorder,handleActiveColor:i,handleActiveOutlineColor:s,handleColorDisabled:new mn(e.colorTextDisabled).onBackground(e.colorBgContainer).toHexString(),dotBorderColor:e.colorBorderSecondary,dotActiveBorderColor:e.colorPrimaryBorder,trackBgDisabled:e.colorBgContainerDisabled}},eo=Ft("Slider",e=>{const t=Mt(e,{marginPart:e.calc(e.controlHeight).sub(e.controlSize).div(2).equal(),marginFull:e.calc(e.controlSize).div(2).equal(),marginPartWithMark:e.calc(e.controlHeightLG).sub(e.controlSize).equal()});return[Ya(t),Ja(t),Qa(t)]},Za);function Gt(){const[e,t]=o.useState(!1),n=o.useRef(null),r=()=>{Et.cancel(n.current)},a=l=>{r(),l?t(l):n.current=Et(()=>{t(l)})};return o.useEffect(()=>r,[]),[e,a]}var to=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,r=Object.getOwnPropertySymbols(e);a<r.length;a++)t.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(n[r[a]]=e[r[a]]);return n};function no(e,t){return e||e===null?e:t||t===null?t:n=>typeof n=="number"?n.toString():""}const ro=E.forwardRef((e,t)=>{const{prefixCls:n,range:r,className:a,rootClassName:l,style:i,disabled:s,tooltipPrefixCls:c,tipFormatter:u,tooltipVisible:d,getTooltipPopupContainer:v,tooltipPlacement:S,tooltip:h={},onChangeComplete:p,classNames:m,styles:f}=e,C=to(e,["prefixCls","range","className","rootClassName","style","disabled","tooltipPrefixCls","tipFormatter","tooltipVisible","getTooltipPopupContainer","tooltipPlacement","tooltip","onChangeComplete","classNames","styles"]),{vertical:g}=e,{getPrefixCls:b,direction:$,className:x,style:O,classNames:y,styles:P,getPopupContainer:w}=Fn("slider"),D=E.useContext(sn),M=s??D,{handleRender:N,direction:V}=E.useContext(or),H=(V||$)==="rtl",[T,k]=Gt(),[W,j]=Gt(),de=Object.assign({},h),{open:me,placement:fe,getPopupContainer:$e,prefixCls:he,formatter:Q}=de,A=me??d,L=(T||W)&&A!==!1,te=no(Q,u),[pe,B]=Gt(),z=ne=>{p==null||p(ne),B(!1)},K=(ne,Ee)=>ne||(Ee?H?"left":"right":"top"),ge=b("slider",n),[we,Re,le]=eo(ge),Ne=ue(a,x,y.root,m==null?void 0:m.root,l,{[`${ge}-rtl`]:H,[`${ge}-lock`]:pe},Re,le);H&&!C.vertical&&(C.reverse=!C.reverse),E.useEffect(()=>{const ne=()=>{Et(()=>{j(!1)},1)};return document.addEventListener("mouseup",ne),()=>{document.removeEventListener("mouseup",ne)}},[]);const He=r&&!A,De=N||((ne,Ee)=>{const{index:Oe}=Ee,Ve=ne.props;function Ce(Pe,Me,tt){var ke,ce,Z,be;tt&&((ce=(ke=C)[Pe])===null||ce===void 0||ce.call(ke,Me)),(be=(Z=Ve)[Pe])===null||be===void 0||be.call(Z,Me)}const U=Object.assign(Object.assign({},Ve),{onMouseEnter:Pe=>{k(!0),Ce("onMouseEnter",Pe)},onMouseLeave:Pe=>{k(!1),Ce("onMouseLeave",Pe)},onMouseDown:Pe=>{j(!0),B(!0),Ce("onMouseDown",Pe)},onFocus:Pe=>{var Me;j(!0),(Me=C.onFocus)===null||Me===void 0||Me.call(C,Pe),Ce("onFocus",Pe,!0)},onBlur:Pe=>{var Me;j(!1),(Me=C.onBlur)===null||Me===void 0||Me.call(C,Pe),Ce("onBlur",Pe,!0)}}),Ke=E.cloneElement(ne,U),Be=(!!A||L)&&te!==null;return He?Ke:E.createElement(On,Object.assign({},de,{prefixCls:b("tooltip",he??c),title:te?te(Ee.value):"",open:Be,placement:K(fe??S,g),key:Oe,classNames:{root:`${ge}-tooltip`},getPopupContainer:$e||v||w}),Ke)}),_e=He?(ne,Ee)=>{const Oe=E.cloneElement(ne,{style:Object.assign(Object.assign({},ne.props.style),{visibility:"hidden"})});return E.createElement(On,Object.assign({},de,{prefixCls:b("tooltip",he??c),title:te?te(Ee.value):"",open:te!==null&&L,placement:K(fe??S,g),key:"tooltip",classNames:{root:`${ge}-tooltip`},getPopupContainer:$e||v||w,draggingDelete:Ee.draggingDelete}),Oe)}:void 0,Le=Object.assign(Object.assign(Object.assign(Object.assign({},P.root),O),f==null?void 0:f.root),i),Fe=Object.assign(Object.assign({},P.tracks),f==null?void 0:f.tracks),ve=ue(y.tracks,m==null?void 0:m.tracks);return we(E.createElement(Ua,Object.assign({},C,{classNames:Object.assign({handle:ue(y.handle,m==null?void 0:m.handle),rail:ue(y.rail,m==null?void 0:m.rail),track:ue(y.track,m==null?void 0:m.track)},ve?{tracks:ve}:{}),styles:Object.assign({handle:Object.assign(Object.assign({},P.handle),f==null?void 0:f.handle),rail:Object.assign(Object.assign({},P.rail),f==null?void 0:f.rail),track:Object.assign(Object.assign({},P.track),f==null?void 0:f.track)},Object.keys(Fe).length?{tracks:Fe}:{}),step:C.step,range:r,className:Ne,style:Le,disabled:M,ref:t,prefixCls:ge,handleRender:De,activeHandleRender:_e,onChangeComplete:z})))});var ao=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,r=Object.getOwnPropertySymbols(e);a<r.length;a++)t.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(n[r[a]]=e[r[a]]);return n};const ir=e=>{const{prefixCls:t,colors:n,type:r,color:a,range:l=!1,className:i,activeIndex:s,onActive:c,onDragStart:u,onDragChange:d,onKeyDelete:v}=e,S=ao(e,["prefixCls","colors","type","color","range","className","activeIndex","onActive","onDragStart","onDragChange","onKeyDelete"]),h=Object.assign(Object.assign({},S),{track:!1}),p=o.useMemo(()=>`linear-gradient(90deg, ${n.map(O=>`${O.color} ${O.percent}%`).join(", ")})`,[n]),m=o.useMemo(()=>!a||!r?null:r==="alpha"?a.toRgbString():`hsl(${a.toHsb().h}, 100%, 50%)`,[a,r]),f=at(u),C=at(d),g=o.useMemo(()=>({onDragStart:f,onDragChange:C}),[]),b=at((x,O)=>{const{onFocus:y,style:P,className:w,onKeyDown:D}=x.props,M=Object.assign({},P);return r==="gradient"&&(M.background=Vn(n,O.value)),o.cloneElement(x,{onFocus:N=>{c==null||c(O.index),y==null||y(N)},style:M,className:ue(w,{[`${t}-slider-handle-active`]:s===O.index}),onKeyDown:N=>{(N.key==="Delete"||N.key==="Backspace")&&v&&v(O.index),D==null||D(N)}})}),$=o.useMemo(()=>({direction:"ltr",handleRender:b}),[]);return o.createElement(or.Provider,{value:$},o.createElement(ar.Provider,{value:g},o.createElement(ro,Object.assign({},h,{className:ue(i,`${t}-slider`),tooltip:{open:!1},range:{editable:l,minCount:2},styles:{rail:{background:p},handle:m?{background:m}:{}},classNames:{rail:`${t}-slider-rail`,handle:`${t}-slider-handle`}}))))},oo=e=>{const{value:t,onChange:n,onChangeComplete:r}=e,a=i=>n(i[0]),l=i=>r(i[0]);return o.createElement(ir,Object.assign({},e,{value:[t],onChange:a,onChangeComplete:l}))};function Pn(e){return Te(e).sort((t,n)=>t.percent-n.percent)}const lo=e=>{const{prefixCls:t,mode:n,onChange:r,onChangeComplete:a,onActive:l,activeIndex:i,onGradientDragging:s,colors:c}=e,u=n==="gradient",d=o.useMemo(()=>c.map(C=>({percent:C.percent,color:C.color.toRgbString()})),[c]),v=o.useMemo(()=>d.map(C=>C.percent),[d]),S=o.useRef(d),h=C=>{let{rawValues:g,draggingIndex:b,draggingValue:$}=C;if(g.length>d.length){const x=Vn(d,$),O=Te(d);O.splice(b,0,{percent:$,color:x}),S.current=O}else S.current=d;s(!0),r(new it(Pn(S.current)),!0)},p=C=>{let{deleteIndex:g,draggingIndex:b,draggingValue:$}=C,x=Te(S.current);g!==-1?x.splice(g,1):(x[b]=Object.assign(Object.assign({},x[b]),{percent:$}),x=Pn(x)),r(new it(x),!0)},m=C=>{const g=Te(d);g.splice(C,1);const b=new it(g);r(b),a(b)},f=C=>{a(new it(d)),i>=C.length&&l(C.length-1),s(!1)};return u?o.createElement(ir,{min:0,max:100,prefixCls:t,className:`${t}-gradient-slider`,colors:d,color:null,value:v,range:!0,onChangeComplete:f,disabled:!1,type:"gradient",activeIndex:i,onActive:l,onDragStart:h,onDragChange:p,onKeyDelete:m}):null},io=o.memo(lo);var so=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,r=Object.getOwnPropertySymbols(e);a<r.length;a++)t.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(n[r[a]]=e[r[a]]);return n};const co={slider:oo},Mn=()=>{const e=o.useContext(Qn),{mode:t,onModeChange:n,modeOptions:r,prefixCls:a,allowClear:l,value:i,disabledAlpha:s,onChange:c,onClear:u,onChangeComplete:d,activeIndex:v,gradientDragging:S}=e,h=so(e,["mode","onModeChange","modeOptions","prefixCls","allowClear","value","disabledAlpha","onChange","onClear","onChangeComplete","activeIndex","gradientDragging"]),p=E.useMemo(()=>i.cleared?[{percent:0,color:new it("")},{percent:100,color:new it("")}]:i.getColors(),[i]),m=!i.isGradient(),[f,C]=E.useState(i);Lt(()=>{var R;m||C((R=p[v])===null||R===void 0?void 0:R.color)},[S,v]);const g=E.useMemo(()=>{var R;return m?i:S?f:(R=p[v])===null||R===void 0?void 0:R.color},[i,v,m,f,S]),[b,$]=E.useState(g),[x,O]=E.useState(0),y=b!=null&&b.equals(g)?g:b;Lt(()=>{$(g)},[x,g==null?void 0:g.toHexString()]);const P=(R,H)=>{let T=rt(R);if(i.cleared){const W=T.toRgb();if(!W.r&&!W.g&&!W.b&&H){const{type:j,value:de=0}=H;T=new it({h:j==="hue"?de:0,s:1,b:1,a:j==="alpha"?de/100:1})}else T=At(T)}if(t==="single")return T;const k=Te(p);return k[v]=Object.assign(Object.assign({},k[v]),{color:T}),new it(k)},w=(R,H,T)=>{const k=P(R,T);$(k.isGradient()?k.getColors()[v].color:k),c(k,H)},D=(R,H)=>{d(P(R,H)),O(T=>T+1)},M=R=>{c(P(R))};let N=null;const V=r.length>1;return(l||V)&&(N=E.createElement("div",{className:`${a}-operation`},V&&E.createElement(Ma,{size:"small",options:r,value:t,onChange:n}),E.createElement(er,Object.assign({prefixCls:a,value:i,onChange:R=>{c(R),u==null||u()}},h)))),E.createElement(E.Fragment,null,N,E.createElement(io,Object.assign({},e,{colors:p})),E.createElement(va,{prefixCls:a,value:y==null?void 0:y.toHsb(),disabledAlpha:s,onChange:(R,H)=>{w(R,!0,H)},onChangeComplete:(R,H)=>{D(R,H)},components:co}),E.createElement(Ta,Object.assign({value:g,onChange:M,prefixCls:a,disabledAlpha:s},h)))},Rn=()=>{const{prefixCls:e,value:t,presets:n,onChange:r}=o.useContext(Zn);return Array.isArray(n)?E.createElement(xr,{value:t,presets:n,prefixCls:e,onChange:r}):null},uo=e=>{const{prefixCls:t,presets:n,panelRender:r,value:a,onChange:l,onClear:i,allowClear:s,disabledAlpha:c,mode:u,onModeChange:d,modeOptions:v,onChangeComplete:S,activeIndex:h,onActive:p,format:m,onFormatChange:f,gradientDragging:C,onGradientDragging:g,disabledFormat:b}=e,$=`${t}-inner`,x=E.useMemo(()=>({prefixCls:t,value:a,onChange:l,onClear:i,allowClear:s,disabledAlpha:c,mode:u,onModeChange:d,modeOptions:v,onChangeComplete:S,activeIndex:h,onActive:p,format:m,onFormatChange:f,gradientDragging:C,onGradientDragging:g,disabledFormat:b}),[t,a,l,i,s,c,u,d,v,S,h,p,m,f,C,g,b]),O=E.useMemo(()=>({prefixCls:t,value:a,presets:n,onChange:l}),[t,a,n,l]),y=E.createElement("div",{className:`${$}-content`},E.createElement(Mn,null),Array.isArray(n)&&E.createElement(Jr,null),E.createElement(Rn,null));return E.createElement(Qn.Provider,{value:x},E.createElement(Zn.Provider,{value:O},E.createElement("div",{className:$},typeof r=="function"?r(y,{components:{Picker:Mn,Presets:Rn}}):y)))};var fo=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,r=Object.getOwnPropertySymbols(e);a<r.length;a++)t.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(n[r[a]]=e[r[a]]);return n};const go=o.forwardRef((e,t)=>{const{color:n,prefixCls:r,open:a,disabled:l,format:i,className:s,showText:c,activeIndex:u}=e,d=fo(e,["color","prefixCls","open","disabled","format","className","showText","activeIndex"]),v=`${r}-trigger`,S=`${v}-text`,h=`${S}-cell`,[p]=Bn("ColorPicker"),m=E.useMemo(()=>{if(!c)return"";if(typeof c=="function")return c(n);if(n.cleared)return p.transparent;if(n.isGradient())return n.getColors().map((b,$)=>{const x=u!==-1&&u!==$;return E.createElement("span",{key:$,className:ue(h,x&&`${h}-inactive`)},b.color.toRgbString()," ",b.percent,"%")});const C=n.toHexString().toUpperCase(),g=ln(n);switch(i){case"rgb":return n.toRgbString();case"hsb":return n.toHsbString();default:return g<100?`${C.slice(0,7)},${g}%`:C}},[n,i,c,u]),f=o.useMemo(()=>n.cleared?E.createElement(er,{prefixCls:r}):E.createElement(_n,{prefixCls:r,color:n.toCssString()}),[n,r]);return E.createElement("div",Object.assign({ref:t,className:ue(v,s,{[`${v}-active`]:a,[`${v}-disabled`]:l})},$r(d)),f,c&&E.createElement("div",{className:S},m))});function vo(e,t,n){const[r]=Bn("ColorPicker"),[a,l]=ct(e,{value:t}),[i,s]=o.useState("single"),[c,u]=o.useMemo(()=>{const m=(Array.isArray(n)?n:[n]).filter(b=>b);m.length||m.push("single");const f=new Set(m),C=[],g=(b,$)=>{f.has(b)&&C.push({label:$,value:b})};return g("single",r.singleColor),g("gradient",r.gradientColor),[C,f]},[n]),[d,v]=o.useState(null),S=at(m=>{v(m),l(m)}),h=o.useMemo(()=>{const m=rt(a||"");return m.equals(d)?d:m},[a,d]),p=o.useMemo(()=>{var m;return u.has(i)?i:(m=c[0])===null||m===void 0?void 0:m.value},[u,i,c]);return o.useEffect(()=>{s(h.isGradient()?"gradient":"single")},[h]),[h,S,p,s,c]}const sr=(e,t)=>({backgroundImage:`conic-gradient(${t} 25%, transparent 25% 50%, ${t} 50% 75%, transparent 75% 100%)`,backgroundSize:`${e} ${e}`}),Dn=(e,t)=>{const{componentCls:n,borderRadiusSM:r,colorPickerInsetShadow:a,lineWidth:l,colorFillSecondary:i}=e;return{[`${n}-color-block`]:Object.assign(Object.assign({position:"relative",borderRadius:r,width:t,height:t,boxShadow:a,flex:"none"},sr("50%",e.colorFillSecondary)),{[`${n}-color-block-inner`]:{width:"100%",height:"100%",boxShadow:`inset 0 0 0 ${G(l)} ${i}`,borderRadius:"inherit"}})}},mo=e=>{const{componentCls:t,antCls:n,fontSizeSM:r,lineHeightSM:a,colorPickerAlphaInputWidth:l,marginXXS:i,paddingXXS:s,controlHeightSM:c,marginXS:u,fontSizeIcon:d,paddingXS:v,colorTextPlaceholder:S,colorPickerInputNumberHandleWidth:h,lineWidth:p}=e;return{[`${t}-input-container`]:{display:"flex",[`${t}-steppers${n}-input-number`]:{fontSize:r,lineHeight:a,[`${n}-input-number-input`]:{paddingInlineStart:s,paddingInlineEnd:0},[`${n}-input-number-handler-wrap`]:{width:h}},[`${t}-steppers${t}-alpha-input`]:{flex:`0 0 ${G(l)}`,marginInlineStart:i},[`${t}-format-select${n}-select`]:{marginInlineEnd:u,width:"auto","&-single":{[`${n}-select-selector`]:{padding:0,border:0},[`${n}-select-arrow`]:{insetInlineEnd:0},[`${n}-select-selection-item`]:{paddingInlineEnd:e.calc(d).add(i).equal(),fontSize:r,lineHeight:G(c)},[`${n}-select-item-option-content`]:{fontSize:r,lineHeight:a},[`${n}-select-dropdown`]:{[`${n}-select-item`]:{minHeight:"auto"}}}},[`${t}-input`]:{gap:i,alignItems:"center",flex:1,width:0,[`${t}-hsb-input,${t}-rgb-input`]:{display:"flex",gap:i,alignItems:"center"},[`${t}-steppers`]:{flex:1},[`${t}-hex-input${n}-input-affix-wrapper`]:{flex:1,padding:`0 ${G(v)}`,[`${n}-input`]:{fontSize:r,textTransform:"uppercase",lineHeight:G(e.calc(c).sub(e.calc(p).mul(2)).equal())},[`${n}-input-prefix`]:{color:S}}}}}},ho=e=>{const{componentCls:t,controlHeightLG:n,borderRadiusSM:r,colorPickerInsetShadow:a,marginSM:l,colorBgElevated:i,colorFillSecondary:s,lineWidthBold:c,colorPickerHandlerSize:u}=e;return{userSelect:"none",[`${t}-select`]:{[`${t}-palette`]:{minHeight:e.calc(n).mul(4).equal(),overflow:"hidden",borderRadius:r},[`${t}-saturation`]:{position:"absolute",borderRadius:"inherit",boxShadow:a,inset:0},marginBottom:l},[`${t}-handler`]:{width:u,height:u,border:`${G(c)} solid ${i}`,position:"relative",borderRadius:"50%",cursor:"pointer",boxShadow:`${a}, 0 0 0 1px ${s}`}}},po=e=>{const{componentCls:t,antCls:n,colorTextQuaternary:r,paddingXXS:a,colorPickerPresetColorSize:l,fontSizeSM:i,colorText:s,lineHeightSM:c,lineWidth:u,borderRadius:d,colorFill:v,colorWhite:S,marginXXS:h,paddingXS:p,fontHeightSM:m}=e;return{[`${t}-presets`]:{[`${n}-collapse-item > ${n}-collapse-header`]:{padding:0,[`${n}-collapse-expand-icon`]:{height:m,color:r,paddingInlineEnd:a}},[`${n}-collapse`]:{display:"flex",flexDirection:"column",gap:h},[`${n}-collapse-item > ${n}-collapse-content > ${n}-collapse-content-box`]:{padding:`${G(p)} 0`},"&-label":{fontSize:i,color:s,lineHeight:c},"&-items":{display:"flex",flexWrap:"wrap",gap:e.calc(h).mul(1.5).equal(),[`${t}-presets-color`]:{position:"relative",cursor:"pointer",width:l,height:l,"&::before":{content:'""',pointerEvents:"none",width:e.calc(l).add(e.calc(u).mul(4)).equal(),height:e.calc(l).add(e.calc(u).mul(4)).equal(),position:"absolute",top:e.calc(u).mul(-2).equal(),insetInlineStart:e.calc(u).mul(-2).equal(),borderRadius:d,border:`${G(u)} solid transparent`,transition:`border-color ${e.motionDurationMid} ${e.motionEaseInBack}`},"&:hover::before":{borderColor:v},"&::after":{boxSizing:"border-box",position:"absolute",top:"50%",insetInlineStart:"21.5%",display:"table",width:e.calc(l).div(13).mul(5).equal(),height:e.calc(l).div(13).mul(8).equal(),border:`${G(e.lineWidthBold)} solid ${e.colorWhite}`,borderTop:0,borderInlineStart:0,transform:"rotate(45deg) scale(0) translate(-50%,-50%)",opacity:0,content:'""',transition:`all ${e.motionDurationFast} ${e.motionEaseInBack}, opacity ${e.motionDurationFast}`},[`&${t}-presets-color-checked`]:{"&::after":{opacity:1,borderColor:S,transform:"rotate(45deg) scale(1) translate(-50%,-50%)",transition:`transform ${e.motionDurationMid} ${e.motionEaseOutBack} ${e.motionDurationFast}`},[`&${t}-presets-color-bright`]:{"&::after":{borderColor:"rgba(0, 0, 0, 0.45)"}}}}},"&-empty":{fontSize:i,color:r}}}},Co=e=>{const{componentCls:t,colorPickerInsetShadow:n,colorBgElevated:r,colorFillSecondary:a,lineWidthBold:l,colorPickerHandlerSizeSM:i,colorPickerSliderHeight:s,marginSM:c,marginXS:u}=e,d=e.calc(i).sub(e.calc(l).mul(2).equal()).equal(),v=e.calc(i).add(e.calc(l).mul(2).equal()).equal(),S={"&:after":{transform:"scale(1)",boxShadow:`${n}, 0 0 0 1px ${e.colorPrimaryActive}`}};return{[`${t}-slider`]:[sr(G(s),e.colorFillSecondary),{margin:0,padding:0,height:s,borderRadius:e.calc(s).div(2).equal(),"&-rail":{height:s,borderRadius:e.calc(s).div(2).equal(),boxShadow:n},[`& ${t}-slider-handle`]:{width:d,height:d,top:0,borderRadius:"100%","&:before":{display:"block",position:"absolute",background:"transparent",left:{_skip_check_:!0,value:"50%"},top:"50%",transform:"translate(-50%, -50%)",width:v,height:v,borderRadius:"100%"},"&:after":{width:i,height:i,border:`${G(l)} solid ${r}`,boxShadow:`${n}, 0 0 0 1px ${a}`,outline:"none",insetInlineStart:e.calc(l).mul(-1).equal(),top:e.calc(l).mul(-1).equal(),background:"transparent",transition:"none"},"&:focus":S}}],[`${t}-slider-container`]:{display:"flex",gap:c,marginBottom:c,[`${t}-slider-group`]:{flex:1,flexDirection:"column",justifyContent:"space-between",display:"flex","&-disabled-alpha":{justifyContent:"center"}}},[`${t}-gradient-slider`]:{marginBottom:u,[`& ${t}-slider-handle`]:{"&:after":{transform:"scale(0.8)"},"&-active, &:focus":S}}}},en=(e,t,n)=>({borderInlineEndWidth:e.lineWidth,borderColor:t,boxShadow:`0 0 0 ${G(e.controlOutlineWidth)} ${n}`,outline:0}),bo=e=>{const{componentCls:t}=e;return{"&-rtl":{[`${t}-presets-color`]:{"&::after":{direction:"ltr"}},[`${t}-clear`]:{"&::after":{direction:"ltr"}}}}},In=(e,t,n)=>{const{componentCls:r,borderRadiusSM:a,lineWidth:l,colorSplit:i,colorBorder:s,red6:c}=e;return{[`${r}-clear`]:Object.assign(Object.assign({width:t,height:t,borderRadius:a,border:`${G(l)} solid ${i}`,position:"relative",overflow:"hidden",cursor:"inherit",transition:`all ${e.motionDurationFast}`},n),{"&::after":{content:'""',position:"absolute",insetInlineEnd:e.calc(l).mul(-1).equal(),top:e.calc(l).mul(-1).equal(),display:"block",width:40,height:2,transformOrigin:"calc(100% - 1px) 1px",transform:"rotate(-45deg)",backgroundColor:c},"&:hover":{borderColor:s}})}},So=e=>{const{componentCls:t,colorError:n,colorWarning:r,colorErrorHover:a,colorWarningHover:l,colorErrorOutline:i,colorWarningOutline:s}=e;return{[`&${t}-status-error`]:{borderColor:n,"&:hover":{borderColor:a},[`&${t}-trigger-active`]:Object.assign({},en(e,n,i))},[`&${t}-status-warning`]:{borderColor:r,"&:hover":{borderColor:l},[`&${t}-trigger-active`]:Object.assign({},en(e,r,s))}}},yo=e=>{const{componentCls:t,controlHeightLG:n,controlHeightSM:r,controlHeight:a,controlHeightXS:l,borderRadius:i,borderRadiusSM:s,borderRadiusXS:c,borderRadiusLG:u,fontSizeLG:d}=e;return{[`&${t}-lg`]:{minWidth:n,minHeight:n,borderRadius:u,[`${t}-color-block, ${t}-clear`]:{width:a,height:a,borderRadius:i},[`${t}-trigger-text`]:{fontSize:d}},[`&${t}-sm`]:{minWidth:r,minHeight:r,borderRadius:s,[`${t}-color-block, ${t}-clear`]:{width:l,height:l,borderRadius:c},[`${t}-trigger-text`]:{lineHeight:G(l)}}}},xo=e=>{const{antCls:t,componentCls:n,colorPickerWidth:r,colorPrimary:a,motionDurationMid:l,colorBgElevated:i,colorTextDisabled:s,colorText:c,colorBgContainerDisabled:u,borderRadius:d,marginXS:v,marginSM:S,controlHeight:h,controlHeightSM:p,colorBgTextActive:m,colorPickerPresetColorSize:f,colorPickerPreviewSize:C,lineWidth:g,colorBorder:b,paddingXXS:$,fontSize:x,colorPrimaryHover:O,controlOutline:y}=e;return[{[n]:Object.assign({[`${n}-inner`]:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({"&-content":{display:"flex",flexDirection:"column",width:r,[`& > ${t}-divider`]:{margin:`${G(S)} 0 ${G(v)}`}},[`${n}-panel`]:Object.assign({},ho(e))},Co(e)),Dn(e,C)),mo(e)),po(e)),In(e,f,{marginInlineStart:"auto"})),{[`${n}-operation`]:{display:"flex",justifyContent:"space-between",marginBottom:v}}),"&-trigger":Object.assign(Object.assign(Object.assign(Object.assign({minWidth:h,minHeight:h,borderRadius:d,border:`${G(g)} solid ${b}`,cursor:"pointer",display:"inline-flex",alignItems:"flex-start",justifyContent:"center",transition:`all ${l}`,background:i,padding:e.calc($).sub(g).equal(),[`${n}-trigger-text`]:{marginInlineStart:v,marginInlineEnd:e.calc(v).sub(e.calc($).sub(g)).equal(),fontSize:x,color:c,alignSelf:"center","&-cell":{"&:not(:last-child):after":{content:'", "'},"&-inactive":{color:s}}},"&:hover":{borderColor:O},[`&${n}-trigger-active`]:Object.assign({},en(e,a,y)),"&-disabled":{color:s,background:u,cursor:"not-allowed","&:hover":{borderColor:m},[`${n}-trigger-text`]:{color:s}}},In(e,p)),Dn(e,p)),So(e)),yo(e))},bo(e))},wr(e,{focusElCls:`${n}-trigger-active`})]},$o=Ft("ColorPicker",e=>{const{colorTextQuaternary:t,marginSM:n}=e,r=8,a=Mt(e,{colorPickerWidth:234,colorPickerHandlerSize:16,colorPickerHandlerSizeSM:12,colorPickerAlphaInputWidth:44,colorPickerInputNumberHandleWidth:16,colorPickerPresetColorSize:24,colorPickerInsetShadow:`inset 0 0 1px 0 ${t}`,colorPickerSliderHeight:r,colorPickerPreviewSize:e.calc(r).mul(2).add(n).equal()});return[xo(a)]});var wo=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,r=Object.getOwnPropertySymbols(e);a<r.length;a++)t.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(n[r[a]]=e[r[a]]);return n};const un=e=>{const{mode:t,value:n,defaultValue:r,format:a,defaultFormat:l,allowClear:i=!1,presets:s,children:c,trigger:u="click",open:d,disabled:v,placement:S="bottomLeft",arrow:h=!0,panelRender:p,showText:m,style:f,className:C,size:g,rootClassName:b,prefixCls:$,styles:x,disabledAlpha:O=!1,onFormatChange:y,onChange:P,onClear:w,onOpenChange:D,onChangeComplete:M,getPopupContainer:N,autoAdjustOverflow:V=!0,destroyTooltipOnHide:R,disabledFormat:H}=e,T=wo(e,["mode","value","defaultValue","format","defaultFormat","allowClear","presets","children","trigger","open","disabled","placement","arrow","panelRender","showText","style","className","size","rootClassName","prefixCls","styles","disabledAlpha","onFormatChange","onChange","onClear","onOpenChange","onChangeComplete","getPopupContainer","autoAdjustOverflow","destroyTooltipOnHide","disabledFormat"]),{getPrefixCls:k,direction:W,colorPicker:j}=o.useContext(zn),de=o.useContext(sn),me=v??de,[fe,$e]=ct(!1,{value:d,postState:ce=>!me&&ce,onChange:D}),[he,Q]=ct(a,{value:a,defaultValue:l,onChange:y}),A=k("color-picker",$),[L,te,pe,B,z]=vo(r,n,t),K=o.useMemo(()=>ln(L)<100,[L]),[ge,we]=E.useState(null),Re=ce=>{if(M){let Z=rt(ce);O&&K&&(Z=At(ce)),M(Z)}},le=(ce,Z)=>{let be=rt(ce);O&&K&&(be=At(be)),te(be),we(null),P&&P(be,be.toCssString()),Z||Re(be)},[Ne,He]=E.useState(0),[De,_e]=E.useState(!1),Le=ce=>{if(B(ce),ce==="single"&&L.isGradient())He(0),le(new it(L.getColors()[0].color)),we(L);else if(ce==="gradient"&&!L.isGradient()){const Z=K?At(L):L;le(new it(ge||[{percent:0,color:Z},{percent:100,color:Z}]))}},{status:Fe}=E.useContext(Wn),{compactSize:ve,compactItemClassnames:ne}=Kn(A,W),Ee=on(ce=>{var Z;return(Z=g??ve)!==null&&Z!==void 0?Z:ce}),Oe=Yt(A),[Ve,Ce,U]=$o(A,Oe),Ke={[`${A}-rtl`]:W},Be=ue(b,U,Oe,Ke),Pe=ue(qn(A,Fe),{[`${A}-sm`]:Ee==="small",[`${A}-lg`]:Ee==="large"},ne,j==null?void 0:j.className,Be,C,Ce),Me=ue(A,Be),tt={open:fe,trigger:u,placement:S,arrow:h,rootClassName:b,getPopupContainer:N,autoAdjustOverflow:V,destroyTooltipOnHide:R},ke=Object.assign(Object.assign({},j==null?void 0:j.style),f);return Ve(E.createElement(Gr,Object.assign({style:x==null?void 0:x.popup,styles:{body:x==null?void 0:x.popupOverlayInner},onOpenChange:ce=>{(!ce||!me)&&$e(ce)},content:E.createElement(Er,{form:!0},E.createElement(uo,{mode:pe,onModeChange:Le,modeOptions:z,prefixCls:A,value:L,allowClear:i,disabled:me,disabledAlpha:O,presets:s,panelRender:p,format:he,onFormatChange:Q,onChange:le,onChangeComplete:Re,onClear:w,activeIndex:Ne,onActive:He,gradientDragging:De,onGradientDragging:_e,disabledFormat:H})),classNames:{root:Me}},tt),c||E.createElement(go,Object.assign({activeIndex:fe?Ne:-1,open:fe,className:Pe,style:ke,prefixCls:A,disabled:me,showText:m,format:he},T,{color:L}))))},Eo=Xn(un,void 0,e=>Object.assign(Object.assign({},e),{placement:"bottom",autoAdjustOverflow:!1}),"color-picker",e=>e);un._InternalPanelDoNotUseOrYouWillBeFired=Eo;function Oo(e,t){var n=typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=Or(e))||t){n&&(e=n);var r=0,a=function(){};return{s:a,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(u){throw u},f:a}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var l,i=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var u=n.next();return i=u.done,u},e:function(u){s=!0,l=u},f:function(){try{i||n.return==null||n.return()}finally{if(s)throw l}}}}const Po=function(e){var t=o.useRef({valueLabels:new Map});return o.useMemo(function(){var n=t.current.valueLabels,r=new Map,a=e.map(function(l){var i=l.value,s=l.label,c=s??n.get(i);return r.set(i,c),oe(oe({},l),{},{label:c})});return t.current.valueLabels=r,[a]},[e])};var Mo=function(t,n,r,a){return o.useMemo(function(){var l=function(h){return h.map(function(p){var m=p.value;return m})},i=l(t),s=l(n),c=i.filter(function(S){return!a[S]}),u=i,d=s;if(r){var v=Qt(i,!0,a);u=v.checkedKeys,d=v.halfCheckedKeys}return[Array.from(new Set([].concat(Te(c),Te(u)))),d]},[t,n,r,a])},Ro=function(t){return Array.isArray(t)?t:t!==void 0?[t]:[]},Do=function(t){var n=t||{},r=n.label,a=n.value,l=n.children;return{_title:r?[r]:["title","label"],value:a||"value",key:a||"value",children:l||"children"}},tn=function(t){return!t||t.disabled||t.disableCheckbox||t.checkable===!1},Io=function(t,n){var r=[],a=function l(i){i.forEach(function(s){var c=s[n.children];c&&(r.push(s[n.value]),l(c))})};return a(t),r},Nn=function(t){return t==null};const No=function(e,t){return o.useMemo(function(){var n=Zr(e,{fieldNames:t,initWrapper:function(a){return oe(oe({},a),{},{valueEntities:new Map})},processEntity:function(a,l){var i=a.node[t.value];l.valueEntities.set(i,a)}});return n},[e,t])};var dn=function(){return null},Ho=["children","value"];function cr(e){return Pr(e).map(function(t){if(!o.isValidElement(t)||!t.type)return null;var n=t,r=n.key,a=n.props,l=a.children,i=a.value,s=Ot(a,Ho),c=oe({key:r,value:i},s),u=cr(l);return u.length&&(c.children=u),c}).filter(function(t){return t})}function nn(e){if(!e)return e;var t=oe({},e);return"props"in t||Object.defineProperty(t,"props",{get:function(){return yt(!1,"New `rc-tree-select` not support return node instance as argument anymore. Please consider to remove `props` access."),t}}),t}function ko(e,t,n,r,a,l){var i=null,s=null;function c(){function u(d){var v=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"0",S=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;return d.map(function(h,p){var m="".concat(v,"-").concat(p),f=h[l.value],C=n.includes(f),g=u(h[l.children]||[],m,C),b=o.createElement(dn,h,g.map(function(x){return x.node}));if(t===f&&(i=b),C){var $={pos:m,node:b,children:g};return S||s.push($),$}return null}).filter(function(h){return h})}s||(s=[],u(r),s.sort(function(d,v){var S=d.node.props.value,h=v.node.props.value,p=n.indexOf(S),m=n.indexOf(h);return p-m}))}Object.defineProperty(e,"triggerNode",{get:function(){return yt(!1,"`triggerNode` is deprecated. Please consider decoupling data with node."),c(),i}}),Object.defineProperty(e,"allCheckedNodes",{get:function(){return yt(!1,"`allCheckedNodes` is deprecated. Please consider decoupling data with node."),c(),a?s:s.map(function(d){var v=d.node;return v})}})}var jo=function(t,n,r){var a=r.fieldNames,l=r.treeNodeFilterProp,i=r.filterTreeNode,s=a.children;return o.useMemo(function(){if(!n||i===!1)return t;var c=typeof i=="function"?i:function(d,v){return String(v[l]).toUpperCase().includes(n.toUpperCase())},u=function d(v){var S=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;return v.reduce(function(h,p){var m=p[s],f=S||c(n,nn(p)),C=d(m||[],f);return(f||C.length)&&h.push(oe(oe({},p),{},Ae({isLeaf:void 0},s,C))),h},[])};return u(t)},[t,n,s,l,i])};function Hn(e){var t=o.useRef();t.current=e;var n=o.useCallback(function(){return t.current.apply(t,arguments)},[]);return n}function To(e,t){var n=t.id,r=t.pId,a=t.rootPId,l=new Map,i=[];return e.forEach(function(s){var c=s[n],u=oe(oe({},s),{},{key:s.key||c});l.set(c,u)}),l.forEach(function(s){var c=s[r],u=l.get(c);u?(u.children=u.children||[],u.children.push(s)):(c===a||a===null)&&i.push(s)}),i}function Ao(e,t,n){return o.useMemo(function(){if(e){if(n){var r=oe({id:"id",pId:"pId",rootPId:null},Pt(n)==="object"?n:{});return To(e,r)}return e}return cr(t)},[t,n,e])}var ur=o.createContext(null),dr=o.createContext(null),_o={width:0,height:0,display:"flex",overflow:"hidden",opacity:0,border:0,padding:0,margin:0},Lo=function(t,n){var r=Fr(),a=r.prefixCls,l=r.multiple,i=r.searchValue,s=r.toggleOpen,c=r.open,u=r.notFoundContent,d=o.useContext(dr),v=d.virtual,S=d.listHeight,h=d.listItemHeight,p=d.listItemScrollOffset,m=d.treeData,f=d.fieldNames,C=d.onSelect,g=d.dropdownMatchSelectWidth,b=d.treeExpandAction,$=d.treeTitleRender,x=d.onPopupScroll,O=d.leftMaxCount,y=d.leafCountOnly,P=d.valueEntities,w=o.useContext(ur),D=w.checkable,M=w.checkedKeys,N=w.halfCheckedKeys,V=w.treeExpandedKeys,R=w.treeDefaultExpandAll,H=w.treeDefaultExpandedKeys,T=w.onTreeExpand,k=w.treeIcon,W=w.showTreeIcon,j=w.switcherIcon,de=w.treeLine,me=w.treeNodeFilterProp,fe=w.loadData,$e=w.treeLoadedKeys,he=w.treeMotion,Q=w.onTreeLoad,A=w.keyEntities,L=o.useRef(),te=hn(function(){return m},[c,m],function(re,q){return q[0]&&re[1]!==q[1]}),pe=o.useMemo(function(){return D?{checked:M,halfChecked:N}:null},[D,M,N]);o.useEffect(function(){if(c&&!l&&M.length){var re;(re=L.current)===null||re===void 0||re.scrollTo({key:M[0]})}},[c]);var B=function(q){q.preventDefault()},z=function(q,je){var X=je.node;D&&tn(X)||(C(X.key,{selected:!M.includes(X.key)}),l||s(!1))},K=o.useState(H),ge=Y(K,2),we=ge[0],Re=ge[1],le=o.useState(null),Ne=Y(le,2),He=Ne[0],De=Ne[1],_e=o.useMemo(function(){return V?Te(V):i?He:we},[we,He,V,i]),Le=function(q){Re(q),De(q),T&&T(q)},Fe=String(i).toLowerCase(),ve=function(q){return Fe?String(q[me]).toLowerCase().includes(Fe):!1};o.useEffect(function(){i&&De(Io(m,f))},[i]);var ne=o.useState(function(){return new Map}),Ee=Y(ne,2),Oe=Ee[0],Ve=Ee[1];o.useEffect(function(){O&&Ve(new Map)},[O]);function Ce(re){var q=re[f.value];if(!Oe.has(q)){var je=P.get(q),X=(je.children||[]).length===0;if(X)Oe.set(q,!1);else{var Se=je.children.filter(function(We){return!We.node.disabled&&!We.node.disableCheckbox&&!M.includes(We.node[f.value])}),ze=Se.length;Oe.set(q,ze>O)}}return Oe.get(q)}var U=at(function(re){var q=re[f.value];return M.includes(q)||O===null?!1:O<=0?!0:y&&O?Ce(re):!1}),Ke=function re(q){var je=Oo(q),X;try{for(je.s();!(X=je.n()).done;){var Se=X.value;if(!(Se.disabled||Se.selectable===!1)){if(i){if(ve(Se))return Se}else return Se;if(Se[f.children]){var ze=re(Se[f.children]);if(ze)return ze}}}}catch(We){je.e(We)}finally{je.f()}return null},Be=o.useState(null),Pe=Y(Be,2),Me=Pe[0],tt=Pe[1],ke=A[Me];o.useEffect(function(){if(c){var re=null,q=function(){var X=Ke(te);return X?X[f.value]:null};!l&&M.length&&!i?re=M[0]:re=q(),tt(re)}},[c,i]),o.useImperativeHandle(n,function(){var re;return{scrollTo:(re=L.current)===null||re===void 0?void 0:re.scrollTo,onKeyDown:function(je){var X,Se=je.which;switch(Se){case Ie.UP:case Ie.DOWN:case Ie.LEFT:case Ie.RIGHT:(X=L.current)===null||X===void 0||X.onKeyDown(je);break;case Ie.ENTER:{if(ke){var ze=U(ke.node),We=(ke==null?void 0:ke.node)||{},ut=We.selectable,Je=We.value,Qe=We.disabled;ut!==!1&&!Qe&&!ze&&z(null,{node:{key:Me},selected:!M.includes(Je)})}break}case Ie.ESC:s(!1)}},onKeyUp:function(){}}});var ce=hn(function(){return!i},[i,V||we],function(re,q){var je=Y(re,1),X=je[0],Se=Y(q,2),ze=Se[0],We=Se[1];return X!==ze&&!!(ze||We)}),Z=ce?fe:null;if(te.length===0)return o.createElement("div",{role:"listbox",className:"".concat(a,"-empty"),onMouseDown:B},u);var be={fieldNames:f};return $e&&(be.loadedKeys=$e),_e&&(be.expandedKeys=_e),o.createElement("div",{onMouseDown:B},ke&&c&&o.createElement("span",{style:_o,"aria-live":"assertive"},ke.node.value),o.createElement(ea.Provider,{value:{nodeDisabled:U}},o.createElement(ta,st({ref:L,focusable:!1,prefixCls:"".concat(a,"-tree"),treeData:te,height:S,itemHeight:h,itemScrollOffset:p,virtual:v!==!1&&g!==!1,multiple:l,icon:k,showIcon:W,switcherIcon:j,showLine:de,loadData:Z,motion:he,activeKey:Me,checkable:D,checkStrictly:!0,checkedKeys:pe,selectedKeys:D?[]:M,defaultExpandAll:R,titleRender:$},be,{onActiveChange:tt,onSelect:z,onCheck:z,onExpand:Le,onLoad:Q,filterTreeNode:ve,expandAction:b,onScroll:x}))))},Fo=o.forwardRef(Lo),fn="SHOW_ALL",gn="SHOW_PARENT",Vt="SHOW_CHILD";function kn(e,t,n,r){var a=new Set(e);return t===Vt?e.filter(function(l){var i=n[l];return!i||!i.children||!i.children.some(function(s){var c=s.node;return a.has(c[r.value])})||!i.children.every(function(s){var c=s.node;return tn(c)||a.has(c[r.value])})}):t===gn?e.filter(function(l){var i=n[l],s=i?i.parent:null;return!s||tn(s.node)||!a.has(s.key)}):e}var Vo=["id","prefixCls","value","defaultValue","onChange","onSelect","onDeselect","searchValue","inputValue","onSearch","autoClearSearchValue","filterTreeNode","treeNodeFilterProp","showCheckedStrategy","treeNodeLabelProp","multiple","treeCheckable","treeCheckStrictly","labelInValue","maxCount","fieldNames","treeDataSimpleMode","treeData","children","loadData","treeLoadedKeys","onTreeLoad","treeDefaultExpandAll","treeExpandedKeys","treeDefaultExpandedKeys","onTreeExpand","treeExpandAction","virtual","listHeight","listItemHeight","listItemScrollOffset","onDropdownVisibleChange","dropdownMatchSelectWidth","treeLine","treeIcon","showTreeIcon","switcherIcon","treeMotion","treeTitleRender","onPopupScroll"];function Bo(e){return!e||Pt(e)!=="object"}var zo=o.forwardRef(function(e,t){var n=e.id,r=e.prefixCls,a=r===void 0?"rc-tree-select":r,l=e.value,i=e.defaultValue,s=e.onChange,c=e.onSelect,u=e.onDeselect,d=e.searchValue,v=e.inputValue,S=e.onSearch,h=e.autoClearSearchValue,p=h===void 0?!0:h,m=e.filterTreeNode,f=e.treeNodeFilterProp,C=f===void 0?"value":f,g=e.showCheckedStrategy,b=e.treeNodeLabelProp,$=e.multiple,x=e.treeCheckable,O=e.treeCheckStrictly,y=e.labelInValue,P=e.maxCount,w=e.fieldNames,D=e.treeDataSimpleMode,M=e.treeData,N=e.children,V=e.loadData,R=e.treeLoadedKeys,H=e.onTreeLoad,T=e.treeDefaultExpandAll,k=e.treeExpandedKeys,W=e.treeDefaultExpandedKeys,j=e.onTreeExpand,de=e.treeExpandAction,me=e.virtual,fe=e.listHeight,$e=fe===void 0?200:fe,he=e.listItemHeight,Q=he===void 0?20:he,A=e.listItemScrollOffset,L=A===void 0?0:A,te=e.onDropdownVisibleChange,pe=e.dropdownMatchSelectWidth,B=pe===void 0?!0:pe,z=e.treeLine,K=e.treeIcon,ge=e.showTreeIcon,we=e.switcherIcon,Re=e.treeMotion,le=e.treeTitleRender,Ne=e.onPopupScroll,He=Ot(e,Vo),De=Vr(n),_e=x&&!O,Le=x||O,Fe=O||y,ve=Le||$,ne=ct(i,{value:l}),Ee=Y(ne,2),Oe=Ee[0],Ve=Ee[1],Ce=o.useMemo(function(){return x?g||Vt:fn},[g,x]),U=o.useMemo(function(){return Do(w)},[JSON.stringify(w)]),Ke=ct("",{value:d!==void 0?d:v,postState:function(ae){return ae||""}}),Be=Y(Ke,2),Pe=Be[0],Me=Be[1],tt=function(ae){Me(ae),S==null||S(ae)},ke=Ao(M,N,D),ce=No(ke,U),Z=ce.keyEntities,be=ce.valueEntities,re=o.useCallback(function(ie){var ae=[],se=[];return ie.forEach(function(ye){be.has(ye)?se.push(ye):ae.push(ye)}),{missingRawValues:ae,existRawValues:se}},[be]),q=jo(ke,Pe,{fieldNames:U,treeNodeFilterProp:C,filterTreeNode:m}),je=o.useCallback(function(ie){if(ie){if(b)return ie[b];for(var ae=U._title,se=0;se<ae.length;se+=1){var ye=ie[ae[se]];if(ye!==void 0)return ye}}},[U,b]),X=o.useCallback(function(ie){var ae=Ro(ie);return ae.map(function(se){return Bo(se)?{value:se}:se})},[]),Se=o.useCallback(function(ie){var ae=X(ie);return ae.map(function(se){var ye=se.label,et=se.value,F=se.halfChecked,I,_=be.get(et);if(_){var J;ye=le?le(_.node):(J=ye)!==null&&J!==void 0?J:je(_.node),I=_.node.disabled}else if(ye===void 0){var xe=X(Oe).find(function(Ze){return Ze.value===et});ye=xe.label}return{label:ye,value:et,halfChecked:F,disabled:I}})},[be,je,X,Oe]),ze=o.useMemo(function(){return X(Oe===null?[]:Oe)},[X,Oe]),We=o.useMemo(function(){var ie=[],ae=[];return ze.forEach(function(se){se.halfChecked?ae.push(se):ie.push(se)}),[ie,ae]},[ze]),ut=Y(We,2),Je=ut[0],Qe=ut[1],xt=o.useMemo(function(){return Je.map(function(ie){return ie.value})},[Je]),Bt=Mo(Je,Qe,_e,Z),It=Y(Bt,2),ot=It[0],dt=It[1],Nt=o.useMemo(function(){var ie=kn(ot,Ce,Z,U),ae=ie.map(function(F){var I,_;return(I=(_=Z[F])===null||_===void 0||(_=_.node)===null||_===void 0?void 0:_[U.value])!==null&&I!==void 0?I:F}),se=ae.map(function(F){var I=Je.find(function(J){return J.value===F}),_=y?I==null?void 0:I.label:le==null?void 0:le(I);return{value:F,label:_}}),ye=Se(se),et=ye[0];return!ve&&et&&Nn(et.value)&&Nn(et.label)?[]:ye.map(function(F){var I;return oe(oe({},F),{},{label:(I=F.label)!==null&&I!==void 0?I:F.value})})},[U,ve,ot,Je,Se,Ce,Z]),zt=Po(Nt),Wt=Y(zt,1),Ct=Wt[0],bt=o.useMemo(function(){return ve&&(Ce==="SHOW_CHILD"||O||!x)?P:null},[P,ve,O,Ce,x]),ft=Hn(function(ie,ae,se){var ye=kn(ie,Ce,Z,U);if(!(bt&&ye.length>bt)){var et=Se(ie);if(Ve(et),p&&Me(""),s){var F=ie;_e&&(F=ye.map(function(Xe){var Ge=be.get(Xe);return Ge?Ge.node[U.value]:Xe}));var I=ae||{triggerValue:void 0,selected:void 0},_=I.triggerValue,J=I.selected,xe=F;if(O){var Ze=Qe.filter(function(Xe){return!F.includes(Xe.value)});xe=[].concat(Te(xe),Te(Ze))}var Ye=Se(xe),qe={preValue:Je,triggerValue:_},Ue=!0;(O||se==="selection"&&!J)&&(Ue=!1),ko(qe,_,ie,ke,Ue,U),Le?qe.checked=J:qe.selected=J;var nt=Fe?Ye:Ye.map(function(Xe){return Xe.value});s(ve?nt:nt[0],Fe?null:Ye.map(function(Xe){return Xe.label}),qe)}}}),$t=o.useCallback(function(ie,ae){var se,ye=ae.selected,et=ae.source,F=Z[ie],I=F==null?void 0:F.node,_=(se=I==null?void 0:I[U.value])!==null&&se!==void 0?se:ie;if(!ve)ft([_],{selected:!0,triggerValue:_},"option");else{var J=ye?[].concat(Te(xt),[_]):ot.filter(function(Ge){return Ge!==_});if(_e){var xe=re(J),Ze=xe.missingRawValues,Ye=xe.existRawValues,qe=Ye.map(function(Ge){return be.get(Ge).key}),Ue;if(ye){var nt=Qt(qe,!0,Z);Ue=nt.checkedKeys}else{var Xe=Qt(qe,{halfCheckedKeys:dt},Z);Ue=Xe.checkedKeys}J=[].concat(Te(Ze),Te(Ue.map(function(Ge){return Z[Ge].node[U.value]})))}ft(J,{selected:ye,triggerValue:_},et||"option")}ye||!ve?c==null||c(_,nn(I)):u==null||u(_,nn(I))},[re,be,Z,U,ve,xt,ft,_e,c,u,ot,dt,P]),Kt=o.useCallback(function(ie){if(te){var ae={};Object.defineProperty(ae,"documentClickClose",{get:function(){return yt(!1,"Second param of `onDropdownVisibleChange` has been removed."),!1}}),te(ie,ae)}},[te]),Ht=Hn(function(ie,ae){var se=ie.map(function(ye){return ye.value});if(ae.type==="clear"){ft(se,{},"selection");return}ae.values.length&&$t(ae.values[0].value,{selected:!1,source:"selection"})}),kt=o.useMemo(function(){return{virtual:me,dropdownMatchSelectWidth:B,listHeight:$e,listItemHeight:Q,listItemScrollOffset:L,treeData:q,fieldNames:U,onSelect:$t,treeExpandAction:de,treeTitleRender:le,onPopupScroll:Ne,leftMaxCount:P===void 0?null:P-Ct.length,leafCountOnly:Ce==="SHOW_CHILD"&&!O&&!!x,valueEntities:be}},[me,B,$e,Q,L,q,U,$t,de,le,Ne,P,Ct.length,Ce,O,x,be]),gt=o.useMemo(function(){return{checkable:Le,loadData:V,treeLoadedKeys:R,onTreeLoad:H,checkedKeys:ot,halfCheckedKeys:dt,treeDefaultExpandAll:T,treeExpandedKeys:k,treeDefaultExpandedKeys:W,onTreeExpand:j,treeIcon:K,treeMotion:Re,showTreeIcon:ge,switcherIcon:we,treeLine:z,treeNodeFilterProp:C,keyEntities:Z}},[Le,V,R,H,ot,dt,T,k,W,j,K,Re,ge,we,z,C,Z]);return o.createElement(dr.Provider,{value:kt},o.createElement(ur.Provider,{value:gt},o.createElement(Br,st({ref:t},He,{id:De,prefixCls:a,mode:ve?"multiple":void 0,displayValues:Ct,onDisplayValuesChange:Ht,searchValue:Pe,onSearch:tt,OptionList:Fo,emptyOptions:!ke.length,onDropdownVisibleChange:Kt,dropdownMatchSelectWidth:B}))))}),Dt=zo;Dt.TreeNode=dn;Dt.SHOW_ALL=fn;Dt.SHOW_PARENT=gn;Dt.SHOW_CHILD=Vt;const Wo=e=>{const{componentCls:t,treePrefixCls:n,colorBgElevated:r}=e,a=`.${n}`;return[{[`${t}-dropdown`]:[{padding:`${G(e.paddingXS)} ${G(e.calc(e.paddingXS).div(2).equal())}`},ra(n,Mt(e,{colorBgContainer:r}),!1),{[a]:{borderRadius:0,[`${a}-list-holder-inner`]:{alignItems:"stretch",[`${a}-treenode`]:{[`${a}-node-content-wrapper`]:{flex:"auto"}}}}},aa(`${n}-checkbox`,e),{"&-rtl":{direction:"rtl",[`${a}-switcher${a}-switcher_close`]:{[`${a}-switcher-icon svg`]:{transform:"rotate(90deg)"}}}}]}]};function Ko(e,t,n){return Ft("TreeSelect",r=>{const a=Mt(r,{treePrefixCls:t});return[Wo(a)]},na)(e,n)}var qo=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,r=Object.getOwnPropertySymbols(e);a<r.length;a++)t.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(n[r[a]]=e[r[a]]);return n};const Xo=(e,t)=>{var n;const{prefixCls:r,size:a,disabled:l,bordered:i=!0,className:s,rootClassName:c,treeCheckable:u,multiple:d,listHeight:v=256,listItemHeight:S,placement:h,notFoundContent:p,switcherIcon:m,treeLine:f,getPopupContainer:C,popupClassName:g,dropdownClassName:b,treeIcon:$=!1,transitionName:x,choiceTransitionName:O="",status:y,treeExpandAction:P,builtinPlacements:w,dropdownMatchSelectWidth:D,popupMatchSelectWidth:M,allowClear:N,variant:V,dropdownStyle:R,tagRender:H,maxCount:T,showCheckedStrategy:k,treeCheckStrictly:W}=e,j=qo(e,["prefixCls","size","disabled","bordered","className","rootClassName","treeCheckable","multiple","listHeight","listItemHeight","placement","notFoundContent","switcherIcon","treeLine","getPopupContainer","popupClassName","dropdownClassName","treeIcon","transitionName","choiceTransitionName","status","treeExpandAction","builtinPlacements","dropdownMatchSelectWidth","popupMatchSelectWidth","allowClear","variant","dropdownStyle","tagRender","maxCount","showCheckedStrategy","treeCheckStrictly"]),{getPopupContainer:de,getPrefixCls:me,renderEmpty:fe,direction:$e,virtual:he,popupMatchSelectWidth:Q,popupOverflow:A}=o.useContext(zn),[,L]=Mr(),te=S??(L==null?void 0:L.controlHeightSM)+(L==null?void 0:L.paddingXXS),pe=me(),B=me("select",r),z=me("select-tree",r),K=me("tree-select",r),{compactSize:ge,compactItemClassnames:we}=Kn(B,$e),Re=Yt(B),le=Yt(K),[Ne,He,De]=zr(B,Re),[_e]=Ko(K,z,le),[Le,Fe]=Rr("treeSelect",V,i),ve=ue(g||b,`${K}-dropdown`,{[`${K}-dropdown-rtl`]:$e==="rtl"},c,De,Re,le,He),ne=!!(u||d),Ee=o.useMemo(()=>{if(!(T&&(k==="SHOW_ALL"&&!W||k==="SHOW_PARENT")))return T},[T,k,W]),Oe=Wr(e.suffixIcon,e.showArrow),Ve=(n=M??D)!==null&&n!==void 0?n:Q,{status:Ce,hasFeedback:U,isFormItemInput:Ke,feedbackIcon:Be}=o.useContext(Wn),Pe=Ir(Ce,y),{suffixIcon:Me,removeIcon:tt,clearIcon:ke}=Kr(Object.assign(Object.assign({},j),{multiple:ne,showSuffixIcon:Oe,hasFeedback:U,feedbackIcon:Be,prefixCls:B,componentName:"TreeSelect"})),ce=N===!0?{clearIcon:ke}:N;let Z;p!==void 0?Z=p:Z=(fe==null?void 0:fe("Select"))||o.createElement(qr,{componentName:"Select"});const be=an(j,["suffixIcon","removeIcon","clearIcon","itemIcon","switcherIcon"]),re=o.useMemo(()=>h!==void 0?h:$e==="rtl"?"bottomRight":"bottomLeft",[h,$e]),q=on(Je=>{var Qe;return(Qe=a??ge)!==null&&Qe!==void 0?Qe:Je}),je=o.useContext(sn),X=l??je,Se=ue(!r&&K,{[`${B}-lg`]:q==="large",[`${B}-sm`]:q==="small",[`${B}-rtl`]:$e==="rtl",[`${B}-${Le}`]:Fe,[`${B}-in-form-item`]:Ke},qn(B,Pe,U),we,s,c,De,Re,le,He),ze=Je=>o.createElement(oa,{prefixCls:z,switcherIcon:m,treeNodeProps:Je,showLine:f}),[We]=Dr("SelectLike",R==null?void 0:R.zIndex),ut=o.createElement(Dt,Object.assign({virtual:he,disabled:X},be,{dropdownMatchSelectWidth:Ve,builtinPlacements:Xr(w,A),ref:t,prefixCls:B,className:Se,listHeight:v,listItemHeight:te,treeCheckable:u&&o.createElement("span",{className:`${B}-tree-checkbox-inner`}),treeLine:!!f,suffixIcon:Me,multiple:ne,placement:re,removeIcon:tt,allowClear:ce,switcherIcon:ze,showTreeIcon:$,notFoundContent:Z,getPopupContainer:C||de,treeMotion:null,dropdownClassName:ve,dropdownStyle:Object.assign(Object.assign({},R),{zIndex:We}),choiceTransitionName:pn(pe,"",O),transitionName:pn(pe,"slide-up",x),treeExpandAction:P,tagRender:ne?H:void 0,maxCount:Ee,showCheckedStrategy:k,treeCheckStrictly:W}));return Ne(_e(ut))},Go=o.forwardRef(Xo),pt=Go,Uo=Xn(pt,"dropdownAlign",e=>an(e,["visible"]));pt.TreeNode=dn;pt.SHOW_ALL=fn;pt.SHOW_PARENT=gn;pt.SHOW_CHILD=Vt;pt._InternalPanelDoNotUseOrYouWillBeFired=Uo;const{Title:Yo,Text:Jo}=Hr,{TextArea:Qo}=Jt,Zo=Rt(la)`
  .ant-table-thead > tr > th {
    text-align: right;
  }

  .ant-table-cell {
    text-align: right;
  }
`,el=Rt(jr)`
  margin-bottom: 24px;
`,tl=Rt.div`
  display: flex;
  flex-wrap: wrap;
  gap: 16px;
  margin-bottom: 24px;
`,nl=Rt.div`
  display: flex;
  justify-content: flex-end;
  gap: 8px;
`,rl=Rt.div`
  display: inline-block;
  width: 16px;
  height: 16px;
  border-radius: 4px;
  margin-left: 8px;
  background-color: ${e=>e.color};
  border: 1px solid rgba(0, 0, 0, 0.1);
`,pl=()=>{const{categories:e,addCategory:t,updateCategory:n,deleteCategory:r,books:a,createCategoryModel:l}=Nr(),[i]=St.useForm(),[s,c]=o.useState(""),[u,d]=o.useState(!1),[v,S]=o.useState(null),[h,p]=o.useState([]);o.useEffect(()=>{if(!s.trim()){p(e);return}const y=s.toLowerCase(),P=e.filter(w=>w.name.toLowerCase().includes(y)||w.description&&w.description.toLowerCase().includes(y));p(P)},[e,s]);const m=y=>a.filter(P=>P.categories&&P.categories.includes(y)).length,f=y=>{if(!y)return null;const P=e.find(w=>w.id===y);return P?P.name:null},C=()=>{const y=e.filter(w=>!w.parent),P=w=>{const D={title:w.name,value:w.id,key:w.id},M=e.filter(N=>N.parent===w.id);return M.length>0&&(D.children=M.map(P)),D};return y.map(P)},g=(y=null)=>{S(y),y?i.setFieldsValue({...y,color:y.color||"#1890ff"}):i.resetFields(),d(!0)},b=()=>{d(!1),i.resetFields()},$=async y=>{if(v&&y.parent===v.id){Xt.error({title:"שגיאה",content:"קטגוריה לא יכולה להיות הורה של עצמה"});return}v?await n(v.id,y):await t(y),d(!1),i.resetFields()},x=async y=>{const P=a.filter(D=>D.categories&&D.categories.includes(y)).length,w=e.filter(D=>D.parent===y).length;if(P>0||w>0){Xt.confirm({title:"לא ניתן למחוק קטגוריה זו",content:`קטגוריה זו משויכת ל-${P} ספרים ו-${w} קטגוריות משנה. אנא הסר שיוכים אלו לפני מחיקת הקטגוריה.`,okText:"הבנתי",cancelText:null,cancelButtonProps:{style:{display:"none"}}});return}await r(y)},O=[{title:"שם הקטגוריה",dataIndex:"name",key:"name",render:(y,P)=>ee.jsxs(kr,{children:[ee.jsx(rl,{color:P.color}),ee.jsx(Jo,{strong:!0,children:y})]})},{title:"תיאור",dataIndex:"description",key:"description",render:y=>y||"-",ellipsis:!0},{title:"קטגוריית הורה",key:"parent",render:(y,P)=>f(P.parent)||"-"},{title:"ספרים",key:"bookCount",render:(y,P)=>{const w=m(P.id);return w>0?ee.jsx(Cn,{color:"blue",children:w}):ee.jsx(Cn,{color:"default",children:"0"})}},{title:"פעולות",key:"actions",width:120,render:(y,P)=>ee.jsxs(nl,{children:[ee.jsx(Ut,{title:"עריכה",children:ee.jsx(wt,{icon:ee.jsx(Ur,{}),type:"text",onClick:()=>g(P)})}),ee.jsx(Ut,{title:"מחיקה",children:ee.jsx(Yr,{title:"בטוח שאתה רוצה למחוק את הקטגוריה?",onConfirm:()=>x(P.id),okText:"כן",cancelText:"לא",placement:"topRight",children:ee.jsx(wt,{icon:ee.jsx(_r,{}),type:"text",danger:!0})})})]})}];return ee.jsxs("div",{children:[ee.jsxs(el,{children:[ee.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:16},children:[ee.jsx(Yo,{level:2,children:"קטגוריות"}),ee.jsx(wt,{type:"primary",icon:ee.jsx(Tr,{}),onClick:()=>g(),children:"הוספת קטגוריה"})]}),ee.jsx(tl,{children:ee.jsx(Jt,{placeholder:"חיפוש לפי שם או תיאור",prefix:ee.jsx(Ar,{}),value:s,onChange:y=>c(y.target.value),style:{width:300}})}),ee.jsx(Zo,{dataSource:h,columns:O,rowKey:"id",pagination:{pageSize:10,showSizeChanger:!0,showTotal:y=>`סה"כ ${y} קטגוריות`},locale:{emptyText:"לא נמצאו קטגוריות"}})]}),ee.jsx(Xt,{title:v?"עריכת קטגוריה":"הוספת קטגוריה חדשה",open:u,onCancel:b,footer:null,destroyOnClose:!0,children:ee.jsxs(St,{form:i,layout:"vertical",onFinish:$,initialValues:l(),children:[ee.jsx(St.Item,{name:"name",label:"שם הקטגוריה",rules:[{required:!0,message:"נא להזין את שם הקטגוריה"}],children:ee.jsx(Jt,{placeholder:"הזן את שם הקטגוריה"})}),ee.jsx(St.Item,{name:"description",label:"תיאור",children:ee.jsx(Qo,{placeholder:"הזן תיאור קצר",rows:3})}),ee.jsx(St.Item,{name:"color",label:"צבע",children:ee.jsx(un,{})}),ee.jsx(St.Item,{name:"parent",label:"קטגוריית הורה",children:ee.jsx(pt,{treeData:C(),placeholder:"בחר קטגוריית הורה (אופציונלי)",allowClear:!0,treeDefaultExpandAll:!0,showSearch:!0,filterTreeNode:(y,P)=>P.title.toLowerCase().indexOf(y.toLowerCase())>=0,disabled:v&&e.some(y=>y.parent===v.id)})}),ee.jsxs("div",{style:{display:"flex",justifyContent:"flex-end",gap:16},children:[ee.jsx(wt,{onClick:b,children:"ביטול"}),ee.jsx(wt,{type:"primary",htmlType:"submit",children:v?"עדכון":"הוספה"})]})]})})]})};export{pl as default};
//# sourceMappingURL=Categories-v3vdyvKM.js.map
