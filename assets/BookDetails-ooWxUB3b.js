import{r as o,k as se,x as xe,l as B,h as je,m as Oe,y as Ce,i as T,z as vt,D as ve,E as ht,G as H,H as Qe,J as yt,K as xt,M as jt,N as Ot,g as Ct,_ as Ze,O as ae,P as St,Q as ne,U as _e,V as Te,W as $t,w as It,I as wt,X as Et,a as Nt,u as Rt,F as k,j as l,e as et,A as ue,B as U,L as le,Y as Pt,b as He,T as Dt,v as ze,Z as Bt,$ as tt,a0 as Lt,d as Mt,t as oe,f as nt}from"./index-DUlX58Q-.js";import{d as re}from"./dayjs.min-BaNbHCEw.js";import{R as _t,E as Fe}from"./index-DDsdOKcv.js";import{D as Tt}from"./dropdown-6QLkGqws.js";import{R as Ht,P as Ve}from"./EditOutlined-CRFieilc.js";import{R as zt,M as Ae}from"./DeleteOutlined-vLZCTK1r.js";import{R as Xe}from"./UserOutlined-Z0887mwt.js";import{T as We}from"./index-LhqFVJCs.js";import{L as me}from"./index-qGUZtaA6.js";import{R as fe}from"./CalendarOutlined-DlUBczpq.js";import{B as Ft}from"./index-CwQ0ZKiW.js";import{A as Vt}from"./index-Cx8ufEzX.js";import{D as Ke}from"./index-Di0xvNi1.js";import"./useClosable-CA5nerM5.js";import"./DeleteOutlined-Db3RXMkA.js";import"./Pagination-Cvr_cCw1.js";const ie=e=>{let{children:n}=e;const{getPrefixCls:r}=o.useContext(se),t=r("breadcrumb");return o.createElement("li",{className:`${t}-separator`,"aria-hidden":"true"},n===""?n:n||"/")};ie.__ANT_BREADCRUMB_SEPARATOR=!0;var At=function(e,n){var r={};for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&n.indexOf(t)<0&&(r[t]=e[t]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,t=Object.getOwnPropertySymbols(e);a<t.length;a++)n.indexOf(t[a])<0&&Object.prototype.propertyIsEnumerable.call(e,t[a])&&(r[t[a]]=e[t[a]]);return r};function Xt(e,n){if(e.title===void 0||e.title===null)return null;const r=Object.keys(n).join("|");return typeof e.title=="object"?e.title:String(e.title).replace(new RegExp(`:(${r})`,"g"),(t,a)=>n[a]||t)}function rt(e,n,r,t){if(r==null)return null;const{className:a,onClick:c}=n,i=At(n,["className","onClick"]),g=Object.assign(Object.assign({},xe(i,{data:!0,aria:!0})),{onClick:c});return t!==void 0?o.createElement("a",Object.assign({},g,{className:B(`${e}-link`,a),href:t}),r):o.createElement("span",Object.assign({},g,{className:B(`${e}-link`,a)}),r)}function Wt(e,n){return(t,a,c,i,g)=>{if(n)return n(t,a,c,i);const f=Xt(t,a);return rt(e,t,f,g)}}var he=function(e,n){var r={};for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&n.indexOf(t)<0&&(r[t]=e[t]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,t=Object.getOwnPropertySymbols(e);a<t.length;a++)n.indexOf(t[a])<0&&Object.prototype.propertyIsEnumerable.call(e,t[a])&&(r[t[a]]=e[t[a]]);return r};const at=e=>{const{prefixCls:n,separator:r="/",children:t,menu:a,overlay:c,dropdownProps:i,href:g}=e,y=(x=>{if(a||c){const E=Object.assign({},i);if(a){const s=a||{},{items:p}=s,j=he(s,["items"]);E.menu=Object.assign(Object.assign({},j),{items:p==null?void 0:p.map((u,b)=>{var{key:d,title:O,label:C,path:$}=u,I=he(u,["key","title","label","path"]);let D=C??O;return $&&(D=o.createElement("a",{href:`${g}${$}`},D)),Object.assign(Object.assign({},I),{key:d??b,label:D})})})}else c&&(E.overlay=c);return o.createElement(Tt,Object.assign({placement:"bottom"},E),o.createElement("span",{className:`${n}-overlay-link`},x,o.createElement(_t,null)))}return x})(t);return y!=null?o.createElement(o.Fragment,null,o.createElement("li",null,y),r&&o.createElement(ie,null,r)):null},lt=e=>{const{prefixCls:n,children:r,href:t}=e,a=he(e,["prefixCls","children","href"]),{getPrefixCls:c}=o.useContext(se),i=c("breadcrumb",n);return o.createElement(at,Object.assign({},a,{prefixCls:i}),rt(i,a,r,t))};lt.__ANT_BREADCRUMB_ITEM=!0;const Kt=e=>{const{componentCls:n,iconCls:r,calc:t}=e;return{[n]:Object.assign(Object.assign({},Ce(e)),{color:e.itemColor,fontSize:e.fontSize,[r]:{fontSize:e.iconFontSize},ol:{display:"flex",flexWrap:"wrap",margin:0,padding:0,listStyle:"none"},a:Object.assign({color:e.linkColor,transition:`color ${e.motionDurationMid}`,padding:`0 ${T(e.paddingXXS)}`,borderRadius:e.borderRadiusSM,height:e.fontHeight,display:"inline-block",marginInline:t(e.marginXXS).mul(-1).equal(),"&:hover":{color:e.linkHoverColor,backgroundColor:e.colorBgTextHover}},vt(e)),"li:last-child":{color:e.lastItemColor},[`${n}-separator`]:{marginInline:e.separatorMargin,color:e.separatorColor},[`${n}-link`]:{[`
          > ${r} + span,
          > ${r} + a
        `]:{marginInlineStart:e.marginXXS}},[`${n}-overlay-link`]:{borderRadius:e.borderRadiusSM,height:e.fontHeight,display:"inline-block",padding:`0 ${T(e.paddingXXS)}`,marginInline:t(e.marginXXS).mul(-1).equal(),[`> ${r}`]:{marginInlineStart:e.marginXXS,fontSize:e.fontSizeIcon},"&:hover":{color:e.linkHoverColor,backgroundColor:e.colorBgTextHover,a:{color:e.linkHoverColor}},a:{"&:hover":{backgroundColor:"transparent"}}},[`&${e.componentCls}-rtl`]:{direction:"rtl"}})}},qt=e=>({itemColor:e.colorTextDescription,lastItemColor:e.colorText,iconFontSize:e.fontSize,linkColor:e.colorTextDescription,linkHoverColor:e.colorText,separatorColor:e.colorTextDescription,separatorMargin:e.marginXS}),Gt=je("Breadcrumb",e=>{const n=Oe(e,{});return Kt(n)},qt);var qe=function(e,n){var r={};for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&n.indexOf(t)<0&&(r[t]=e[t]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,t=Object.getOwnPropertySymbols(e);a<t.length;a++)n.indexOf(t[a])<0&&Object.prototype.propertyIsEnumerable.call(e,t[a])&&(r[t[a]]=e[t[a]]);return r};function kt(e){const{breadcrumbName:n,children:r}=e,t=qe(e,["breadcrumbName","children"]),a=Object.assign({title:n},t);return r&&(a.menu={items:r.map(c=>{var{breadcrumbName:i}=c,g=qe(c,["breadcrumbName"]);return Object.assign(Object.assign({},g),{title:i})})}),a}function Yt(e,n){return o.useMemo(()=>e||(n?n.map(kt):null),[e,n])}var Ut=function(e,n){var r={};for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&n.indexOf(t)<0&&(r[t]=e[t]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,t=Object.getOwnPropertySymbols(e);a<t.length;a++)n.indexOf(t[a])<0&&Object.prototype.propertyIsEnumerable.call(e,t[a])&&(r[t[a]]=e[t[a]]);return r};const Jt=(e,n)=>{if(n===void 0)return n;let r=(n||"").replace(/^\//,"");return Object.keys(e).forEach(t=>{r=r.replace(`:${t}`,e[t])}),r},J=e=>{const{prefixCls:n,separator:r="/",style:t,className:a,rootClassName:c,routes:i,items:g,children:f,itemRender:y,params:x={}}=e,E=Ut(e,["prefixCls","separator","style","className","rootClassName","routes","items","children","itemRender","params"]),{getPrefixCls:s,direction:p,breadcrumb:j}=o.useContext(se);let u;const b=s("breadcrumb",n),[d,O,C]=Gt(b),$=Yt(g,i),I=Wt(b,y);if($&&$.length>0){const v=[],w=g||i;u=$.map((P,F)=>{const{path:q,key:M,type:Y,menu:G,overlay:V,onClick:m,className:S,separator:N,dropdownProps:z}=P,Q=Jt(x,q);Q!==void 0&&v.push(Q);const Z=M??F;if(Y==="separator")return o.createElement(ie,{key:Z},N);const _={},ce=F===$.length-1;G?_.menu=G:V&&(_.overlay=V);let{href:ee}=P;return v.length&&Q!==void 0&&(ee=`#/${v.join("/")}`),o.createElement(at,Object.assign({key:Z},_,xe(P,{data:!0,aria:!0}),{className:S,dropdownProps:z,href:ee,separator:ce?"":r,onClick:m,prefixCls:b}),I(P,x,w,v,ee))})}else if(f){const v=ve(f).length;u=ve(f).map((w,P)=>{if(!w)return w;const F=P===v-1;return ht(w,{separator:F?"":r,key:P})})}const D=B(b,j==null?void 0:j.className,{[`${b}-rtl`]:p==="rtl"},a,c,O,C),R=Object.assign(Object.assign({},j==null?void 0:j.style),t);return d(o.createElement("nav",Object.assign({className:D,style:R},E),o.createElement("ol",null,u)))};J.Item=lt;J.Separator=ie;const Qt={xxl:3,xl:3,lg:3,md:3,sm:2,xs:1},Se=H.createContext({});var Zt=function(e,n){var r={};for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&n.indexOf(t)<0&&(r[t]=e[t]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,t=Object.getOwnPropertySymbols(e);a<t.length;a++)n.indexOf(t[a])<0&&Object.prototype.propertyIsEnumerable.call(e,t[a])&&(r[t[a]]=e[t[a]]);return r};const en=e=>ve(e).map(n=>Object.assign(Object.assign({},n==null?void 0:n.props),{key:n.key}));function tn(e,n,r){const t=o.useMemo(()=>n||en(r),[n,r]);return o.useMemo(()=>t.map(c=>{var{span:i}=c,g=Zt(c,["span"]);return i==="filled"?Object.assign(Object.assign({},g),{filled:!0}):Object.assign(Object.assign({},g),{span:typeof i=="number"?i:Qe(e,i)})}),[t,e])}var nn=function(e,n){var r={};for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&n.indexOf(t)<0&&(r[t]=e[t]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,t=Object.getOwnPropertySymbols(e);a<t.length;a++)n.indexOf(t[a])<0&&Object.prototype.propertyIsEnumerable.call(e,t[a])&&(r[t[a]]=e[t[a]]);return r};function rn(e,n){let r=[],t=[],a=!1,c=0;return e.filter(i=>i).forEach(i=>{const{filled:g}=i,f=nn(i,["filled"]);if(g){t.push(f),r.push(t),t=[],c=0;return}const y=n-c;c+=i.span||1,c>=n?(c>n?(a=!0,t.push(Object.assign(Object.assign({},f),{span:y}))):t.push(f),r.push(t),t=[],c=0):t.push(f)}),t.length>0&&r.push(t),r=r.map(i=>{const g=i.reduce((f,y)=>f+(y.span||1),0);if(g<n){const f=i[i.length-1];return f.span=n-(g-(f.span||1)),i}return i}),[r,a]}const an=(e,n)=>{const[r,t]=o.useMemo(()=>rn(n,e),[n,e]);return r},ln=e=>{let{children:n}=e;return n};function Ge(e){return e!=null}const be=e=>{const{itemPrefixCls:n,component:r,span:t,className:a,style:c,labelStyle:i,contentStyle:g,bordered:f,label:y,content:x,colon:E,type:s,styles:p}=e,j=r,u=o.useContext(Se),{classNames:b}=u;return f?o.createElement(j,{className:B({[`${n}-item-label`]:s==="label",[`${n}-item-content`]:s==="content",[`${b==null?void 0:b.label}`]:s==="label",[`${b==null?void 0:b.content}`]:s==="content"},a),style:c,colSpan:t},Ge(y)&&o.createElement("span",{style:Object.assign(Object.assign({},i),p==null?void 0:p.label)},y),Ge(x)&&o.createElement("span",{style:Object.assign(Object.assign({},i),p==null?void 0:p.content)},x)):o.createElement(j,{className:B(`${n}-item`,a),style:c,colSpan:t},o.createElement("div",{className:`${n}-item-container`},(y||y===0)&&o.createElement("span",{className:B(`${n}-item-label`,b==null?void 0:b.label,{[`${n}-item-no-colon`]:!E}),style:Object.assign(Object.assign({},i),p==null?void 0:p.label)},y),(x||x===0)&&o.createElement("span",{className:B(`${n}-item-content`,b==null?void 0:b.content),style:Object.assign(Object.assign({},g),p==null?void 0:p.content)},x)))};function ge(e,n,r){let{colon:t,prefixCls:a,bordered:c}=n,{component:i,type:g,showLabel:f,showContent:y,labelStyle:x,contentStyle:E,styles:s}=r;return e.map((p,j)=>{let{label:u,children:b,prefixCls:d=a,className:O,style:C,labelStyle:$,contentStyle:I,span:D=1,key:R,styles:v}=p;return typeof i=="string"?o.createElement(be,{key:`${g}-${R||j}`,className:O,style:C,styles:{label:Object.assign(Object.assign(Object.assign(Object.assign({},x),s==null?void 0:s.label),$),v==null?void 0:v.label),content:Object.assign(Object.assign(Object.assign(Object.assign({},E),s==null?void 0:s.content),I),v==null?void 0:v.content)},span:D,colon:t,component:i,itemPrefixCls:d,bordered:c,label:f?u:null,content:y?b:null,type:g}):[o.createElement(be,{key:`label-${R||j}`,className:O,style:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},x),s==null?void 0:s.label),C),$),v==null?void 0:v.label),span:1,colon:t,component:i[0],itemPrefixCls:d,bordered:c,label:u,type:"label"}),o.createElement(be,{key:`content-${R||j}`,className:O,style:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},E),s==null?void 0:s.content),C),I),v==null?void 0:v.content),span:D*2-1,component:i[1],itemPrefixCls:d,bordered:c,content:b,type:"content"})]})}const on=e=>{const n=o.useContext(Se),{prefixCls:r,vertical:t,row:a,index:c,bordered:i}=e;return t?o.createElement(o.Fragment,null,o.createElement("tr",{key:`label-${c}`,className:`${r}-row`},ge(a,e,Object.assign({component:"th",type:"label",showLabel:!0},n))),o.createElement("tr",{key:`content-${c}`,className:`${r}-row`},ge(a,e,Object.assign({component:"td",type:"content",showContent:!0},n)))):o.createElement("tr",{key:c,className:`${r}-row`},ge(a,e,Object.assign({component:i?["th","td"]:"td",type:"item",showLabel:!0,showContent:!0},n)))},sn=e=>{const{componentCls:n,labelBg:r}=e;return{[`&${n}-bordered`]:{[`> ${n}-view`]:{border:`${T(e.lineWidth)} ${e.lineType} ${e.colorSplit}`,"> table":{tableLayout:"auto"},[`${n}-row`]:{borderBottom:`${T(e.lineWidth)} ${e.lineType} ${e.colorSplit}`,"&:last-child":{borderBottom:"none"},[`> ${n}-item-label, > ${n}-item-content`]:{padding:`${T(e.padding)} ${T(e.paddingLG)}`,borderInlineEnd:`${T(e.lineWidth)} ${e.lineType} ${e.colorSplit}`,"&:last-child":{borderInlineEnd:"none"}},[`> ${n}-item-label`]:{color:e.colorTextSecondary,backgroundColor:r,"&::after":{display:"none"}}}},[`&${n}-middle`]:{[`${n}-row`]:{[`> ${n}-item-label, > ${n}-item-content`]:{padding:`${T(e.paddingSM)} ${T(e.paddingLG)}`}}},[`&${n}-small`]:{[`${n}-row`]:{[`> ${n}-item-label, > ${n}-item-content`]:{padding:`${T(e.paddingXS)} ${T(e.padding)}`}}}}}},cn=e=>{const{componentCls:n,extraColor:r,itemPaddingBottom:t,itemPaddingEnd:a,colonMarginRight:c,colonMarginLeft:i,titleMarginBottom:g}=e;return{[n]:Object.assign(Object.assign(Object.assign({},Ce(e)),sn(e)),{"&-rtl":{direction:"rtl"},[`${n}-header`]:{display:"flex",alignItems:"center",marginBottom:g},[`${n}-title`]:Object.assign(Object.assign({},yt),{flex:"auto",color:e.titleColor,fontWeight:e.fontWeightStrong,fontSize:e.fontSizeLG,lineHeight:e.lineHeightLG}),[`${n}-extra`]:{marginInlineStart:"auto",color:r,fontSize:e.fontSize},[`${n}-view`]:{width:"100%",borderRadius:e.borderRadiusLG,table:{width:"100%",tableLayout:"fixed",borderCollapse:"collapse"}},[`${n}-row`]:{"> th, > td":{paddingBottom:t,paddingInlineEnd:a},"> th:last-child, > td:last-child":{paddingInlineEnd:0},"&:last-child":{borderBottom:"none","> th, > td":{paddingBottom:0}}},[`${n}-item-label`]:{color:e.labelColor,fontWeight:"normal",fontSize:e.fontSize,lineHeight:e.lineHeight,textAlign:"start","&::after":{content:'":"',position:"relative",top:-.5,marginInline:`${T(i)} ${T(c)}`},[`&${n}-item-no-colon::after`]:{content:'""'}},[`${n}-item-no-label`]:{"&::after":{margin:0,content:'""'}},[`${n}-item-content`]:{display:"table-cell",flex:1,color:e.contentColor,fontSize:e.fontSize,lineHeight:e.lineHeight,wordBreak:"break-word",overflowWrap:"break-word"},[`${n}-item`]:{paddingBottom:0,verticalAlign:"top","&-container":{display:"flex",[`${n}-item-label`]:{display:"inline-flex",alignItems:"baseline"},[`${n}-item-content`]:{display:"inline-flex",alignItems:"baseline",minWidth:"1em"}}},"&-middle":{[`${n}-row`]:{"> th, > td":{paddingBottom:e.paddingSM}}},"&-small":{[`${n}-row`]:{"> th, > td":{paddingBottom:e.paddingXS}}}})}},dn=e=>({labelBg:e.colorFillAlter,labelColor:e.colorTextTertiary,titleColor:e.colorText,titleMarginBottom:e.fontSizeSM*e.lineHeightSM,itemPaddingBottom:e.padding,itemPaddingEnd:e.padding,colonMarginRight:e.marginXS,colonMarginLeft:e.marginXXS/2,contentColor:e.colorText,extraColor:e.colorText}),un=je("Descriptions",e=>{const n=Oe(e,{});return cn(n)},dn);var mn=function(e,n){var r={};for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&n.indexOf(t)<0&&(r[t]=e[t]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,t=Object.getOwnPropertySymbols(e);a<t.length;a++)n.indexOf(t[a])<0&&Object.prototype.propertyIsEnumerable.call(e,t[a])&&(r[t[a]]=e[t[a]]);return r};const X=e=>{const{prefixCls:n,title:r,extra:t,column:a,colon:c=!0,bordered:i,layout:g,children:f,className:y,rootClassName:x,style:E,size:s,labelStyle:p,contentStyle:j,styles:u,items:b,classNames:d}=e,O=mn(e,["prefixCls","title","extra","column","colon","bordered","layout","children","className","rootClassName","style","size","labelStyle","contentStyle","styles","items","classNames"]),{getPrefixCls:C,direction:$,className:I,style:D,classNames:R,styles:v}=xt("descriptions"),w=C("descriptions",n),P=jt(),F=o.useMemo(()=>{var N;return typeof a=="number"?a:(N=Qe(P,Object.assign(Object.assign({},Qt),a)))!==null&&N!==void 0?N:3},[P,a]),q=tn(P,b,f),M=Ot(s),Y=an(F,q),[G,V,m]=un(w),S=o.useMemo(()=>({labelStyle:p,contentStyle:j,styles:{content:Object.assign(Object.assign({},v.content),u==null?void 0:u.content),label:Object.assign(Object.assign({},v.label),u==null?void 0:u.label)},classNames:{label:B(R.label,d==null?void 0:d.label),content:B(R.content,d==null?void 0:d.content)}}),[p,j,u,d,R,v]);return G(o.createElement(Se.Provider,{value:S},o.createElement("div",Object.assign({className:B(w,I,R.root,d==null?void 0:d.root,{[`${w}-${M}`]:M&&M!=="default",[`${w}-bordered`]:!!i,[`${w}-rtl`]:$==="rtl"},y,x,V,m),style:Object.assign(Object.assign(Object.assign(Object.assign({},D),v.root),u==null?void 0:u.root),E)},O),(r||t)&&o.createElement("div",{className:B(`${w}-header`,R.header,d==null?void 0:d.header),style:Object.assign(Object.assign({},v.header),u==null?void 0:u.header)},r&&o.createElement("div",{className:B(`${w}-title`,R.title,d==null?void 0:d.title),style:Object.assign(Object.assign({},v.title),u==null?void 0:u.title)},r),t&&o.createElement("div",{className:B(`${w}-extra`,R.extra,d==null?void 0:d.extra),style:Object.assign(Object.assign({},v.extra),u==null?void 0:u.extra)},t)),o.createElement("div",{className:`${w}-view`},o.createElement("table",null,o.createElement("tbody",null,Y.map((N,z)=>o.createElement(on,{key:z,index:z,colon:c,prefixCls:w,vertical:g==="vertical",bordered:i,row:N}))))))))};X.Item=ln;var fn={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M536.1 273H488c-4.4 0-8 3.6-8 8v275.3c0 2.6 1.2 5 3.3 6.5l165.3 120.7c3.6 2.6 8.6 1.9 11.2-1.7l28.6-39c2.7-3.7 1.9-8.7-1.7-11.2L544.1 528.5V281c0-4.4-3.6-8-8-8zm219.8 75.2l156.8 38.3c5 1.2 9.9-2.6 9.9-7.7l.8-161.5c0-6.7-7.7-10.5-12.9-6.3L752.9 334.1a8 8 0 003 14.1zm167.7 301.1l-56.7-19.5a8 8 0 00-10.1 4.8c-1.9 5.1-3.9 10.1-6 15.1-17.8 42.1-43.3 80-75.9 112.5a353 353 0 01-112.5 75.9 352.18 352.18 0 01-137.7 27.8c-47.8 0-94.1-9.3-137.7-27.8a353 353 0 01-112.5-75.9c-32.5-32.5-58-70.4-75.9-112.5A353.44 353.44 0 01171 512c0-47.8 9.3-94.2 27.8-137.8 17.8-42.1 43.3-80 75.9-112.5a353 353 0 01112.5-75.9C430.6 167.3 477 158 524.8 158s94.1 9.3 137.7 27.8A353 353 0 01775 261.7c10.2 10.3 19.8 21 28.6 32.3l59.8-46.8C784.7 146.6 662.2 81.9 524.6 82 285 82.1 92.6 276.7 95 516.4 97.4 751.9 288.9 942 524.8 942c185.5 0 343.5-117.6 403.7-282.3 1.5-4.2-.7-8.9-4.9-10.4z"}}]},name:"history",theme:"outlined"},bn={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M908.1 353.1l-253.9-36.9L540.7 86.1c-3.1-6.3-8.2-11.4-14.5-14.5-15.8-7.8-35-1.3-42.9 14.5L369.8 316.2l-253.9 36.9c-7 1-13.4 4.3-18.3 9.3a32.05 32.05 0 00.6 45.3l183.7 179.1-43.4 252.9a31.95 31.95 0 0046.4 33.7L512 754l227.1 119.4c6.2 3.3 13.4 4.4 20.3 3.2 17.4-3 29.1-19.5 26.1-36.9l-43.4-252.9 183.7-179.1c5-4.9 8.3-11.3 9.3-18.3 2.7-17.5-9.5-33.7-27-36.3z"}}]},name:"star",theme:"filled"},gn=function(n,r){return o.createElement(Ct,Ze({},n,{ref:r,icon:bn}))},pn=o.forwardRef(gn);function vn(e,n){var r=e.disabled,t=e.prefixCls,a=e.character,c=e.characterRender,i=e.index,g=e.count,f=e.value,y=e.allowHalf,x=e.focused,E=e.onHover,s=e.onClick,p=function(I){E(I,i)},j=function(I){s(I,i)},u=function(I){I.keyCode===ae.ENTER&&s(I,i)},b=i+1,d=new Set([t]);f===0&&i===0&&x?d.add("".concat(t,"-focused")):y&&f+.5>=b&&f<b?(d.add("".concat(t,"-half")),d.add("".concat(t,"-active")),x&&d.add("".concat(t,"-focused"))):(b<=f?d.add("".concat(t,"-full")):d.add("".concat(t,"-zero")),b===f&&x&&d.add("".concat(t,"-focused")));var O=typeof a=="function"?a(e):a,C=H.createElement("li",{className:B(Array.from(d)),ref:n},H.createElement("div",{onClick:r?null:j,onKeyDown:r?null:u,onMouseMove:r?null:p,role:"radio","aria-checked":f>i?"true":"false","aria-posinset":i+1,"aria-setsize":g,tabIndex:r?-1:0},H.createElement("div",{className:"".concat(t,"-first")},O),H.createElement("div",{className:"".concat(t,"-second")},O)));return c&&(C=c(C,e)),C}const hn=H.forwardRef(vn);function yn(){var e=o.useRef({});function n(t){return e.current[t]}function r(t){return function(a){e.current[t]=a}}return[n,r]}function xn(e){var n=e.pageXOffset,r="scrollLeft";if(typeof n!="number"){var t=e.document;n=t.documentElement[r],typeof n!="number"&&(n=t.body[r])}return n}function jn(e){var n,r,t=e.ownerDocument,a=t.body,c=t&&t.documentElement,i=e.getBoundingClientRect();return n=i.left,r=i.top,n-=c.clientLeft||a.clientLeft||0,r-=c.clientTop||a.clientTop||0,{left:n,top:r}}function On(e){var n=jn(e),r=e.ownerDocument,t=r.defaultView||r.parentWindow;return n.left+=xn(t),n.left}var Cn=["prefixCls","className","defaultValue","value","count","allowHalf","allowClear","keyboard","character","characterRender","disabled","direction","tabIndex","autoFocus","onHoverChange","onChange","onFocus","onBlur","onKeyDown","onMouseLeave"];function Sn(e,n){var r=e.prefixCls,t=r===void 0?"rc-rate":r,a=e.className,c=e.defaultValue,i=e.value,g=e.count,f=g===void 0?5:g,y=e.allowHalf,x=y===void 0?!1:y,E=e.allowClear,s=E===void 0?!0:E,p=e.keyboard,j=p===void 0?!0:p,u=e.character,b=u===void 0?"★":u,d=e.characterRender,O=e.disabled,C=e.direction,$=C===void 0?"ltr":C,I=e.tabIndex,D=I===void 0?0:I,R=e.autoFocus,v=e.onHoverChange,w=e.onChange,P=e.onFocus,F=e.onBlur,q=e.onKeyDown,M=e.onMouseLeave,Y=St(e,Cn),G=yn(),V=ne(G,2),m=V[0],S=V[1],N=H.useRef(null),z=function(){if(!O){var h;(h=N.current)===null||h===void 0||h.focus()}};H.useImperativeHandle(n,function(){return{focus:z,blur:function(){if(!O){var h;(h=N.current)===null||h===void 0||h.blur()}}}});var Q=_e(c||0,{value:i}),Z=ne(Q,2),_=Z[0],ce=Z[1],ee=_e(null),$e=ne(ee,2),ot=$e[0],de=$e[1],Ie=function(h,K){var L=$==="rtl",A=h+1;if(x){var Be=m(h),Le=On(Be),Me=Be.clientWidth;(L&&K-Le>Me/2||!L&&K-Le<Me/2)&&(A-=.5)}return A},te=function(h){ce(h),w==null||w(h)},st=H.useState(!1),we=ne(st,2),it=we[0],Ee=we[1],ct=function(){Ee(!0),P==null||P()},dt=function(){Ee(!1),F==null||F()},ut=H.useState(null),Ne=ne(ut,2),Re=Ne[0],Pe=Ne[1],mt=function(h,K){var L=Ie(K,h.pageX);L!==ot&&(Pe(L),de(null)),v==null||v(L)},De=function(h){O||(Pe(null),de(null),v==null||v(void 0)),h&&(M==null||M(h))},ft=function(h,K){var L=Ie(K,h.pageX),A=!1;s&&(A=L===_),De(),te(A?0:L),de(A?L:null)},bt=function(h){var K=h.keyCode,L=$==="rtl",A=x?.5:1;j&&(K===ae.RIGHT&&_<f&&!L?(te(_+A),h.preventDefault()):K===ae.LEFT&&_>0&&!L||K===ae.RIGHT&&_>0&&L?(te(_-A),h.preventDefault()):K===ae.LEFT&&_<f&&L&&(te(_+A),h.preventDefault())),q==null||q(h)};H.useEffect(function(){R&&!O&&z()},[]);var gt=new Array(f).fill(0).map(function(W,h){return H.createElement(hn,{ref:S(h),index:h,count:f,disabled:O,prefixCls:"".concat(t,"-star"),allowHalf:x,value:Re===null?_:Re,onClick:ft,onHover:mt,key:W||h,character:b,characterRender:d,focused:it})}),pt=B(t,a,Te(Te({},"".concat(t,"-disabled"),O),"".concat(t,"-rtl"),$==="rtl"));return H.createElement("ul",Ze({className:pt,onMouseLeave:De,tabIndex:O?-1:D,onFocus:O?null:ct,onBlur:O?null:dt,onKeyDown:O?null:bt,ref:N},xe(Y,{aria:!0,data:!0,attr:!0})),gt)}const $n=H.forwardRef(Sn),In=e=>{const{componentCls:n}=e;return{[`${n}-star`]:{position:"relative",display:"inline-block",color:"inherit",cursor:"pointer","&:not(:last-child)":{marginInlineEnd:e.marginXS},"> div":{transition:`all ${e.motionDurationMid}, outline 0s`,"&:hover":{transform:e.starHoverScale},"&:focus":{outline:0},"&:focus-visible":{outline:`${T(e.lineWidth)} dashed ${e.starColor}`,transform:e.starHoverScale}},"&-first, &-second":{color:e.starBg,transition:`all ${e.motionDurationMid}`,userSelect:"none"},"&-first":{position:"absolute",top:0,insetInlineStart:0,width:"50%",height:"100%",overflow:"hidden",opacity:0},[`&-half ${n}-star-first, &-half ${n}-star-second`]:{opacity:1},[`&-half ${n}-star-first, &-full ${n}-star-second`]:{color:"inherit"}}}},wn=e=>({[`&-rtl${e.componentCls}`]:{direction:"rtl"}}),En=e=>{const{componentCls:n}=e;return{[n]:Object.assign(Object.assign(Object.assign(Object.assign({},Ce(e)),{display:"inline-block",margin:0,padding:0,color:e.starColor,fontSize:e.starSize,lineHeight:1,listStyle:"none",outline:"none",[`&-disabled${n} ${n}-star`]:{cursor:"default","> div:hover":{transform:"scale(1)"}}}),In(e)),wn(e))}},Nn=e=>({starColor:e.yellow6,starSize:e.controlHeightLG*.5,starHoverScale:"scale(1.1)",starBg:e.colorFillContent}),Rn=je("Rate",e=>{const n=Oe(e,{});return[En(n)]},Nn);var Pn=function(e,n){var r={};for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&n.indexOf(t)<0&&(r[t]=e[t]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,t=Object.getOwnPropertySymbols(e);a<t.length;a++)n.indexOf(t[a])<0&&Object.prototype.propertyIsEnumerable.call(e,t[a])&&(r[t[a]]=e[t[a]]);return r};const Dn=o.forwardRef((e,n)=>{const{prefixCls:r,className:t,rootClassName:a,style:c,tooltips:i,character:g=o.createElement(pn,null),disabled:f}=e,y=Pn(e,["prefixCls","className","rootClassName","style","tooltips","character","disabled"]),x=(I,D)=>{let{index:R}=D;return i?o.createElement(It,{title:i[R]},I):I},{getPrefixCls:E,direction:s,rate:p}=o.useContext(se),j=E("rate",r),[u,b,d]=Rn(j),O=Object.assign(Object.assign({},p==null?void 0:p.style),c),C=o.useContext($t),$=f??C;return u(o.createElement($n,Object.assign({ref:n,character:g,characterRender:x,disabled:$},y,{className:B(t,a,b,d,p==null?void 0:p.className),style:O,prefixCls:j,direction:s})))});function ye(){return ye=Object.assign?Object.assign.bind():function(e){for(var n=1;n<arguments.length;n++){var r=arguments[n];for(var t in r)Object.prototype.hasOwnProperty.call(r,t)&&(e[t]=r[t])}return e},ye.apply(this,arguments)}const Bn=(e,n)=>o.createElement(wt,ye({},e,{ref:n,icon:fn})),Ln=o.forwardRef(Bn),{Title:ke,Text:pe,Paragraph:Ye}=Dt,{TabPane:Ue}=tt,{TextArea:Mn}=oe,Je=nt(et)`
  margin-bottom: 24px;
`,_n=nt.div`
  background-color: #f0f2f5;
  border: 1px dashed #d9d9d9;
  height: 300px;
  display: flex;
  align-items: center;
  justify-content: center;
  margin-bottom: 16px;
`,Zn=()=>{const{id:e}=Et(),n=Nt(),{books:r,updateBook:t,deleteBook:a,authors:c,publishers:i,categories:g,loans:f,addLoan:y,updateLoan:x,createLoanModel:E}=Rt(),[s,p]=o.useState(null),[j,u]=o.useState(!1),[b]=k.useForm(),[d,O]=o.useState([]),[C,$]=o.useState([]),[I,D]=o.useState(!0);o.useEffect(()=>{const m=r.find(S=>S.id===e);if(m){p(m);const S=f.filter(z=>z.bookId===e);O(S);const N=S.filter(z=>z.status==="active");$(N)}D(!1)},[e,r,f]);const R=m=>{const S=c.find(N=>N.id===m);return S?S.name:"לא ידוע"},v=m=>{const S=i.find(N=>N.id===m);return S?S.name:"לא ידוע"},w=m=>!m||!m.length?[]:m.map(S=>{const N=g.find(z=>z.id===S);return N?{name:N.name,color:N.color}:null}).filter(Boolean),P=()=>{n(`/books?edit=${e}`)},F=async()=>{if(C.length>0){Ae.error({title:"לא ניתן למחוק ספר",content:"לא ניתן למחוק ספר שיש לו השאלות פעילות. אנא החזר את כל ההשאלות ונסה שוב."});return}await a(e),n("/books")},q=()=>{b.resetFields(),b.setFieldsValue({bookId:e,loanDate:re(),dueDate:re().add(14,"day")}),u(!0)},M=()=>{u(!1),b.resetFields()},Y=async m=>{const S={...m,loanDate:m.loanDate.toISOString(),dueDate:m.dueDate.toISOString(),returnDate:null,status:"active"};await y(S),u(!1),b.resetFields()},G=async m=>{await x(m,{returnDate:new Date().toISOString(),status:"returned"})};if(!I&&!s)return l.jsx(et,{children:l.jsx(ue,{message:"ספר לא נמצא",description:"הספר המבוקש לא נמצא במערכת",type:"error",showIcon:!0,action:l.jsx(U,{type:"primary",onClick:()=>n("/books"),children:"חזרה לרשימת הספרים"})})});const V=m=>m?re(m).format("DD/MM/YYYY"):"-";return l.jsx("div",{children:s&&l.jsxs(l.Fragment,{children:[l.jsxs(J,{style:{marginBottom:16},children:[l.jsx(J.Item,{children:l.jsxs(le,{to:"/",children:[l.jsx(Pt,{})," דף הבית"]})}),l.jsx(J.Item,{children:l.jsxs(le,{to:"/books",children:[l.jsx(He,{})," ספרים"]})}),l.jsx(J.Item,{children:s.title})]}),l.jsxs(Je,{children:[l.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"flex-start",marginBottom:24},children:[l.jsx(ke,{level:2,children:s.title}),l.jsxs(ze,{children:[l.jsx(U,{type:"primary",icon:l.jsx(Bt,{}),onClick:q,disabled:C.length>0,children:"השאל ספר"}),l.jsx(U,{icon:l.jsx(Ht,{}),onClick:P,children:"עריכה"}),l.jsx(Ve,{title:"האם אתה בטוח שברצונך למחוק ספר זה?",onConfirm:F,okText:"כן",cancelText:"לא",children:l.jsx(U,{icon:l.jsx(zt,{}),danger:!0,children:"מחיקה"})})]})]}),l.jsxs("div",{style:{display:"flex",flexDirection:"row",gap:24,flexWrap:"wrap"},children:[l.jsxs("div",{style:{flex:"0 0 250px"},children:[s.coverImage?l.jsx("img",{src:s.coverImage,alt:s.title,style:{width:"100%",maxHeight:300,objectFit:"contain"}}):l.jsx(_n,{children:l.jsx(He,{style:{fontSize:64,opacity:.5}})}),l.jsxs("div",{children:[s.rating&&l.jsx("div",{style:{textAlign:"center",margin:"16px 0"},children:l.jsx(Dn,{disabled:!0,defaultValue:s.rating})}),C.length>0?l.jsx(ue,{message:"הספר מושאל",description:`הספר מושאל ל${C[0].borrowerName}`,type:"warning",showIcon:!0}):l.jsx(ue,{message:"הספר זמין",description:"הספר אינו מושאל כרגע",type:"success",showIcon:!0})]})]}),l.jsxs("div",{style:{flex:"1 1 400px"},children:[l.jsxs(X,{bordered:!0,column:1,size:"middle",children:[l.jsx(X.Item,{label:"מחבר",children:l.jsxs(le,{to:`/authors?filter=${s.author}`,children:[l.jsx(Xe,{})," ",R(s.author)]})}),s.publisher&&l.jsx(X.Item,{label:"הוצאה לאור",children:l.jsx(le,{to:`/publishers?filter=${s.publisher}`,children:v(s.publisher)})}),s.isbn&&l.jsx(X.Item,{label:"מסת״ב",children:s.isbn}),s.publicationYear&&l.jsx(X.Item,{label:"שנת הוצאה",children:s.publicationYear}),s.language&&l.jsx(X.Item,{label:"שפה",children:s.language}),s.pageCount&&l.jsx(X.Item,{label:"מספר עמודים",children:s.pageCount}),s.location&&l.jsx(X.Item,{label:"מיקום בספרייה",children:s.location}),s.acquisitionDate&&l.jsx(X.Item,{label:"תאריך רכישה",children:V(s.acquisitionDate)}),s.acquisitionMethod&&l.jsx(X.Item,{label:"שיטת רכישה",children:s.acquisitionMethod}),s.categories&&s.categories.length>0&&l.jsx(X.Item,{label:"קטגוריות",children:l.jsx(ze,{wrap:!0,children:w(s.categories).map((m,S)=>l.jsx(We,{color:m.color,children:m.name},S))})})]}),s.description&&l.jsxs("div",{style:{marginTop:24},children:[l.jsx(ke,{level:4,children:"תקציר"}),l.jsx(Ye,{children:s.description})]})]})]})]}),l.jsx(Je,{children:l.jsxs(tt,{defaultActiveKey:"loans",children:[l.jsx(Ue,{tab:l.jsxs("span",{children:[l.jsx(Ln,{})," היסטוריית השאלות"]}),children:d.length>0?l.jsx(me,{dataSource:d.sort((m,S)=>new Date(S.loanDate)-new Date(m.loanDate)),renderItem:m=>l.jsxs(me.Item,{actions:[m.status==="active"&&l.jsx(Ve,{title:"האם להחזיר את הספר?",onConfirm:()=>G(m.id),okText:"כן",cancelText:"לא",children:l.jsxs(U,{type:"primary",size:"small",children:[l.jsx(Lt,{})," החזר ספר"]})},"return-action")].filter(Boolean),children:[l.jsx(me.Item.Meta,{avatar:l.jsx(Ft,{status:m.status==="active"?re(m.dueDate).isBefore(re())?"error":"processing":"default",children:l.jsx(Vt,{icon:l.jsx(Xe,{})})}),title:m.borrowerName,description:l.jsxs(l.Fragment,{children:[l.jsxs(pe,{children:[l.jsx(fe,{})," הושאל ב:"," ",V(m.loanDate)]}),l.jsx("br",{}),l.jsxs(pe,{children:[l.jsx(fe,{})," תאריך יעד להחזרה:"," ",V(m.dueDate)]}),m.returnDate&&l.jsxs(l.Fragment,{children:[l.jsx("br",{}),l.jsxs(pe,{children:[l.jsx(fe,{})," הוחזר ב:"," ",V(m.returnDate)]})]})]})}),l.jsx("div",{children:l.jsx(We,{color:m.status==="active"?"blue":"green",children:m.status==="active"?"פעיל":"הוחזר"})})]})}):l.jsx(Fe,{description:"אין היסטוריית השאלות לספר זה"})},"loans"),l.jsx(Ue,{tab:l.jsxs("span",{children:[l.jsx(Mt,{})," הערות"]}),children:s.notes?l.jsx(Ye,{children:s.notes}):l.jsx(Fe,{description:"אין הערות לספר זה"})},"notes")]})}),l.jsx(Ae,{title:"השאלת ספר",open:j,onCancel:M,footer:null,destroyOnClose:!0,children:l.jsxs(k,{form:b,layout:"vertical",onFinish:Y,initialValues:E(),children:[l.jsx(k.Item,{name:"bookId",hidden:!0,children:l.jsx(oe,{})}),l.jsx(k.Item,{name:"borrowerName",label:"שם השואל",rules:[{required:!0,message:"נא להזין את שם השואל"}],children:l.jsx(oe,{placeholder:"הזן את שם השואל"})}),l.jsx(k.Item,{name:"borrowerContact",label:"פרטי קשר",rules:[{required:!0,message:"נא להזין פרטי קשר"}],children:l.jsx(oe,{placeholder:"טלפון / אימייל"})}),l.jsx(k.Item,{name:"loanDate",label:"תאריך השאלה",rules:[{required:!0,message:"נא לבחור תאריך השאלה"}],children:l.jsx(Ke,{style:{width:"100%"}})}),l.jsx(k.Item,{name:"dueDate",label:"תאריך החזרה",rules:[{required:!0,message:"נא לבחור תאריך החזרה"}],children:l.jsx(Ke,{style:{width:"100%"}})}),l.jsx(k.Item,{name:"notes",label:"הערות",children:l.jsx(Mn,{placeholder:"הערות נוספות",rows:3})}),l.jsxs("div",{style:{display:"flex",justifyContent:"flex-end",gap:16},children:[l.jsx(U,{onClick:M,children:"ביטול"}),l.jsx(U,{type:"primary",htmlType:"submit",children:"השאל"})]})]})})]})})};export{Zn as default};
//# sourceMappingURL=BookDetails-ooWxUB3b.js.map
